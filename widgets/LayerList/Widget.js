// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/widgets/LayerList":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/i18n!../nls/common dojo/i18n!./LayerList/nls/LayerList ../core/Handles ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./LayerList/LayerListViewModel ./support/widget".split(" "),function(v,t,n,a,q,e,p,r,g,m,k,d){function w(a){var d=a.children;a.actionsOpen&&(a.actionsOpen=!1);d.forEach(function(b){return w(b)})}var l=v.toUrl("./LayerList/images/default-action.svg");
return function(m){function c(){var b=m.call(this)||this;b._handles=new p;b.iconClass="esri-icon-layers";b.statusIndicatorsVisible=!0;b.label=e.widgetLabel;b.listItemCreatedFunction=null;b.operationalItems=null;b.view=null;b.viewModel=new k;return b}n(c,m);c.prototype.postInitialize=function(){var b=this,u=this.operationalItems;this.own(r.on(this,"operationalItems","change",function(){return b._itemsChanged(u)}))};c.prototype.destroy=function(){this._handles.destroy();this._handles=null};c.prototype.triggerAction=
function(b,u){};c.prototype.render=function(){var b=this,u=this._getItems(),h=this.get("viewModel.state"),u=0===u.length?d.tsx("div",{class:"esri-layer-list__no-items"},e.noItemsToDisplay):d.tsx("ul",{class:d.join("esri-layer-list__list","esri-layer-list__list--root","esri-layer-list__list--independent")},u.map(function(a,u){return b._renderItem(a,null)})),h=(a={},a["esri-hidden"]="loading"===h,a["esri-disabled"]="disabled"===h,a);return d.tsx("div",{class:"esri-layer-list esri-widget esri-widget--panel",
classes:h},u);var a};c.prototype._getItems=function(){var b=this;return this.operationalItems.toArray().filter(function(a){return b.errorsVisible||!a.error})};c.prototype._renderItem=function(b,a){var h=this,u=this.id+"_"+b.uid,c=u+"_actions",l=u+"__list",u=u+"__title",m=!!b.children.length,g=!!b.error,r=g?e.layerError:"",f=b.visibilityMode,y=b.children&&b.children.toArray(),A=(z={},z["esri-layer-list__list--exclusive"]="exclusive"===f,z["esri-layer-list__list--inherited"]="inherited"===f,z["esri-layer-list__list--independent"]=
"inherited"!==f&&"exclusive"!==f,z),z=(k={},k["esri-layer-list__item--has-children"]=m,k["esri-layer-list__item--error"]=!!r,k["esri-layer-list__item--updating"]=b.updating&&!a&&this.statusIndicatorsVisible,k["esri-layer-list__item--invisible-at-scale"]=!b.visibleAtCurrentScale,k),B=this._countActions(b.actionsSections),x=b.panel,k=x&&x.open?x.render():null,x=x&&x.visible?this._renderPanelButton(x):null,p=(w={},w["esri-layer-list__item-actions-menu-item--active"]=b.actionsOpen,w),w=b.actionsOpen?
q.close:q.open,w=B?d.tsx("div",{key:"esri-layer-list__actions-menu-toggle","data-item":b,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:"esri-layer-list__item-actions-menu-item",classes:p,tabindex:"0",role:"button","aria-controls":c,"aria-label":w,title:w},d.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null,w=B||x?d.tsx("div",{key:"esri-layer-list__actions-menu",class:"esri-layer-list__item-actions-menu"},x,w):null,c=B?this._renderActionsSections(b,
b.actionsSections,c):null,f=m?d.tsx("ul",{key:"esri-layer-list__list-items",id:l,class:"esri-layer-list__list",classes:A,"aria-expanded":b.open?"true":"false",role:"exclusive"===f?"radiogroup":"group",hidden:b.open?null:!0},y.map(function(A,a){return h._renderItem(A,b)})):null,y=(n={},n["esri-layer-list__child-toggle--open"]=b.open,n),n=b.open?q.collapse:q.expand,l=m?d.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":b,key:"esri-layer-list__toggle-children",
class:"esri-layer-list__child-toggle",classes:y,tabindex:"0",role:"button","aria-controls":l,"aria-label":n,title:n},d.tsx("span",{"aria-hidden":"true",class:d.join("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),d.tsx("span",{"aria-hidden":"true",class:d.join("esri-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),d.tsx("span",{"aria-hidden":"true",class:d.join("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null;
a=this._createLabelNode(b,a,u);g=g?d.tsx("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-error-message",role:"alert"},d.tsx("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}),d.tsx("span",null,r)):null;return d.tsx("li",{key:b,class:"esri-layer-list__item",classes:z,"aria-labelledby":u},d.tsx("div",{key:"esri-layer-list__list-item-container",class:"esri-layer-list__item-container"},l,a,w),g,c,k,f);var z,k,w,n};c.prototype._createLabelNode=function(b,a,h){a=a&&a.visibilityMode;
var u=(c={},c["esri-icon-radio-checked"]="exclusive"===a&&b.visible,c["esri-icon-radio-unchecked"]="exclusive"===a&&!b.visible,c["esri-icon-visible"]="exclusive"!==a&&b.visible,c["esri-icon-non-visible"]="exclusive"!==a&&!b.visible,c),c="exclusive"===a?"radio":"checkbox",l=b.title||e.untitledLayer,g=b.visibleAtCurrentScale?l:l+" ("+e.layerInvisibleAtScale+")",l=d.tsx("span",{id:h,title:g,"aria-label":g,class:"esri-layer-list__item-title"},l);return"inherited"===a?d.tsx("div",{key:b,class:"esri-layer-list__item-label"},
l):d.tsx("div",{key:b,onclick:this._labelClick,onkeydown:this._labelClick,"data-item":b,"data-parent-visibility":a,tabindex:"0","aria-checked":b.visible?"true":"false",role:c,"aria-labelledby":h,class:"esri-layer-list__item-label"},d.tsx("span",{class:"esri-layer-list__item-toggle"},d.tsx("span",{class:"esri-layer-list__item-toggle-icon","aria-hidden":"true",classes:u})),l);var c};c.prototype._renderPanelButton=function(b){var a=b.className,h=b.open,c=b.title,l=this._getIconImageStyles(b),h=(e={},
e["esri-layer-list__item-actions-menu-item--active"]=h,e),a=(g={},g[a]=!!a,g["esri-layer-list__item-action-image"]=!!l["background-image"],g);return d.tsx("div",{key:b,bind:this,"data-panel":b,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:"esri-layer-list__item-actions-menu-item",classes:h,role:"button",tabindex:"0",title:c,"aria-label":c},d.tsx("span",{classes:a,styles:l}));var e,g};c.prototype._watchActionSectionChanges=function(b,a){var h=this,u="action-section"+a;this._handles.add(b.on("change",
this.scheduleRender.bind(this)),u);b.forEach(function(b){return h._renderOnActionChanges(b,a)})};c.prototype._renderOnActionChanges=function(b,a){var h=this;a="actions"+a;this._handles.add([r.init(b,"className, image, id, title, visible",function(){return h.scheduleRender()})],a)};c.prototype._renderOnItemChanges=function(b){var a=this,h=b.uid,c="items"+h;this._handles.add([r.init(b,"actionsOpen visible open updating title visibleAtCurrentScale error visibilityMode panel panel.title panel.content panel.className".split(" "),
function(){return a.scheduleRender()}),b.actionsSections.on("change",function(){return a.scheduleRender()}),b.children.on("change",function(){return a.scheduleRender()})],c);b.children.forEach(function(b){return a._renderOnItemChanges(b)});b.actionsSections.forEach(function(b){return a._watchActionSectionChanges(b,h)})};c.prototype._itemsChanged=function(b){var a=this;this._handles.removeAll();b.forEach(function(b){return a._renderOnItemChanges(b)});this.scheduleRender()};c.prototype._renderActionsSections=
function(b,a,h){var c=this;a=a.toArray().map(function(a){return d.tsx("ul",{key:a,class:"esri-layer-list__item-actions-list"},c._renderActionSection(b,a))});return d.tsx("div",{role:"group","aria-expanded":b.actionsOpen?"true":"false",key:"esri-layer-list__actions-section",id:h,class:"esri-layer-list__item-actions",hidden:b.actionsOpen?null:!0},a)};c.prototype._renderActionSection=function(b,a){var h=this;return(a&&a.toArray()).map(function(a){return h._renderAction(b,a)})};c.prototype._renderAction=
function(b,a){var h=this._getIconImageStyles(a),c=(l={},l[a.className]=!!a.className,l["esri-layer-list__item-action-image"]=!!h["background-image"],l);return d.tsx("li",{bind:this,"data-item":b,"data-action":a,key:a,onclick:this._triggerAction,onkeydown:this._triggerAction,class:"esri-layer-list__item-action",tabindex:"0",role:"button",title:a.title,"aria-label":a.title},d.tsx("span",{"aria-hidden":"true",class:"esri-layer-list__item-action-icon",classes:c,styles:h}),d.tsx("span",{class:"esri-layer-list__item-action-title"},
a.title));var l};c.prototype._countActions=function(b){return b.reduce(function(b,a){return b+a.length},0)};c.prototype._getIconImageStyles=function(b){var a=b.image||null;b.className||a||(a=l);return{"background-image":a?'url("'+a+'")':null}};c.prototype._toggleActionsOpen=function(b){b=b.currentTarget["data-item"];var a=!b.actionsOpen;a&&this.operationalItems.forEach(function(b){return w(b)});b.actionsOpen=a};c.prototype._triggerPanel=function(b){if(b=b.currentTarget["data-panel"])b.open=!b.open};
c.prototype._triggerAction=function(b){b=b.currentTarget;this.triggerAction(b["data-action"],b["data-item"])};c.prototype._labelClick=function(b){var a=b.currentTarget;b=a.getAttribute("data-parent-visibility");a=a["data-item"];"exclusive"===b&&a.visible||(a.visible=!a.visible)};c.prototype._toggleChildrenClick=function(b){b=b.currentTarget["data-item"];b.open=!b.open};a([g.property()],c.prototype,"iconClass",void 0);a([g.property(),d.renderable()],c.prototype,"statusIndicatorsVisible",void 0);a([g.property(),
d.renderable()],c.prototype,"errorsVisible",void 0);a([g.property()],c.prototype,"label",void 0);a([g.aliasOf("viewModel.listItemCreatedFunction"),d.renderable()],c.prototype,"listItemCreatedFunction",void 0);a([g.aliasOf("viewModel.operationalItems"),d.renderable()],c.prototype,"operationalItems",void 0);a([g.aliasOf("viewModel.view"),d.renderable()],c.prototype,"view",void 0);a([d.vmEvent("trigger-action"),g.property({type:k}),d.renderable("viewModel.state")],c.prototype,"viewModel",void 0);a([g.aliasOf("viewModel.triggerAction")],
c.prototype,"triggerAction",null);a([d.accessibleHandler()],c.prototype,"_toggleActionsOpen",null);a([d.accessibleHandler()],c.prototype,"_triggerPanel",null);a([d.accessibleHandler()],c.prototype,"_triggerAction",null);a([d.accessibleHandler()],c.prototype,"_labelClick",null);a([d.accessibleHandler()],c.prototype,"_toggleChildrenClick",null);return c=a([g.subclass("esri.widgets.LayerList")],c)}(g.declared(m))})},"esri/widgets/LayerList/LayerListViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper dojo/debounce ../../core/Accessor ../../core/Collection ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/accessorSupport/decorators ./ListItem ./support/layerListUtils".split(" "),
function(v,t,n,a,q,e,p,r,g,m,k,d,w){var l=p.ofType(d);return function(e){function c(b){var a=e.call(this)||this;a._handles=new g;a.listItemCreatedFunction=null;a.operationalItems=new l;a.view=null;a._handles.add(m.init(a,"view",function(){return a._viewHandles()}),"view");a._compileList=q(a._compileList,0);return a}n(c,e);c.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null;this.operationalItems.removeAll()};Object.defineProperty(c.prototype,"state",{get:function(){var b=
this.get("view");return this.get("view.ready")?"ready":b?"loading":"disabled"},enumerable:!0,configurable:!0});c.prototype.triggerAction=function(b,a){b&&this.emit("trigger-action",{action:b,item:a})};c.prototype._createMapHandles=function(b){var a=this,h=this._handles;h.remove("map");var c=b&&b.get("map.layers");c&&(c=c.on("change",function(){return a._compileList(b)}),h.add(c,"map"))};c.prototype._resetMapItems=function(b){this._createMapHandles(b);this._compileList(b)};c.prototype._watchItemProperties=
function(b){var a=this;this._handles.add([b.children.on("change",function(){a._modifyListItemChildren(b.children)})],"children-change-"+b.uid)};c.prototype._modifyListItemChildren=function(b){var a=this;b.forEach(function(b){return a._modifyListItem(b)})};c.prototype._modifyListItem=function(b){"function"===typeof this.listItemCreatedFunction&&this.listItemCreatedFunction.call(null,{item:b});this._modifyListItemChildren(b.children)};c.prototype._createListItem=function(b){b=new d({layer:b,view:this.view});
this._watchItemProperties(b);return b};c.prototype._removeAllItems=function(){var b=this._handles,a=this.operationalItems;a.forEach(function(a){b.remove("children-change-"+a.uid)});a.removeAll()};c.prototype._compileList=function(a){var b=this;if(!this.destroyed){var h=this._handles,c=this.operationalItems,l=a&&a.get("map.layers");if(l){var d=l.filter(function(a){return"hide"!==w.findLayerListMode(a)});h.remove("layer-list-mode");l.forEach(function(c){h.add(m.watch(c,"listMode",function(){return b._compileList(a)}),
"layer-list-mode")});this._createNewItems(c,d);this._modifyItems(c,d);this._sortItems(c,d)}else this._removeAllItems()}};c.prototype._createNewItems=function(a,c){var b=this;c.forEach(function(c){a.find(function(a){return a.layer===c})||a.add(b._createListItem(c))})};c.prototype._modifyItems=function(a,c){var b=this,l=this._handles;a.forEach(function(h){h&&(c.find(function(a){return h.layer===a})?b._modifyListItem(h):(l.remove("children-change-"+h.uid),a.remove(h)))})};c.prototype._sortItems=function(a,
c){a.sort(function(a,b){a=c.indexOf(a.layer);b=c.indexOf(b.layer);return a>b?-1:a<b?1:0})};c.prototype._viewHandles=function(){var a=this,c=this._handles,h=this.view;c.remove("layers");c.remove("layer-list-mode");this._resetMapItems(h);h&&h.when(function(){c.add([m.init(h,"map",function(){return a._resetMapItems(h)}),h.layerViews.on("change",function(){return a._compileList(h)}),m.init(a,"listItemCreatedFunction",function(){return a._compileList(h)})],"layers")})};a([k.property()],c.prototype,"listItemCreatedFunction",
void 0);a([k.property({type:l})],c.prototype,"operationalItems",void 0);a([k.property({dependsOn:["view.ready"],readOnly:!0})],c.prototype,"state",null);a([k.property()],c.prototype,"view",void 0);a([k.property()],c.prototype,"triggerAction",null);return c=a([k.subclass("esri.widgets.LayerList.LayerListViewModel")],c)}(k.declared(e,r))})},"esri/widgets/LayerList/ListItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Collection ../../core/Handles ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/Sublayer ../../support/Action ./ListItemPanel ./support/layerListUtils".split(" "),
function(v,t,n,a,q,e,p,r,g,m,k,d,w,l){var y=e.ofType(e.ofType(d));return function(c){function b(a){a=c.call(this)||this;a._handles=new p;a.actionsSections=new y;a.actionsOpen=!1;a.children=new (e.ofType(d));a.error=null;a.layer=null;a.open=!1;a.panel=null;a.parent=null;a.view=null;a.visible=null;return a}n(b,c);d=b;b.prototype.initialize=function(){var a=this;this._handles.add([g.init(this,"layer",function(b){return a._watchLayerProperties(b)}),g.init(this,"view",function(b){return a._updateChildren(b)}),
g.init(this,"panel",function(b){return a._setListItemOnPanel(b)})])};b.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null};Object.defineProperty(b.prototype,"layerView",{get:function(){return this._findLayerView(this.layer)||null},enumerable:!0,configurable:!0});b.prototype.castPanel=function(a){this.get("panel.open")&&!a.hasOwnProperty("open")&&(a.open=!0);return a?new w(a):null};Object.defineProperty(b.prototype,"title",{get:function(){var a=this.get("layer.layer");
return(!a||a&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(a){void 0===a?this._clearOverride("title"):this._override("title",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"updating",{get:function(){var a=this.layerView;return a?a.updating:this._isLayerUpdating(this.layer)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visibleAtCurrentScale",{get:function(){return!l.isLayerOutsideScaleRange(this.layer,this.get("view.scale"))},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visibilityMode",{get:function(){return l.findLayerVisibilityMode(this.layer)||"independent"},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new d({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})};b.prototype._setListItemOnPanel=function(a){a&&(a.listItem=
this)};b.prototype._updateChildren=function(a){var b=this.children;b&&b.forEach(function(b){return b.view=a})};b.prototype._addChildren=function(a){var b=this;this.children.removeAll();if(a){var c=[];a.forEach(function(a){l.canDisplayLayer(a)&&(a=new d({layer:a,parent:b,view:b.view}),c.unshift(a))});this.children.addMany(c)}};b.prototype._watchSublayerChanges=function(a){var b=this;a&&this._handles.add(a.on("change",function(){b._addChildren(a)}),"layer")};b.prototype._initializeChildLayers=function(a){this._addChildren(a);
this._watchSublayerChanges(a)};b.prototype._watchLayerProperties=function(a){var b=this;if(this._handles&&(this._handles.remove("layer"),a)){var c=l.getNormalizedChildLayerProperty(a);c&&this._handles.add(g.init(a,c,function(){a.hasOwnProperty(c)&&b._initializeChildLayers(a[c])}),"layer")}};b.prototype._findLayerView=function(a){if(a){var b=this.get("view.allLayerViews");if(b)return b.find(function(b){return b.layer===a})}};b.prototype._isLayerUpdating=function(a){return a instanceof k?!1:"loading"===
a.loadStatus};a([m.property({type:y})],b.prototype,"actionsSections",void 0);a([m.property()],b.prototype,"actionsOpen",void 0);a([m.property({type:e})],b.prototype,"children",void 0);a([m.aliasOf("layer.loadError")],b.prototype,"error",void 0);a([m.property()],b.prototype,"layer",void 0);a([m.property({dependsOn:["layer","view"],readOnly:!0})],b.prototype,"layerView",null);a([m.property()],b.prototype,"open",void 0);a([m.property({type:w})],b.prototype,"panel",void 0);a([m.cast("panel")],b.prototype,
"castPanel",null);a([m.property()],b.prototype,"parent",void 0);a([m.property({dependsOn:["layer.layer.loaded","layer.title"]})],b.prototype,"title",null);a([m.property({dependsOn:["layer.loadStatus","layerView.updating"],readOnly:!0})],b.prototype,"updating",null);a([m.property({value:null})],b.prototype,"view",void 0);a([m.aliasOf("layer.visible")],b.prototype,"visible",void 0);a([m.property({dependsOn:["layer.minScale","layer.maxScale","view.scale"],readOnly:!0})],b.prototype,"visibleAtCurrentScale",
null);a([m.property({dependsOn:["layer.visibilityMode"],readOnly:!0})],b.prototype,"visibilityMode",null);return b=d=a([m.subclass("esri.widgets.LayerList.ListItem")],b);var d}(m.declared(q,r))})},"esri/layers/support/Sublayer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/paramHelper dojo/io-query ../../PopupTemplate ../../core/Collection ../../core/JSONSupport ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../core/accessorSupport/write ../FeatureLayer ./LabelClass ./layerSourceUtils ../../renderers/support/jsonUtils ../../renderers/support/typeUtils ../../symbols/Symbol3D ../../tasks/QueryTask ../../tasks/support/Query".split(" "),
function(v,t,n,a,q,e,p,r,g,m,k,d,w,l,y,c,b,u,h,F,E,C){var D=k.getLogger("esri.layers.support.Sublayer"),G=0;return function(g){function f(){var a=null!==g&&g.apply(this,arguments)||this;a._sublayersHandles=null;a.popupEnabled=!0;return a}n(f,g);k=f;Object.defineProperty(f.prototype,"definitionExpression",{get:function(){return this._get("definitionExpression")},set:function(a){this._setAndNotifyLayer("definitionExpression",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"id",
{get:function(){var a=this._get("id");return null==a?G++:a},set:function(a){this._set("id",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"labelingInfo",{get:function(){return this._get("labelingInfo")},set:function(a){this._setAndNotifyLayer("labelingInfo",a)},enumerable:!0,configurable:!0});f.prototype.writeLabelingInfo=function(a,b,c,d){(!d||d.writeAsDynamic)&&a&&a.length&&(b.layerDefinition={drawingInfo:{labelingInfo:a.map(function(a){return a.write({},d)})}})};Object.defineProperty(f.prototype,
"labelsVisible",{get:function(){return this._get("labelsVisible")},set:function(a){this._setAndNotifyLayer("labelsVisible",a)},enumerable:!0,configurable:!0});f.prototype.writeLabelsVisible=function(a,b,c,d){if(!d||d.writeAsDynamic)b.showLabels=a};Object.defineProperty(f.prototype,"legendEnabled",{get:function(){return this._get("legendEnabled")},set:function(a){this._set("legendEnabled",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"layer",{set:function(a){this._set("layer",
a);this.sublayers&&this.sublayers.forEach(function(b){return b.layer=a})},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"minScale",{get:function(){return this._get("minScale")},set:function(a){this._set("minScale",a)},enumerable:!0,configurable:!0});f.prototype.readMinScale=function(a,b){return b.minScale||b.layerDefinition&&b.layerDefinition.minScale||0};f.prototype.writeMinScale=function(a,b,c,d){if(d&&d.writeOverridesOnly&&(c=d&&d.serviceSublayer)&&c.minScale===a&&c.maxScale===
this.maxScale)return;b.minScale=a};Object.defineProperty(f.prototype,"maxScale",{get:function(){return this._get("maxScale")},set:function(a){this._set("maxScale",a)},enumerable:!0,configurable:!0});f.prototype.readMaxScale=function(a,b){return b.maxScale||b.layerDefinition&&b.layerDefinition.maxScale||0};f.prototype.writeMaxScale=function(a,b,c,d){if(d&&d.writeOverridesOnly&&(c=d&&d.serviceSublayer)&&c.maxScale===a&&c.minScale===this.minScale)return;b.maxScale=a};Object.defineProperty(f.prototype,
"opacity",{get:function(){return this._get("opacity")},set:function(a){this._setAndNotifyLayer("opacity",a)},enumerable:!0,configurable:!0});f.prototype.readOpacity=function(a,b){a=b.layerDefinition;return 1-.01*(null!=a.transparency?a.transparency:a.drawingInfo.transparency)};f.prototype.writeOpacity=function(a,b,c,d){if(!d||d.writeAsDynamic)b.layerDefinition={drawingInfo:{transparency:100-100*a}}};f.prototype.writeParent=function(a,b,c,d){d&&d.writeOverridesOnly||(b.parentLayerId=this.parent&&this.parent!==
this.layer?this.parent.id:-1)};Object.defineProperty(f.prototype,"popupTemplate",{get:function(){return this._get("popupTemplate")},set:function(a){this._set("popupTemplate",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"renderer",{get:function(){return this._get("renderer")},set:function(a){if(a)for(var b=0,c=a.getSymbols();b<c.length;b++)if(c[b].isInstanceOf(F)){D.warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",a)},enumerable:!0,configurable:!0});
f.prototype.readRenderer=function(a,b,c){if(a=b.layerDefinition.drawingInfo.renderer||void 0)(a=u.read(a,b,c)||void 0)||D.error("Failed to create renderer",{rendererDefinition:b.drawingInfo.renderer,layer:this,context:c});return a};f.prototype.writeRenderer=function(a,b,c,d){if(!d||d.writeAsDynamic)b.layerDefinition={drawingInfo:{renderer:a.toJSON()}}};Object.defineProperty(f.prototype,"source",{get:function(){return this._get("source")||{mapLayerId:this.id,type:b.MAPLAYER}},set:function(a){this._setAndNotifyLayer("source",
a)},enumerable:!0,configurable:!0});f.prototype.writeSource=function(a,c,d,l){l&&!l.writeAsDynamic&&l.writeOverridesOnly||(c.layerDefinition={source:b.sourceToJSON(a)})};Object.defineProperty(f.prototype,"sublayers",{set:function(a){var b=this,c=this._get("sublayers");c&&(c.forEach(function(a){a.parent=null;a.layer=null}),this._sublayersHandles.forEach(function(a){return a.remove()}),this._sublayersHandles=null);a&&(a.forEach(function(a){a.parent=b;a.layer=b.layer}),this._sublayersHandles=[a.on("after-add",
function(a){a=a.item;a.parent=b;a.layer=b.layer}),a.on("after-remove",function(a){a=a.item;a.parent=null;a.layer=null})]);this._set("sublayers",a)},enumerable:!0,configurable:!0});f.prototype.castSublayers=function(a){return w.default(r.ofType(k),a)};f.prototype.writeSublayers=function(a,b,c,d){d&&d.writeOverridesOnly||(b[c]=this.get("sublayers.length")?this.sublayers.map(function(a){return a.id}).toArray().reverse():null)};Object.defineProperty(f.prototype,"title",{get:function(){return this._get("title")},
set:function(a){this._set("title",a)},enumerable:!0,configurable:!0});f.prototype.writeTitle=function(a,b,c,d){if(d&&d.writeOverridesOnly&&(d=d&&d.serviceSublayer)&&d.title===a)return;b[c]=a};Object.defineProperty(f.prototype,"url",{get:function(){var a=this.layer,c=this.source;if(!a)return null;if(b.isMapLayerSource(c))return a.parsedUrl.path+"/"+c.mapLayerId;c={layer:JSON.stringify({source:b.sourceToJSON(this.source)})};return a.parsedUrl.path+"/dynamicLayer?"+e.objectToQuery(c)},enumerable:!0,
configurable:!0});Object.defineProperty(f.prototype,"visible",{get:function(){return this._get("visible")},set:function(a){this._setAndNotifyLayer("visible",a)},enumerable:!0,configurable:!0});f.prototype.writeVisible=function(a,b,c,d){if(d&&d.writeOverridesOnly&&(d=d&&d.serviceSublayer)&&d.visible===a)return;b[c]=a};f.prototype.clone=function(){var a=new k;this.hasOwnProperty("definitionExpression")&&(a.definitionExpression=this.definitionExpression);this.hasOwnProperty("id")&&(a.id=this.id);this.hasOwnProperty("labelingInfo")&&
(a.labelingInfo=m.clone(this.labelingInfo));this.hasOwnProperty("labelsVisible")&&(a.labelsVisible=this.labelsVisible);this.hasOwnProperty("legendEnabled")&&(a.legendEnabled=this.legendEnabled);this.hasOwnProperty("visible")&&(a.visible=this.visible);this.hasOwnProperty("layer")&&(a.layer=this.layer);this.hasOwnProperty("minScale")&&(a.minScale=this.minScale);this.hasOwnProperty("maxScale")&&(a.maxScale=this.maxScale);this.hasOwnProperty("opacity")&&(a.opacity=this.opacity);this.hasOwnProperty("parent")&&
(a.parent=this.parent);this.hasOwnProperty("popupEnabled")&&(a.popupEnabled=this.popupEnabled);this.hasOwnProperty("popupTemplate")&&(a.popupTemplate=this.popupTemplate.clone());this.hasOwnProperty("renderer")&&(a.renderer=this.renderer.clone());this.hasOwnProperty("source")&&(a.source=m.clone(this.source));this.hasOwnProperty("sublayers")&&(a.sublayers=this.sublayers.clone());this.hasOwnProperty("title")&&(a.title=this.title);return a};f.prototype.createQuery=function(){return new C({returnGeometry:!0,
where:this.definitionExpression||"1\x3d1"})};f.prototype.createFeatureLayer=function(){if(this.hasOwnProperty("sublayers"))return null;var a=this.layer&&this.layer.parsedUrl,c=this.source,d=null;a&&(d=b.isMapLayerSource(c)?a.path+"/"+c.mapLayerId:a.path+"/dynamicLayer");a=new y({url:d});this.hasOwnProperty("definitionExpression")&&(a.definitionExpression=this.definitionExpression);this.hasOwnProperty("labelingInfo")&&(a.labelingInfo=m.clone(this.labelingInfo));this.hasOwnProperty("labelsVisible")&&
(a.labelsVisible=this.labelsVisible);this.hasOwnProperty("legendEnabled")&&(a.legendEnabled=this.legendEnabled);this.hasOwnProperty("visible")&&(a.visible=this.visible);this.hasOwnProperty("minScale")&&(a.minScale=this.minScale);this.hasOwnProperty("maxScale")&&(a.maxScale=this.maxScale);this.hasOwnProperty("opacity")&&(a.opacity=this.opacity);this.hasOwnProperty("popupTemplate")&&(a.popupTemplate=this.popupTemplate.clone());this.hasOwnProperty("renderer")&&(a.renderer=this.renderer.clone());this.hasOwnProperty("source")&&
b.isDataLayerSource(this.source)&&(a.dynamicDataSource=m.clone(this.source));this.hasOwnProperty("title")&&(a.title=this.title);return a};f.prototype.queryFeatures=function(a){var b=this;void 0===a&&(a=this.createQuery());return(new E({url:this.url})).execute(a).then(function(a){a&&a.features&&a.features.forEach(function(a){a.popupTemplate=b.popupTemplate;a.sourceLayer=b});return a})};f.prototype.toExportImageJSON=function(){var a={id:this.id,source:b.sourceToJSON(this.source)};this.definitionExpression&&
(a.definitionExpression=this.definitionExpression);if(this.renderer||this.labelingInfo||null!=this.opacity||null!=this.labelsVisible){var c=a.drawingInfo={};this.renderer&&(c.renderer=this.renderer.toJSON());null!=this.labelsVisible&&(c.showLabels=this.labelsVisible);!1!==this.labelsVisible&&this.labelingInfo&&(c.labelingInfo=this.labelingInfo.map(function(a){return a.write({},{origin:"service"})}));null!=this.opacity&&(c.transparency=100-100*this.opacity)}return a};f.prototype._setAndNotifyLayer=
function(a,b){var c=this.layer;this._get(a)!==b&&(this._set(a,b),c&&c.emit("sublayer-update",{propertyName:a}))};a([d.property({type:String,value:null,json:{read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression"}}})],f.prototype,"definitionExpression",null);a([d.property({type:Number,json:{write:{ignoreOrigin:!0}}})],f.prototype,"id",null);a([d.property({value:null,type:[c],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"}}})],f.prototype,
"labelingInfo",null);a([d.writer("labelingInfo")],f.prototype,"writeLabelingInfo",null);a([d.property({type:Boolean,json:{read:{source:"showLabels"}}})],f.prototype,"labelsVisible",null);a([d.writer("labelsVisible")],f.prototype,"writeLabelsVisible",null);a([d.property({type:Boolean,value:!0,json:{read:{source:"showLegend"},write:{target:"showLegend"}}})],f.prototype,"legendEnabled",null);a([d.property({value:null})],f.prototype,"layer",null);a([d.property({type:Number,value:0,json:{write:{overridePolicy:function(a,
b,c){if(l.willPropertyWrite(this,"maxScale",{},c))return{ignoreOrigin:!0}}}}})],f.prototype,"minScale",null);a([d.reader("portal-item","minScale",["minScale","layerDefinition.minScale"])],f.prototype,"readMinScale",null);a([d.writer("minScale")],f.prototype,"writeMinScale",null);a([d.property({type:Number,value:0,json:{write:{overridePolicy:function(a,b,c){if(l.willPropertyWrite(this,"minScale",{},c))return{ignoreOrigin:!0}}}}})],f.prototype,"maxScale",null);a([d.reader("portal-item","maxScale",["maxScale",
"layerDefinition.maxScale"])],f.prototype,"readMaxScale",null);a([d.writer("maxScale")],f.prototype,"writeMaxScale",null);a([d.property({type:Number})],f.prototype,"opacity",null);a([d.reader("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],f.prototype,"readOpacity",null);a([d.writer("opacity")],f.prototype,"writeOpacity",null);a([d.property({json:{type:Number,write:{target:"parentLayerId",allowNull:!0}}})],f.prototype,"parent",void 0);a([d.writer("parent")],
f.prototype,"writeParent",null);a([d.property({type:Boolean})],f.prototype,"popupEnabled",void 0);a([d.property({value:null,type:p,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],f.prototype,"popupTemplate",null);a([d.property({types:h.types,value:null,json:{write:{target:"layerDefinition.drawingInfo.renderer"}}})],f.prototype,"renderer",null);a([d.reader("renderer",["layerDefinition.drawingInfo.renderer"])],f.prototype,"readRenderer",null);a([d.writer("renderer")],f.prototype,"writeRenderer",
null);a([d.property({cast:b.castSource,json:{read:{source:"layerDefinition.source",reader:b.sourceFromJSON},write:{target:"layerDefinition.source"}}})],f.prototype,"source",null);a([d.writer("source")],f.prototype,"writeSource",null);a([d.property({value:null,json:{type:[Number],write:{target:"subLayerIds",allowNull:!0}}})],f.prototype,"sublayers",null);a([d.cast("sublayers")],f.prototype,"castSublayers",null);a([d.writer("sublayers")],f.prototype,"writeSublayers",null);a([d.property({type:String,
value:null,json:{read:{source:"name"},write:{target:"name",allowNull:!0,ignoreOrigin:!0}}})],f.prototype,"title",null);a([d.writer("title")],f.prototype,"writeTitle",null);a([d.property({readOnly:!0,dependsOn:["layer","source"]})],f.prototype,"url",null);a([d.property({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility"}}})],f.prototype,"visible",null);a([d.writer("visible")],f.prototype,"writeVisible",null);a([q(0,d.cast(C))],f.prototype,"queryFeatures",
null);return f=k=a([d.subclass("esri.layers.support.Sublayer")],f);var k}(d.declared(g))})},"esri/widgets/LayerList/ListItemPanel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/Identifiable ../../core/requireUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../widgets/Widget ../support/widget".split(" "),function(v,t,n,a,q,e,p,r,g,m,k){return function(d){function e(a){a=d.call(this)||
this;a._legend=null;a._handles=new q;a.content=null;a.image=null;a.listItem=null;a.open=!1;a.visible=!0;return a}n(e,d);e.prototype.postInitialize=function(){var a=this;this.own([r.init(this,"content",function(d){return a._createLegend(d)})])};e.prototype.destroy=function(){var a=this._legend;a&&a.destroy();this._legend=null};Object.defineProperty(e.prototype,"className",{get:function(){var a=this.image,d=this._getFirstWidget();return this._get("className")||!a&&d?d.iconClass:""},set:function(a){void 0===
a?this._clearOverride("className"):this._override("className",a)},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"title",{get:function(){var a=this._getFirstWidget();return this._get("title")||a?a.label:""},set:function(a){void 0===a?this._clearOverride("title"):this._override("title",a)},enumerable:!0,configurable:!0});e.prototype.render=function(){return k.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())};e.prototype._renderContent=function(a,d){d=this._legend;
var c=this.listItem;return a?"legend"===a&&c&&c.view&&c.layer?k.tsx("div",{class:k.join("esri-layer-list-panel__content","esri-layer-list-panel__content--legend"),key:a},d&&d.render()):"string"===typeof a?k.tsx("div",{class:k.join("esri-layer-list-panel__content","esri-layer-list-panel__content--string"),key:a,innerHTML:a}):k.isWidget(a)?k.tsx("div",{class:k.join("esri-layer-list-panel__content","esri-layer-list-panel__content--widget"),key:a},a.render()):a instanceof HTMLElement?k.tsx("div",{class:k.join("esri-layer-list-panel__content",
"esri-layer-list-panel__content--html-element"),key:a,bind:a,afterCreate:this._attachToNode}):null:null};e.prototype._renderContents=function(){var a=this,d=this.content;return Array.isArray(d)?d.map(function(c,b){return a._renderContent(c,b)}):this._renderContent(d,0)};e.prototype._getLegendOptions=function(a){if(a){var d=a.layer;a=a.view;if(d&&a)return{view:a,layerInfos:[{layer:d,title:""}]}}};e.prototype._createLegend=function(a){var d=this;this._hasLegend(a)&&!this._legend&&p.when(v,"../Legend").then(function(a){var b=
d._handles,c=new a(d._getLegendOptions(d.listItem));d._legend=c;d.notifyChange("className");d.notifyChange("title");a=r.init(d,["listItem.view","listItem.layer"],function(){return d._updateLegend(c)});b.add(a,"legends");d.scheduleRender()})};e.prototype._hasLegend=function(a){return"legend"===a?!0:Array.isArray(a)?a.some(function(a){return"legend"===a}):!1};e.prototype._attachToNode=function(a){a.appendChild(this)};e.prototype._updateLegend=function(a){var d=this.listItem;if(d){var c=d.layer;a.view=
d.view;a.layerInfos=[{layer:c,title:null}]}};e.prototype._getWidget=function(a){return"legend"===a?this._legend:k.isWidget(a)?a:null};e.prototype._getFirstWidget=function(){var a=this,d=this.content;if(Array.isArray(d)){var c=null;d.some(function(b){(b=a._getWidget(b))&&(c=b);return!!b});return c}return this._getWidget(d)};a([g.property({dependsOn:["content","image"]})],e.prototype,"className",null);a([g.property(),k.renderable()],e.prototype,"content",void 0);a([g.property()],e.prototype,"image",
void 0);a([g.property()],e.prototype,"listItem",void 0);a([g.property({dependsOn:["content"]})],e.prototype,"title",null);a([g.property(),k.renderable()],e.prototype,"open",void 0);a([g.property()],e.prototype,"visible",void 0);return e=a([g.subclass("esri.widgets.LayerList.ListItemPanel")],e)}(g.declared(m,e))})},"esri/core/requireUtils":function(){define(["require","exports","dojo/Deferred"],function(v,t,n){function a(q,e){if(Array.isArray(e)){var p=new n;q(e,function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=
arguments[e];p.resolve(a)});return p.promise}return a(q,[e]).then(function(a){return a[0]})}Object.defineProperty(t,"__esModule",{value:!0});t.when=a;t.getAbsMid=function(a,e,p){return e.toAbsMid?e.toAbsMid(a):p.id.replace(/\/[^\/]*$/ig,"/")+a}})},"esri/widgets/LayerList/support/layerListUtils":function(){define(["require","exports"],function(v,t){function n(a){if(a)return a.hasOwnProperty("listMode")?a.listMode:void 0}function a(a){if(a)return a.hasOwnProperty("minScale")?a.minScale:void 0}function q(a){if(a)return a.hasOwnProperty("maxScale")?
a.maxScale:void 0}Object.defineProperty(t,"__esModule",{value:!0});t.findLayerListMode=n;t.findLayerMinScale=a;t.findLayerMaxScale=q;t.findLayerVisibilityMode=function(a){if(a){var e=a.get("layer.capabilities");return e&&-1===e.indexOf("supportsSublayerVisibility")?"inherited":a.hasOwnProperty("visibilityMode")?a.visibilityMode:void 0}};t.getNormalizedChildLayerProperty=function(a){if(a&&"hide-children"!==a.listMode&&"wmts"!==a.type)return"group"===a.type?"layers":"sublayers"};t.canDisplayLayer=function(a){return"hide"!==
n(a)};t.isLayerOutsideScaleRange=function(e,p){if(!e||isNaN(p))return!1;var r=a(e);e=q(e);r=!isNaN(r)&&0<r&&p>=r;p=!isNaN(e)&&0<e&&p<=e;return r||p}})},"widgets/LayerList/LayerItem":function(){define("dojo/_base/html dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./LayerItem.html dojo/_base/lang jimu/dijit/CheckBox".split(" "),function(v,t,n,a,q,e,p){return t([n,a,q],{templateString:e,sceneView:null,layer:null,baseClass:"jimu-widget-layeritem",nls:null,
postCreate:function(){this.inherited(arguments);this.cbx.onChange=p.hitch(this,this._onCbxChanged);this.own(this.layer.watch("title",p.hitch(this,function(){this._updateTitleUI()})));this.own(this.layer.watch("visible",p.hitch(this,function(){this._updateVisibilityUI()})));this.layer.when(p.hitch(this,function(){this.domNode&&(this._updateTitleUI(),this._updateVisibilityUI())}),p.hitch(this,function(a){console.error(a);this.domNode&&v.addClass(this.domNode,"not-loaded")}));this._updateTitleUI()},
_onClickSelf:function(a){a=a.target;a===this.cbx.domNode||v.isDescendant(a,this.cbx.domNode)||this.cbx.setValue(!this.cbx.getValue())},_updateTitleUI:function(){this.cbx.setLabel(this.layer.title||this.layer.name||this.layer.mapName||"")},_updateVisibilityUI:function(){var a=this.layer.get("visible");a!==this.cbx.getValue()&&this.cbx.setValue(a);this.domNode.title=a?this.nls.hide:this.nls.show},_onCbxChanged:function(){this.cbx.getValue()!==this.layer.get("visible")&&this.layer.set("visible",this.cbx.getValue())},
_onBtnZoomClicked:function(a){a.stopPropagation();if(a=this.layer.extent||this.layer.fullExtent)a=a.expand(1.2),this.sceneView.goTo(a)},destroy:function(){this.layer=this.sceneView=null;this.inherited(arguments)}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(v,t,n,a,q){return n("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var e=
this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);q.parse(e,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(a.hitch(this,function(a){this._startupWidgets=a;for(var e=0;e<a.length;e++)this._processTemplateNode(a[e],function(a,e){return a[e]},function(a,e,k){return e in a?a.connect(a,e,k):a.on(e,k,!0)});this.containerNode&&
this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(a,p,n){return p(a,"dojoType")||p(a,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){v.forEach(this._startupWidgets,function(a){a&&!a._started&&
a.startup&&a.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"jimu/dijit/CheckBox":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/_base/html dojo/dom-class dojo/on dojo/Evented dojo/keys".split(" "),function(v,t,n,a,q,e,p,r){return v([t,p],{baseClass:"jimu-checkbox",declaredClass:"jimu.dijit.CheckBox",checked:!1,status:!0,label:"",postCreate:function(){this.checkNode=a.create("div",{"class":"checkbox jimu-float-leading"},this.domNode);this.labelNode=
a.create("div",{"class":"label jimu-float-leading",innerHTML:this.label||""},this.domNode);this.checked&&a.addClass(this.checkNode,"checked");this.status||a.addClass(this.domNode,"jimu-state-disabled");this.own(e(this.checkNode,"click",n.hitch(this,function(){this.status&&(this.checked?this.uncheck():this.check())})));this.own(e(this.labelNode,"click",n.hitch(this,function(){this.checked&&this.status?this.uncheck():this.status&&this.check()})));this._udpateLabelClass();this._initSection508()},setLabel:function(a){this.label=
a||"";this.labelNode.innerHTML=this.label;this._udpateLabelClass()},getLabel:function(){return this.label||""},_udpateLabelClass:function(){this.labelNode&&(this.labelNode.innerHTML?a.removeClass(this.labelNode,"not-visible"):a.addClass(this.labelNode,"not-visible"))},_initSection508:function(){"undefined"!==typeof this.tabindex&&(a.setAttr(this.checkNode,"tabindex",this.tabindex),this.own(e(this.checkNode,"focus",n.hitch(this,function(){a.addClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(e(this.checkNode,
"blur",n.hitch(this,function(){a.removeClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(e(this.checkNode,"keypress",n.hitch(this,function(e){e=e.charCode||e.keyCode;a.hasClass(this.checkNode,"dijitCheckBoxFocused")&&r.SPACE===e&&this.status&&(this.checked?this.uncheck():this.check())}))))},setValue:function(a){this.status&&(!0===a?this.check():this.uncheck())},getValue:function(){return this.checked},setStatus:function(a){a=!!a;var e=this.status!==a;(this.status=a)?q.remove(this.domNode,
"jimu-state-disabled"):q.add(this.domNode,"jimu-state-disabled");e&&this.emit("status-change",a)},getStatus:function(){return this.status},check:function(){this.status&&(this.checked=!0,a.addClass(this.checkNode,"checked"),this.onStateChange())},uncheck:function(e){if(this.status&&(this.checked=!1,a.removeClass(this.checkNode,"checked"),!e))this.onStateChange()},onStateChange:function(){if(this.onChange&&n.isFunction(this.onChange))this.onChange(this.checked);this.emit("change",this.checked)},focus:function(){this.checkNode&&
this.checkNode.focus&&this.checkNode.focus()}})})},"widgets/LayerList/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/LayerList/LayerItem.html":'\x3cdiv data-dojo-attach-event\x3d"click:_onClickSelf"\x3e\r\n\t\x3ctable class\x3d"layeritem-table"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"50"\x3e\x3c/col\x3e\r\n\t    \x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"cbx" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esri-icon-zoom-out-fixed jimu-float-trailing" title\x3d"${nls.fullExtentTip}" data-dojo-attach-event\x3d"onclick:_onBtnZoomClicked"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/Widget.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"dijit-container" data-dojo-attach-point\x3d"dijitDiv"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"elevation-layers-container" data-dojo-attach-point\x3d"elevationLayersContainer"\x3e\r\n    \x3cdiv class\x3d"ground-tip hidden" data-dojo-attach-point\x3d"groundTip"\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv\x3e\r\n        \x3cspan\x3e${nls.ground}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/css/style.css":'.jimu-widget-layerlist{}.jimu-widget-layerlist .dijit-container{width: 100%;}.jimu-widget-layerlist .hidden{display: none !important;}.jimu-widget-layerlist .esri-layer-list__list--root{overflow-x: hidden; padding-bottom: 40px;}.jimu-widget-layerlist .esri-layer-list{max-height: initial; background: transparent; padding: 0;}.jimu-widget-layerlist .esri-layer-list__item{background: inherit; max-height: 100%; overflow: visible; padding: 0; margin-left: 15px;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item{margin-left: 0; margin-right: 15px;}.jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{position: absolute; right: -5px; width: 200px; top: 30px; z-index: 2;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{left: -5px; right: auto;}.jimu-widget-layerlist .esri-layer-list__item.esri-layer-list__item--has-children{margin-left: 0; margin-right: 0;}.jimu-widget-layerlist .esri-layer-list__list--root \x3e .esri-layer-list__item{margin-left: 0 !important; margin-right: 0 !important;}.jimu-widget-layerlist .esri-layer-list__item:before{display: none;}.jimu-widget-layerlist .esri-layer-list__item:after{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container .esri-icon-zoom-out-fixed{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .esri-layer-list__item-container{padding: 9px 0; border-bottom: none;}.jimu-widget-layerlist .dijit-container \x3e ul.esri-layer-list__list--root \x3e .esri-layer-list__item:first-child{display: none;}.jimu-widget-layerlist .esri-layer-list__item-toggle{width: 16px; height: 16px;}.jimu-widget-layerlist .esri-icon-visible{display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checked_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-visible:before{content: "";}.jimu-widget-layerlist .esri-icon-non-visible{display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checkbox_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-non-visible:before{content: "";}.jimu-widget-layerlist .jimu-widget-layeritem{cursor: pointer;}.jimu-widget-layerlist .jimu-widget-layeritem.not-loaded{display: none;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table{width: 100%; table-layout: fixed; border-collapse: collapse;}.jimu-widget-layerlist .jimu-widget-layeritem .esri-icon-zoom-out-fixed{font-size: 14px; cursor: pointer; display: none;}.jimu-widget-layerlist .jimu-widget-layeritem:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table td{padding: 5px 0;}.jimu-widget-layerlist .jimu-widget-layeritem .jimu-checkbox .label{cursor: pointer;}.jimu-widget-layerlist .elevation-layers-container{position: relative; top: -30px;}.jimu-widget-layerlist .ground-tip{position: relative; height: 24px; margin-top: 5px;}.jimu-widget-layerlist .ground-tip \x3e *{position: absolute; width: 100%;}.jimu-widget-layerlist .ground-tip \x3e div{text-align: center;}.jimu-widget-layerlist .ground-tip span{display: inline-block; max-width: 90%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; background-color: white; padding: 0 4px;}html[dir\x3d"rtl"] .jimu-widget-layerlist .esri-layer-list__child-toggle.esri-layer-list__child-toggle--open \x3e .esri-layer-list__child-toggle-icon--closed-rtl.esri-icon-left-triangle-arrow{display: none;}',
"*now":function(v){v(['dojo/i18n!*preload*widgets/LayerList/nls/Widget*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/on dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/html jimu/BaseWidget esri/widgets/LayerList dojo/i18n!esri/nls/common ./LayerItem".split(" "),function(v,t,n,a,q,e,p,r,g){return n([e],{name:"LayerList",baseClass:"jimu-widget-layerlist",_elevationLayerItems:null,postCreate:function(){this.inherited(arguments);this._elevationLayerItems=[];this.nls.hide=r.visibility.hide;this.nls.show=r.visibility.show;this.layerList=new p({view:this.sceneView,container:this.dijitDiv,listItemCreatedFunction:a.hitch(this,
this._defineActions)});this.own(this.layerList.on("trigger-action",a.hitch(this,this._onTriggerAction)));this.own(v(this.sceneView.map.ground.layers,"change",a.hitch(this,this._updateElevationLayers)));this.own(v(this.sceneView.map.allLayers,"change",a.hitch(this,this._updateGroudTip)));this._updateElevationLayers()},onOpen:function(){this._updateGroudTip()},_updateGroudTip:function(){setTimeout(a.hitch(this,function(){10<this.dijitDiv.clientHeight?q.removeClass(this.groundTip,"hidden"):q.addClass(this.groundTip,
"hidden")}),1E3)},_updateElevationLayers:function(){this._destroyAllElevationLayerItems();for(var a=this.sceneView.map.ground.layers,e=0,d=a.get("length")-1;0<=d;d--){var g=a.getItemAt(d);"hide"!==g.listMode&&(this._addElevationLayerItem(g),e++)}0===e?q.addClass(this.elevationLayersContainer,"hidden"):q.removeClass(this.elevationLayersContainer,"hidden")},_addElevationLayerItem:function(a){a=new g({layer:a,sceneView:this.sceneView,nls:this.nls});this._elevationLayerItems.push(a);a.placeAt(this.elevationLayersContainer)},
_destroyAllElevationLayerItems:function(){t.forEach(this._elevationLayerItems,a.hitch(this,function(a){a.destroy()}));this._elevationLayerItems=[]},_createActionsFunction:function(a){var e=[];a.item.layer&&(e=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]);return e},_defineActions:function(a){a.item.actionsSections=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]},_onTriggerAction:function(a){var e=a.item.layer;if(e)switch(a.action.id){case "full-extent":(a=
e.fullExtent||e.extent)&&this.sceneView.goTo(a)}},destroy:function(){this.layerList&&(this.layerList.destroy(),this.layerList=null);this._destroyAllElevationLayerItems();this.inherited(arguments)}})});