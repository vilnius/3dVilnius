// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
/*
 MIT
*/
require({cache:{"esri/widgets/LayerList":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper dojo/i18n!../nls/common dojo/i18n!./LayerList/nls/LayerList ../core/Collection ../core/events ../core/Handles ../core/watchUtils ../core/accessorSupport/decorators ../libs/sortablejs/Sortable ./Widget ./LayerList/LayerListViewModel ./LayerList/ListItem ./support/widget".split(" "),function(A,x,C,g,y,n,l,e,r,D,p,k,E,b,f,F,
q){function P(f){var k=f.children;f.actionsOpen&&(f.actionsOpen=!1);k.forEach(function(c){return P(c)})}var S=e.ofType(F);return function(e){function b(c){c=e.call(this)||this;c._handles=new D;c._sortable=null;c._sortableNode=null;c._focusSortUid=null;c.iconClass="esri-icon-layers";c.label=l.widgetLabel;c.listItemCreatedFunction=null;c.operationalItems=null;c.selectionEnabled=!1;c.selectedItems=new S;c.statusIndicatorsVisible=!0;c.view=null;c.viewModel=new f;return c}C(b,e);b.prototype.postInitialize=
function(){var c=this,b=this.operationalItems;this.own(p.on(this,"operationalItems","change",function(){return c._itemsChanged(b)}),p.init(this,"selectionEnabled",function(){return c._toggleSorting()}))};b.prototype.destroy=function(){var c=this._sortable;c&&c.destroy();this._handles.destroy();this._handles=null};b.prototype.triggerAction=function(c,b){};b.prototype.render=function(){var c=this,b,u=this._getItems(),f=this.get("viewModel.state"),u=0===u.length?q.tsx("div",{class:"esri-layer-list__no-items"},
l.noItemsToDisplay):q.tsx("ul",{"aria-label":l.widgetLabel,role:this.selectionEnabled?"listbox":void 0,afterCreate:this._sortNodeCreated,"data-node-ref":"_sortableNode",bind:this,class:this.classes("esri-layer-list__list","esri-layer-list__list--root","esri-layer-list__list--independent")},u.map(function(b,u){return c._renderItem(b,null)})),f=(b={},b["esri-hidden"]="loading"===f,b["esri-disabled"]="disabled"===f,b);return q.tsx("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",
f)},u)};b.prototype._toggleSorting=function(){var c=this,b=this._sortable,u=this._sortableNode,f=this.selectionEnabled;if(u)if(b)b.option("disabled",!f);else{var k=E.create(u,{dataIdAttr:"data-layer-uid",group:"root-layers",disabled:!f,onSort:function(){return c._sortLayersToItems(k.toArray())}});this._sortable=k}};b.prototype._sortNodeCreated=function(c){this._sortableNode=c;this._toggleSorting()};b.prototype._sortLayersToItems=function(c){var b=this.get("view.map.layers");b&&b.sort(function(b,f){b=
c.indexOf(b.uid);f=c.indexOf(f.uid);return b>f?-1:b<f?1:0})};b.prototype._getItems=function(){var c=this;return this.operationalItems.toArray().filter(function(b){return c.errorsVisible||!b.error})};b.prototype._getSingleActionButton=function(c){return c.actionsSections.reduce(function(c){return c}).filter(function(c){return c&&"button"===c.type}).getItemAt(0)};b.prototype._renderItem=function(c,b){var u=this,f,k,J,e,g,F,p=this.id+"_"+c.uid,D=p+"_actions",r=p+"__list",p=p+"__title",E=!!c.error,x=
!!c.children.length&&!E,C=E?l.layerError:"",A=c.visibilityMode,I=c.children&&c.children.toArray(),P=(f={},f["esri-layer-list__list--exclusive"]="exclusive"===A,f["esri-layer-list__list--inherited"]="inherited"===A,f["esri-layer-list__list--independent"]="inherited"!==A&&"exclusive"!==A,f);f=(k={},k["esri-layer-list__item--has-children"]=x,k["esri-layer-list__item--error"]=!!E,k["esri-layer-list__item--updating"]=c.updating&&!b&&this.statusIndicatorsVisible,k["esri-layer-list__item--invisible-at-scale"]=
!c.visibleAtCurrentScale,k["esri-layer-list__item--selectable"]=this.selectionEnabled,k);var S=this._countActions(c.actionsSections),U=c.panel;k=U&&U.open?U.render():null;var U=U&&U.visible?this._renderPanelButton(U):null,da=(J={},J["esri-layer-list__item-actions-menu-item--active"]=c.actionsOpen,J),ma=c.actionsOpen?n.close:n.open,ga=1===S&&this._getSingleActionButton(c);J=ga?this._renderAction({item:c,action:ga,singleAction:!0}):null;J=(da=!ga&&S?q.tsx("div",{key:"actions-menu-toggle","data-item":c,
bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes("esri-layer-list__item-actions-menu-item",da),tabindex:"0",role:"button","aria-controls":D,"aria-label":ma,title:ma},q.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null)||U||J?q.tsx("div",{key:"esri-layer-list__actions-menu",class:"esri-layer-list__item-actions-menu"},U,J,da):null;D=S?this._renderActionsSections(c,c.actionsSections,D):null;A=x?q.tsx("ul",{key:"esri-layer-list__list-items",
id:r,class:this.classes("esri-layer-list__list",P),"aria-expanded":c.open?"true":"false",role:"exclusive"===A?"radiogroup":"group",hidden:c.open?null:!0},I.map(function(b){return u._renderItem(b,c)})):null;I=(e={},e["esri-layer-list__child-toggle--open"]=c.open,e);e=c.open?n.collapse:n.expand;r=x?q.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":c,key:"esri-layer-list__toggle-children",class:this.classes("esri-layer-list__child-toggle",I),tabindex:"0",
role:"button","aria-controls":r,"aria-label":e,title:e},q.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),q.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),q.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null;e=this._createLabelNode(c,b,p);E=E?q.tsx("div",
{key:"esri-layer-list__error",class:"esri-layer-list__item-error-message",role:"alert"},q.tsx("span",null,C)):null;C=-1<this.selectedItems.indexOf(c);b=b?null:c.get("layer.uid");b=this.selectionEnabled?(g={bind:this,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":c,tabIndex:0,"aria-selected":C?"true":"false",role:"option","aria-labelledby":p},g["data-layer-uid"]=b,g):(F={bind:void 0,onclick:void 0,onkeydown:void 0,"data-item":void 0,tabIndex:void 0,"aria-selected":void 0,
role:void 0,"aria-labelledby":void 0},F["data-layer-uid"]=void 0,F);return q.tsx("li",y({key:c,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes("esri-layer-list__item",f),"aria-labelledby":p},b),q.tsx("div",{key:"esri-layer-list__list-item-container",class:"esri-layer-list__item-container"},r,e,J),E,D,k,A)};b.prototype._focusListItem=function(c){var b=this._focusSortUid;c&&b&&c.dataset.layerUid===b&&(c.focus(),this._focusSortUid=null)};b.prototype._createLabelNode=
function(c,b,u){var f,k=this.selectionEnabled;b=b&&b.visibilityMode;var e=(f={},f["esri-icon-radio-checked"]="exclusive"===b&&c.visible,f["esri-icon-radio-unchecked"]="exclusive"===b&&!c.visible,f["esri-icon-visible"]="exclusive"!==b&&c.visible,f["esri-icon-non-visible"]="exclusive"!==b&&!c.visible,f),J="exclusive"===b?"radio":"switch";f=c.title||l.untitledLayer;var g=c.visibleAtCurrentScale?f:f+" ("+l.layerInvisibleAtScale+")";f=q.tsx("span",{id:u,title:g,"aria-label":g,class:"esri-layer-list__item-title"},
f);e=q.tsx("span",{class:this.classes("esri-layer-list__item-toggle-icon",e),"aria-hidden":"true"});u={bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":c,"data-parent-visibility":b,tabIndex:0,"aria-checked":c.visible?"true":"false",role:J,"aria-labelledby":u};J={bind:void 0,onclick:void 0,onkeydown:void 0,"data-item":void 0,"data-parent-visibility":void 0,tabIndex:void 0,"aria-checked":void 0,role:void 0,"aria-labelledby":void 0};g=k?u:J;k=q.tsx("div",y({key:c,
class:"esri-layer-list__item-label"},k?J:u),q.tsx("span",y({class:"esri-layer-list__item-toggle"},g),e),f);e=(u=!!c.error)?q.tsx("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}):null;return"inherited"===b||u?q.tsx("div",{key:c,class:"esri-layer-list__item-label"},e,f):k};b.prototype._renderPanelButton=function(c){var b,f,k=c.className,e=c.open,g=c.title,k=c.image||k?k:"esri-icon-default-action",l=this._getIconImageStyles(c),e=(b={},b["esri-layer-list__item-actions-menu-item--active"]=
e,b);b=(f={},f["esri-layer-list__item-action-image"]=!!l["background-image"],f);k&&(b[k]=!!k);return q.tsx("div",{key:c,bind:this,"data-panel":c,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes("esri-layer-list__item-actions-menu-item",e),role:"button",tabindex:"0",title:g,"aria-label":g},q.tsx("span",{class:this.classes(b),styles:l}))};b.prototype._watchActionSectionChanges=function(c,b){var f=this,k="action-section"+b;this._handles.add(c.on("change",this.scheduleRender.bind(this)),
k);c.forEach(function(c){return f._renderOnActionChanges(c,b)})};b.prototype._renderOnActionChanges=function(c,b){var f=this;b="actions"+b;"toggle"===c.type?this._handles.add([p.init(c,"className image id title visible value".split(" "),function(){return f.scheduleRender()})],b):"slider"===c.type?this._handles.add([p.init(c,"className id title visible value displayValueEnabled max min step".split(" "),function(){return f.scheduleRender()})],b):this._handles.add([p.init(c,["className","image","id",
"title","visible"],function(){return f.scheduleRender()})],b)};b.prototype._renderOnItemChanges=function(c){var b=this,f=c.uid,k="items"+f;this._handles.add([p.init(c,"actionsOpen visible open updating title visibleAtCurrentScale error visibilityMode panel panel.title panel.content panel.className".split(" "),function(){return b.scheduleRender()}),c.actionsSections.on("change",function(){return b.scheduleRender()}),c.children.on("change",function(){return b.scheduleRender()})],k);c.children.forEach(function(c){return b._renderOnItemChanges(c)});
c.actionsSections.forEach(function(c){return b._watchActionSectionChanges(c,f)})};b.prototype._itemsChanged=function(c){var b=this;this._handles.removeAll();c.forEach(function(c){return b._renderOnItemChanges(c)});this.scheduleRender()};b.prototype._renderActionsSections=function(c,b,f){var k=this;b=b.toArray().map(function(b){return q.tsx("ul",{key:b,class:"esri-layer-list__item-actions-list"},k._renderActionSection(c,b))});return q.tsx("div",{role:"group","aria-expanded":c.actionsOpen?"true":"false",
key:"esri-layer-list__actions-section",id:f,class:"esri-layer-list__item-actions",hidden:c.actionsOpen?null:!0},b)};b.prototype._renderActionSection=function(b,f){var c=this;return(f&&f.toArray()).map(function(f){return c._renderAction({item:b,action:f})})};b.prototype._renderAction=function(b){var c,f,k=b.item,e=b.action;b=b.singleAction;var g=this._getIconImageStyles(e),l=e.active,F=e.className,n=e.disabled,p=e.title,F="button"!==e.type||e.image||F?F:"esri-icon-default-action",n=(c={},c["esri-layer-list__item-actions-menu-item"]=
b&&"button"===e.type,c["esri-layer-list__item-action"]=!b&&"toggle"!==e.type,c["esri-layer-list__action-toggle"]="toggle"===e.type,c["esri-layer-list__action-toggle--on"]="toggle"===e.type&&e.value,c["esri-disabled-element"]=n,c);c=(f={},f["esri-layer-list__item-action-image"]=!l&&!!g["background-image"],f["esri-icon-loading-indicator"]=l,f["esri-rotating"]=l,f);F&&(c[F]=!0);f=q.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",c),styles:g});c=b?null:q.tsx("span",
{class:"esri-layer-list__item-action-title"},p);f=[f,c];return b?q.tsx("div",{bind:this,"data-item":k,"data-action":e,role:"button",key:e,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:n,tabindex:"0",title:p,"aria-label":p},f):q.tsx("li",{bind:this,"data-item":k,"data-action":e,key:e,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:n,tabindex:"0",role:"button",title:p,"aria-label":p},f)};b.prototype._countActions=function(b){return b.reduce(function(b,c){return b+
c.length},0)};b.prototype._getIconImageStyles=function(b){b="esri.widgets.LayerList.ListItemPanel"===b.declaredClass||"esri.support.Action.ActionButton"===b.declaredClass||"esri.support.Action.ActionToggle"===b.declaredClass?b.image:null;return{"background-image":b?'url("'+b+'")':null}};b.prototype._selectionKeydown=function(b){var c=r.eventKey(b);if(-1===["ArrowDown","ArrowUp"].indexOf(c))this._toggleSelection(b);else{b.stopPropagation();var f=this._sortable,k=-1<this.selectedItems.indexOf(b.currentTarget["data-item"]),
e=f.toArray();b=e.indexOf(b.target.dataset.layerUid);if(-1!==b){if("ArrowDown"===c){var g=b+1;if(g>=e.length)return;k?(e.splice(g,0,e.splice(b,1)[0]),f.sort(e),this._sortLayersToItems(f.toArray()),this._focusSortUid=e[g]):(this._focusSortUid=e[g],this.scheduleRender())}"ArrowUp"===c&&(g=b-1,-1>=g||(k?(e.splice(g,0,e.splice(b,1)[0]),f.sort(e),this._sortLayersToItems(f.toArray()),this._focusSortUid=e[g]):(this._focusSortUid=e[g],this.scheduleRender())))}}};b.prototype._toggleActionsOpen=function(b){var c=
b.currentTarget["data-item"],f=!c.actionsOpen;f&&this.operationalItems.forEach(function(b){return P(b)});c.actionsOpen=f;b.stopPropagation()};b.prototype._triggerPanel=function(b){var c=b.currentTarget["data-panel"];c&&(c.open=!c.open);b.stopPropagation()};b.prototype._triggerAction=function(b){var c=b.currentTarget,f=c["data-action"],c=c["data-item"];"toggle"===f.type&&(f.value=!f.value);this.triggerAction(f,c);b.stopPropagation()};b.prototype._toggleVisibility=function(b){var c=b.currentTarget,
f=c.getAttribute("data-parent-visibility"),c=c["data-item"];"exclusive"===f&&c.visible||(c.visible=!c.visible);b.stopPropagation()};b.prototype._toggleChildrenClick=function(b){var c=b.currentTarget["data-item"];c.open=!c.open;b.stopPropagation()};b.prototype._toggleSelection=function(b){b.stopPropagation();var c=b.metaKey||b.ctrlKey;b=b.currentTarget["data-item"];var f=this.selectedItems,e=-1<f.indexOf(b),k=f.length,g=e&&1===k;c?e?f.remove(b):f.add(b):k&&!g?(f.removeAll(),f.add(b)):e?f.remove(b):
f.add(b)};g([k.property()],b.prototype,"iconClass",void 0);g([k.property(),q.renderable()],b.prototype,"errorsVisible",void 0);g([k.property()],b.prototype,"label",void 0);g([k.aliasOf("viewModel.listItemCreatedFunction"),q.renderable()],b.prototype,"listItemCreatedFunction",void 0);g([k.aliasOf("viewModel.operationalItems"),q.renderable()],b.prototype,"operationalItems",void 0);g([k.property(),q.renderable()],b.prototype,"selectionEnabled",void 0);g([k.property(),q.renderable()],b.prototype,"selectedItems",
void 0);g([k.property(),q.renderable()],b.prototype,"statusIndicatorsVisible",void 0);g([k.aliasOf("viewModel.view"),q.renderable()],b.prototype,"view",void 0);g([q.vmEvent("trigger-action"),k.property({type:f}),q.renderable("viewModel.state")],b.prototype,"viewModel",void 0);g([k.aliasOf("viewModel.triggerAction")],b.prototype,"triggerAction",null);g([q.accessibleHandler()],b.prototype,"_toggleActionsOpen",null);g([q.accessibleHandler()],b.prototype,"_triggerPanel",null);g([q.accessibleHandler()],
b.prototype,"_triggerAction",null);g([q.accessibleHandler()],b.prototype,"_toggleVisibility",null);g([q.accessibleHandler()],b.prototype,"_toggleChildrenClick",null);g([q.accessibleHandler()],b.prototype,"_toggleSelection",null);return b=g([k.subclass("esri.widgets.LayerList")],b)}(k.declared(b))})},"esri/libs/sortablejs/Sortable":function(){(function(A,x){"object"===typeof exports&&"undefined"!==typeof module?module.exports=x():"function"===typeof define&&define.amd?define(x):(A=A||self,A.Sortable=
x())})(this,function(){function A(a){A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return A(a)}function x(){x=Object.assign||function(a){for(var d=1;d<arguments.length;d++){var h=arguments[d],b;for(b in h)Object.prototype.hasOwnProperty.call(h,b)&&(a[b]=h[b])}return a};return x.apply(this,arguments)}function C(a){for(var d=1;d<arguments.length;d++){var h=
null!=arguments[d]?arguments[d]:{},b=Object.keys(h);"function"===typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(h).filter(function(a){return Object.getOwnPropertyDescriptor(h,a).enumerable})));b.forEach(function(d){var b=h[d];d in a?Object.defineProperty(a,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):a[d]=b})}return a}function g(a,d){if(null==a)return{};var h;if(null==a)h={};else{h={};var b=Object.keys(a),c,f;for(f=0;f<b.length;f++)c=b[f],0<=d.indexOf(c)||
(h[c]=a[c])}if(Object.getOwnPropertySymbols)for(f=Object.getOwnPropertySymbols(a),c=0;c<f.length;c++)b=f[c],0<=d.indexOf(b)||Object.prototype.propertyIsEnumerable.call(a,b)&&(h[b]=a[b]);return h}function y(a){var d;if(Array.isArray(a)){d=0;for(var h=Array(a.length);d<a.length;d++)h[d]=a[d];d=h}else d=void 0;d||(d=Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0);if(!(a=d))throw new TypeError("Invalid attempt to spread non-iterable instance");
return a}function n(a){return!!navigator.userAgent.match(a)}function l(a,d,h){a.addEventListener(d,h,!ca&&hb)}function e(a,d,h){a.removeEventListener(d,h,!ca&&hb)}function r(a,d){if(d){"\x3e"===d[0]&&(d=d.substring(1));if(a)try{if(a.matches)return a.matches(d);if(a.msMatchesSelector)return a.msMatchesSelector(d);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(d)}catch(h){}return!1}}function D(a,d,h,b){if(a){h=h||document;do{if(null!=d&&("\x3e"===d[0]?a.parentNode===h&&r(a,d):r(a,d))||b&&
a===h)return a;if(a===h)break}while(a=a.host&&a!==document&&a.host.nodeType?a.host:a.parentNode)}return null}function p(a,d,h){if(a&&d)if(a.classList)a.classList[h?"add":"remove"](d);else{var b=(" "+a.className+" ").replace(ib," ").replace(" "+d+" "," ");a.className=(b+(h?" "+d:"")).replace(ib," ")}}function k(a,d,h){var b=a&&a.style;if(b){if(void 0===h)return document.defaultView&&document.defaultView.getComputedStyle?h=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(h=a.currentStyle),
void 0===d?h:h[d];d in b||-1!==d.indexOf("webkit")||(d="-webkit-"+d);b[d]=h+("string"===typeof h?"":"px")}}function E(a,d){var h="";if("string"===typeof a)h=a;else{do{var b=k(a,"transform");b&&"none"!==b&&(h=b+" "+h)}while(!d&&(a=a.parentNode))}return(a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix)&&new a(h)}function b(a,d,h){if(a){a=a.getElementsByTagName(d);d=0;var b=a.length;if(h)for(;d<b;d++)h(a[d],d);return a}return[]}function f(){return ca?document.documentElement:document.scrollingElement}
function F(a,d,h,b,c){if(a.getBoundingClientRect||a===window){var B,H,e,g,l,u,q;a!==window&&a!==f()?(B=a.getBoundingClientRect(),H=B.top,e=B.left,g=B.bottom,l=B.right,u=B.height,q=B.width):(e=H=0,g=window.innerHeight,l=window.innerWidth,u=window.innerHeight,q=window.innerWidth);if((d||h)&&a!==window&&(c=c||a.parentNode,!ca)){do if(c&&c.getBoundingClientRect&&("none"!==k(c,"transform")||h&&"static"!==k(c,"position"))){g=c.getBoundingClientRect();H-=g.top+parseInt(k(c,"border-top-width"));e-=g.left+
parseInt(k(c,"border-left-width"));g=H+B.height;l=e+B.width;break}while(c=c.parentNode)}b&&a!==window&&(b=(a=E(c||a))&&a.a,c=a&&a.d,a&&(H/=c,e/=b,q/=b,u/=c,g=H+u,l=e+q));return{top:H,left:e,bottom:g,right:l,width:q,height:u}}}function q(a,d,h){var b=J(a,!0);for(a=F(a)[d];b;){d=F(b)[h];var c=void 0,c="top"===h||"left"===h?a>=d:a<=d;if(!c)return b;if(b===f())break;b=J(b,!1)}return!1}function P(a,d,h){for(var b=0,c=0,f=a.children;c<f.length;){if("none"!==f[c].style.display&&f[c]!==w.ghost&&f[c]!==w.dragged&&
D(f[c],h.draggable,a,!1)){if(b===d)return f[c];b++}c++}return null}function S(a,d){for(a=a.lastElementChild;a&&(a===w.ghost||"none"===k(a,"display")||d&&!r(a,d));)a=a.previousElementSibling;return a||null}function I(a,d){var h=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)"TEMPLATE"===a.nodeName.toUpperCase()||a===w.clone||d&&!r(a,d)||h++;return h}function eb(a){var d=0,h=0,b=f();if(a){do var c=E(a),e=c.d,d=d+a.scrollLeft*c.a,h=h+a.scrollTop*e;while(a!==b&&(a=a.parentNode))}return[d,
h]}function c(a,d){for(var h in a)if(a.hasOwnProperty(h))for(var b in d)if(d.hasOwnProperty(b)&&d[b]===a[h][b])return Number(h);return-1}function J(a,d){if(!a||!a.getBoundingClientRect)return f();var h=!1;do if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var b=k(a);if(a.clientWidth<a.scrollWidth&&("auto"==b.overflowX||"scroll"==b.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==b.overflowY||"scroll"==b.overflowY)){if(!a.getBoundingClientRect||a===document.body)break;if(h||d)return a;
h=!0}}while(a=a.parentNode);return f()}function u(a,d){return Math.round(a.top)===Math.round(d.top)&&Math.round(a.left)===Math.round(d.left)&&Math.round(a.height)===Math.round(d.height)&&Math.round(a.width)===Math.round(d.width)}function la(a,d){return function(){if(!ua){var h=arguments;1===h.length?a.call(this,h[0]):a.apply(this,h);ua=setTimeout(function(){ua=void 0},d)}}}function fb(a,d,h){a.scrollLeft+=d;a.scrollTop+=h}function sa(a){var d=window.Polymer,h=window.jQuery||window.Zepto;return d&&
d.dom?d.dom(a).cloneNode(!0):h?h(a).clone(!0)[0]:a.cloneNode(!0)}function gb(a,d){k(a,"position","absolute");k(a,"top",d.top);k(a,"left",d.left);k(a,"width",d.width);k(a,"height",d.height)}function Ra(a){k(a,"position","");k(a,"top","");k(a,"left","");k(a,"width","");k(a,"height","")}function ub(){var a=[],d;return{captureAnimationState:function(){a=[];this.options.animation&&[].slice.call(this.el.children).forEach(function(d){if("none"!==k(d,"display")&&d!==w.ghost){a.push({target:d,rect:F(d)});
var h=C({},a[a.length-1].rect);if(d.thisAnimationDuration){var b=E(d,!0);b&&(h.top-=b.f,h.left-=b.e)}d.fromRect=h}})},addAnimationState:function(d){a.push(d)},removeAnimationState:function(d){a.splice(c(a,{target:d}),1)},animateAll:function(h){var b=this;if(this.options.animation){var c=!1,f=0;a.forEach(function(a){var d=0,h=a.target,B=h.fromRect,H=F(h),e=h.prevFromRect,k=h.prevToRect;a=a.rect;var na=E(h,!0);na&&(H.top-=na.f,H.left-=na.e);h.toRect=H;h.thisAnimationDuration&&u(e,H)&&!u(B,H)&&(a.top-
H.top)/(a.left-H.left)===(B.top-H.top)/(B.left-H.left)&&(d=Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))/Math.sqrt(Math.pow(e.top-k.top,2)+Math.pow(e.left-k.left,2))*b.options.animation);u(H,B)||(h.prevFromRect=B,h.prevToRect=H,d||(d=b.options.animation),b.animate(h,a,H,d));d&&(c=!0,f=Math.max(f,d),clearTimeout(h.animationResetTimer),h.animationResetTimer=setTimeout(function(){h.animationTime=0;h.prevFromRect=null;h.fromRect=null;h.prevToRect=null;h.thisAnimationDuration=null},d),h.thisAnimationDuration=
d)});clearTimeout(d);c?d=setTimeout(function(){"function"===typeof h&&h()},f):"function"===typeof h&&h();a=[]}else clearTimeout(d),"function"===typeof h&&h()},animate:function(a,d,b,c){if(c){k(a,"transition","");k(a,"transform","");var h=E(this.el),f=(d.left-b.left)/(h&&h.a||1);d=(d.top-b.top)/(h&&h.d||1);a.animatingX=!!f;a.animatingY=!!d;k(a,"transform","translate3d("+f+"px,"+d+"px,0)");k(a,"transition","transform "+c+"ms"+(this.options.easing?" "+this.options.easing:""));k(a,"transform","translate3d(0,0,0)");
"number"===typeof a.animated&&clearTimeout(a.animated);a.animated=setTimeout(function(){k(a,"transition","");k(a,"transform","");a.animated=!1;a.animatingX=!1;a.animatingY=!1},c)}}}}function ta(a){var d=a.sortable,h=a.rootEl,b=a.name,c=a.targetEl,f=a.cloneEl,e=a.toEl,k=a.fromEl,g=a.oldIndex,l=a.newIndex,u=a.oldDraggableIndex,q=a.newDraggableIndex,F=a.originalEvent,n=a.putSortable,m=a.extraEventProperties;if(d=d||h&&h[Q]){var p=d.options,D="on"+b.charAt(0).toUpperCase()+b.substr(1);!window.CustomEvent||
ca||va?(a=document.createEvent("Event"),a.initEvent(b,!0,!0)):a=new CustomEvent(b,{bubbles:!0,cancelable:!0});a.to=e||h;a.from=k||h;a.item=c||h;a.clone=f;a.oldIndex=g;a.newIndex=l;a.oldDraggableIndex=u;a.newDraggableIndex=q;a.originalEvent=F;a.pullMode=n?n.lastPutMode:void 0;var b=C({},m,wa.getEventProperties(b,d)),r;for(r in b)a[r]=b[r];h&&h.dispatchEvent(a);p[D]&&p[D].call(d,a)}}function T(a){ta(C({putSortable:O,cloneEl:G,targetEl:m,rootEl:M,oldIndex:oa,oldDraggableIndex:xa,newIndex:W,newDraggableIndex:ea},
a))}function w(a,d){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));this.el=a;this.options=d=x({},d);a[Q]=this;var h={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?"\x3eli":"\x3e*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return jb(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",
ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,d){a.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==w.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};wa.initializePlugins(this,
a,h);for(var b in h)b in d||(d[b]=h[b]);kb(d);for(var c in this)"_"===c.charAt(0)&&"function"===typeof this[c]&&(this[c]=this[c].bind(this));if(this.nativeDraggable=d.forceFallback?!1:Bb)this.options.touchStartThreshold=1;d.supportPointer?l(a,"pointerdown",this._onTapStart):(l(a,"mousedown",this._onTapStart),l(a,"touchstart",this._onTapStart));this.nativeDraggable&&(l(a,"dragover",this),l(a,"dragenter",this));Ha.push(this.el);d.store&&d.store.get&&this.sort(d.store.get(this)||[]);x(this,ub())}function Sa(a,
d,h,b,c,f,e,k){var B,H=a[Q],g=H.options.onMove,na;!window.CustomEvent||ca||va?(B=document.createEvent("Event"),B.initEvent("move",!0,!0)):B=new CustomEvent("move",{bubbles:!0,cancelable:!0});B.to=d;B.from=a;B.dragged=h;B.draggedRect=b;B.related=c||d;B.relatedRect=f||F(d);B.willInsertAfter=k;B.originalEvent=e;a.dispatchEvent(B);g&&(na=g.call(H,B,e));return na}function Ta(a){a.draggable=!1}function vb(){Ua=!1}function wb(a,d,h){h=F(S(h.el,h.options.draggable));return d?a.clientX>h.right+10||a.clientX<=
h.right&&a.clientY>h.bottom&&a.clientX>=h.left:a.clientX>h.right&&a.clientY>h.top||a.clientX<=h.right&&a.clientY>h.bottom+10}function xb(a,d,h,b,c,f,e,k){a=b?a.clientY:a.clientX;var B=b?h.height:h.width,H=b?h.top:h.left;h=b?h.bottom:h.right;b=!1;if(!e)if(k&&Ia<B*c)if(!ya&&(1===za?a>H+B*f/2:a<h-B*f/2)&&(ya=!0),ya)b=!0;else{if(1===za?a<H+Ia:a>h-Ia)return-za}else if(a>H+B*(1-c)/2&&a<h-B*(1-c)/2)return d=I(m)<I(d)?1:-1,d;if(b||e)if(a<H+B*f/2||a>h-B*f/2)return a>H+B/2?1:-1;return 0}function yb(a){a=a.tagName+
a.className+a.src+a.href+a.textContent;for(var d=a.length,h=0;d--;)h+=a.charCodeAt(d);return h.toString(36)}function zb(a){Ja.length=0;a=a.getElementsByTagName("input");for(var d=a.length;d--;){var h=a[d];h.checked&&Ja.push(h)}}function U(a){return setTimeout(a,0)}function da(){K.forEach(function(a){clearInterval(a.pid)});K=[]}function ma(){}function ga(){}function Ab(a,d){v.forEach(function(h,b){(b=d.children[h.sortableIndex+(a?Number(b):0)])?d.insertBefore(h,b):d.appendChild(h)})}function lb(a,
d){X.forEach(function(h,b){(b=d.children[h.sortableIndex+(a?Number(b):0)])?d.insertBefore(h,b):d.appendChild(h)})}function Ka(){v.forEach(function(a){a!==z&&a.parentNode&&a.parentNode.removeChild(a)})}var ca=n(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),va=n(/Edge/i),mb=n(/firefox/i),Va=n(/safari/i)&&!n(/chrome/i)&&!n(/android/i),Aa=n(/iP(ad|od|hone)/i),Cb=n(/chrome/i)&&n(/android/i),hb={capture:!1,passive:!1},ib=/\s+/g,ua,Q="Sortable"+(new Date).getTime(),Ba=[],Wa={initializeByDefault:!0},
wa={mount:function(a){for(var d in Wa)!Wa.hasOwnProperty(d)||d in a||(a[d]=Wa[d]);Ba.push(a)},pluginEvent:function(a,d,h){var b=this;this.eventCanceled=!1;h.cancel=function(){b.eventCanceled=!0};var c=a+"Global";Ba.forEach(function(b){if(d[b.pluginName]){if(d[b.pluginName][c])d[b.pluginName][c](C({sortable:d},h));if(d.options[b.pluginName]&&d[b.pluginName][a])d[b.pluginName][a](C({sortable:d},h))}})},initializePlugins:function(a,d,b,c){Ba.forEach(function(h){var c=h.pluginName;if(a.options[c]||h.initializeByDefault)h=
new h(a,d,a.options),h.sortable=a,h.options=a.options,a[c]=h,x(b,h.defaults)});for(var h in a.options)a.options.hasOwnProperty(h)&&(c=this.modifyOption(a,h,a.options[h]),"undefined"!==typeof c&&(a.options[h]=c))},getEventProperties:function(a,d){var h={};Ba.forEach(function(b){"function"===typeof b.eventProperties&&x(h,b.eventProperties.call(d[b.pluginName],a))});return h},modifyOption:function(a,d,b){var h;Ba.forEach(function(c){a[c.pluginName]&&c.optionListeners&&"function"===typeof c.optionListeners[d]&&
(h=c.optionListeners[d].call(a[c.pluginName],b))});return h}},V=function(a,d){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},c=b.evt,b=g(b,["evt"]);wa.pluginEvent.bind(w)(a,d,C({dragEl:m,parentEl:N,ghostEl:t,rootEl:M,nextEl:ha,lastDownEl:La,cloneEl:G,cloneHidden:fa,dragStarted:Ca,putSortable:O,activeSortable:w.active,originalEvent:c,oldIndex:oa,oldDraggableIndex:xa,newIndex:W,newDraggableIndex:ea,hideGhostForTarget:nb,unhideGhostForTarget:ob,cloneNowHidden:function(){fa=!0},cloneNowShown:function(){fa=
!1},dispatchSortableEvent:function(a){T({sortable:d,name:a,originalEvent:c})}},b))};if("undefined"===typeof window||!window.document)throw Error("Sortable.js requires a window with a document");var m,N,t,M,ha,La,G,fa,oa,W,xa,ea,Ma,O,pa=!1,Na=!1,Ha=[],ia,aa,Xa,Ya,pb,qb,Ca,qa,za,ya=!1,Oa=!1,Ia,L,Za=[],Ua=!1,Ja=[],rb=va||ca?"cssFloat":"float",Bb=!Cb&&!Aa&&"draggable"in document.createElement("div"),sb=function(){if(ca)return!1;var a=document.createElement("x");a.style.cssText="pointer-events:auto";return"auto"===
a.style.pointerEvents}(),jb=function(a,d){var b=k(a),c=parseInt(b.width)-parseInt(b.paddingLeft)-parseInt(b.paddingRight)-parseInt(b.borderLeftWidth)-parseInt(b.borderRightWidth),f=P(a,0,d);a=P(a,1,d);var e=f&&k(f);d=a&&k(a);var g=e&&parseInt(e.marginLeft)+parseInt(e.marginRight)+F(f).width,l=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+F(a).width;return"flex"===b.display?"column"===b.flexDirection||"column-reverse"===b.flexDirection?"vertical":"horizontal":"grid"===b.display?1>=b.gridTemplateColumns.split(" ").length?
"vertical":"horizontal":f&&e["float"]&&"none"!==e["float"]?(b="left"===e["float"]?"left":"right",!a||"both"!==d.clear&&d.clear!==b?"horizontal":"vertical"):f&&("block"===e.display||"flex"===e.display||"table"===e.display||"grid"===e.display||g>=c&&"none"===b[rb]||a&&"none"===b[rb]&&g+l>c)?"vertical":"horizontal"},Db=function(a,d,b){var h=b?a.left:a.top,c=b?a.right:a.bottom;a=b?a.width:a.height;var f=b?d.left:d.top,e=b?d.right:d.bottom;d=b?d.width:d.height;return h===f||c===e||h+a/2===f+d/2},Eb=function(a,
d){var b;Ha.some(function(h){if(!S(h)){var c=F(h),f=h[Q].options.emptyInsertThreshold,e=a>=c.left-f&&a<=c.right+f,c=d>=c.top-f&&d<=c.bottom+f;if(f&&e&&c)return b=h}});return b},kb=function(a){function d(a,b){return function(h,c,f,e){var B=h.options.group.name&&c.options.group.name&&h.options.group.name===c.options.group.name;if(null==a&&(b||B))return!0;if(null==a||!1===a)return!1;if(b&&"clone"===a)return a;if("function"===typeof a)return d(a(h,c,f,e),b)(h,c,f,e);h=(b?h:c).options.group.name;return!0===
a||"string"===typeof a&&a===h||a.join&&-1<a.indexOf(h)}}var b={},c=a.group;c&&"object"==A(c)||(c={name:c});b.name=c.name;b.checkPull=d(c.pull,!0);b.checkPut=d(c.put);b.revertClone=c.revertClone;a.group=b},nb=function(){!sb&&t&&k(t,"display","none")},ob=function(){!sb&&t&&k(t,"display","")};document.addEventListener("click",function(a){if(Na)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),Na=!1},!0);var ja=function(a){if(m){a=
a.touches?a.touches[0]:a;var d=Eb(a.clientX,a.clientY);if(d){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.target=b.rootEl=d;b.preventDefault=void 0;b.stopPropagation=void 0;d[Q]._onDragOver(b)}}},Fb=function(a){m&&m.parentNode[Q]._isOutsideThisEl(a.target)};w.prototype={constructor:w,_isOutsideThisEl:function(a){this.el.contains(a)||a===this.el||(qa=null)},_getDirection:function(a,d){return"function"===typeof this.options.direction?this.options.direction.call(this,a,d,m):this.options.direction},
_onTapStart:function(a){if(a.cancelable){var d=this,b=this.el,c=this.options,f=c.preventOnFilter,e=a.type,k=a.touches&&a.touches[0]||a.pointerType&&"touch"===a.pointerType&&a,g=(k||a).target,l=a.target.shadowRoot&&(a.path&&a.path[0]||a.composedPath&&a.composedPath()[0])||g,u=c.filter;zb(b);if(!(m||/mousedown|pointerdown/.test(e)&&0!==a.button||c.disabled||l.isContentEditable||(g=D(g,c.draggable,b,!1),g&&g.animated||La===g))){oa=I(g);xa=I(g,c.draggable);if("function"===typeof u){if(u.call(this,a,g,
this)){T({sortable:d,rootEl:l,name:"filter",targetEl:g,toEl:b,fromEl:b});V("filter",d,{evt:a});f&&a.cancelable&&a.preventDefault();return}}else if(u&&(u=u.split(",").some(function(h){if(h=D(l,h.trim(),b,!1))return T({sortable:d,rootEl:h,name:"filter",targetEl:g,fromEl:b,toEl:b}),V("filter",d,{evt:a}),!0}))){f&&a.cancelable&&a.preventDefault();return}c.handle&&!D(l,c.handle,b,!1)||this._prepareDragStart(a,k,g)}}},_prepareDragStart:function(a,d,h){var c=this,f=c.el,e=c.options,k=f.ownerDocument;if(h&&
!m&&h.parentNode===f){var g=F(h);M=f;m=h;N=m.parentNode;ha=m.nextSibling;La=h;Ma=e.group;w.dragged=m;ia={target:m,clientX:(d||a).clientX,clientY:(d||a).clientY};pb=ia.clientX-g.left;qb=ia.clientY-g.top;this._lastX=(d||a).clientX;this._lastY=(d||a).clientY;m.style["will-change"]="all";h=function(){V("delayEnded",c,{evt:a});w.eventCanceled?c._onDrop():(c._disableDelayedDragEvents(),!mb&&c.nativeDraggable&&(m.draggable=!0),c._triggerDragStart(a,d),T({sortable:c,name:"choose",originalEvent:a}),p(m,e.chosenClass,
!0))};e.ignore.split(",").forEach(function(a){b(m,a.trim(),Ta)});l(k,"dragover",ja);l(k,"mousemove",ja);l(k,"touchmove",ja);l(k,"mouseup",c._onDrop);l(k,"touchend",c._onDrop);l(k,"touchcancel",c._onDrop);mb&&this.nativeDraggable&&(this.options.touchStartThreshold=4,m.draggable=!0);V("delayStart",this,{evt:a});!e.delay||e.delayOnTouchOnly&&!d||this.nativeDraggable&&(va||ca)?h():w.eventCanceled?this._onDrop():(l(k,"mouseup",c._disableDelayedDrag),l(k,"touchend",c._disableDelayedDrag),l(k,"touchcancel",
c._disableDelayedDrag),l(k,"mousemove",c._delayedDragTouchMoveHandler),l(k,"touchmove",c._delayedDragTouchMoveHandler),e.supportPointer&&l(k,"pointermove",c._delayedDragTouchMoveHandler),c._dragStartTimer=setTimeout(h,e.delay))}},_delayedDragTouchMoveHandler:function(a){a=a.touches?a.touches[0]:a;Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){m&&
Ta(m);clearTimeout(this._dragStartTimer);this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var a=this.el.ownerDocument;e(a,"mouseup",this._disableDelayedDrag);e(a,"touchend",this._disableDelayedDrag);e(a,"touchcancel",this._disableDelayedDrag);e(a,"mousemove",this._delayedDragTouchMoveHandler);e(a,"touchmove",this._delayedDragTouchMoveHandler);e(a,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(a,d){d=d||"touch"==a.pointerType&&a;!this.nativeDraggable||
d?this.options.supportPointer?l(document,"pointermove",this._onTouchMove):d?l(document,"touchmove",this._onTouchMove):l(document,"mousemove",this._onTouchMove):(l(m,"dragend",this),l(M,"dragstart",this._onDragStart));try{document.selection?U(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(h){}},_dragStarted:function(a,d){pa=!1;if(M&&m){V("dragStarted",this,{evt:d});this.nativeDraggable&&l(document,"dragover",Fb);var b=this.options;!a&&p(m,b.dragClass,!1);p(m,
b.ghostClass,!0);w.active=this;a&&this._appendGhost();T({sortable:this,name:"start",originalEvent:d})}else this._nulling()},_emulateDragOver:function(){if(aa){this._lastX=aa.clientX;this._lastY=aa.clientY;nb();for(var a=document.elementFromPoint(aa.clientX,aa.clientY),d=a;a&&a.shadowRoot;){a=a.shadowRoot.elementFromPoint(aa.clientX,aa.clientY);if(a===d)break;d=a}m.parentNode[Q]._isOutsideThisEl(a);if(d){do{if(d[Q]){var b=void 0;if((b=d[Q]._onDragOver({clientX:aa.clientX,clientY:aa.clientY,target:a,
rootEl:d}))&&!this.options.dragoverBubble)break}a=d}while(d=d.parentNode)}ob()}},_onTouchMove:function(a){if(ia){var d=this.options,b=d.fallbackTolerance,c=d.fallbackOffset,d=a.touches?a.touches[0]:a,f=t&&E(t),e=t&&f&&f.a,g=t&&f&&f.d,l=Aa&&L&&eb(L),e=(d.clientX-ia.clientX+c.x)/(e||1)+(l?l[0]-Za[0]:0)/(e||1),c=(d.clientY-ia.clientY+c.y)/(g||1)+(l?l[1]-Za[1]:0)/(g||1);if(!w.active&&!pa){if(b&&Math.max(Math.abs(d.clientX-this._lastX),Math.abs(d.clientY-this._lastY))<b)return;this._onDragStart(a,!0)}t&&
(f?(f.e+=e-(Xa||0),f.f+=c-(Ya||0)):f={a:1,b:0,c:0,d:1,e:e,f:c},b="matrix(".concat(f.a,",").concat(f.b,",").concat(f.c,",").concat(f.d,",").concat(f.e,",").concat(f.f,")"),k(t,"webkitTransform",b),k(t,"mozTransform",b),k(t,"msTransform",b),k(t,"transform",b),Xa=e,Ya=c,aa=d);a.cancelable&&a.preventDefault()}},_appendGhost:function(){if(!t){var a=this.options.fallbackOnBody?document.body:M,d=F(m,!0,Aa,!0,a),b=this.options;if(Aa){for(L=a;"static"===k(L,"position")&&"none"===k(L,"transform")&&L!==document;)L=
L.parentNode;L!==document.body&&L!==document.documentElement?(L===document&&(L=f()),d.top+=L.scrollTop,d.left+=L.scrollLeft):L=f();Za=eb(L)}t=m.cloneNode(!0);p(t,b.ghostClass,!1);p(t,b.fallbackClass,!0);p(t,b.dragClass,!0);k(t,"transition","");k(t,"transform","");k(t,"box-sizing","border-box");k(t,"margin",0);k(t,"top",d.top);k(t,"left",d.left);k(t,"width",d.width);k(t,"height",d.height);k(t,"opacity","0.8");k(t,"position",Aa?"absolute":"fixed");k(t,"zIndex","100000");k(t,"pointerEvents","none");
w.ghost=t;a.appendChild(t);k(t,"transform-origin",pb/parseInt(t.style.width)*100+"% "+qb/parseInt(t.style.height)*100+"%")}},_onDragStart:function(a,d){var b=this,c=a.dataTransfer,f=b.options;V("dragStart",this,{evt:a});w.eventCanceled?this._onDrop():(V("setupClone",this),w.eventCanceled||(G=sa(m),G.draggable=!1,G.style["will-change"]="",this._hideClone(),p(G,this.options.chosenClass,!1),w.clone=G),b.cloneId=U(function(){V("clone",b);w.eventCanceled||(b.options.removeCloneOnHide||M.insertBefore(G,
m),b._hideClone(),T({sortable:b,name:"clone"}))}),!d&&p(m,f.dragClass,!0),d?(Na=!0,b._loopId=setInterval(b._emulateDragOver,50)):(e(document,"mouseup",b._onDrop),e(document,"touchend",b._onDrop),e(document,"touchcancel",b._onDrop),c&&(c.effectAllowed="move",f.setData&&f.setData.call(b,c,m)),l(document,"drop",b),k(m,"transform","translateZ(0)")),pa=!0,b._dragStartId=U(b._dragStarted.bind(b,d,a)),l(document,"selectstart",b),Ca=!0,Va&&k(document.body,"user-select","none"))},_onDragOver:function(a){function d(d,
b){V(d,R,C({evt:a,isOwner:x,axis:J?"vertical":"horizontal",revert:n,dragRect:l,targetRect:u,canSort:A,fromSortable:y,target:g,completed:c,onMove:function(d,b){return Sa(M,e,m,l,d,F(d),a,b)},changed:f},b))}function b(){d("dragOverAnimationCapture");R.captureAnimationState();R!==y&&y.captureAnimationState()}function c(b){d("dragOverCompleted",{insertion:b});b&&(x?v._hideClone():v._showClone(R),R!==y&&(p(m,O?O.options.ghostClass:v.options.ghostClass,!1),p(m,r.ghostClass,!0)),O!==R&&R!==w.active?O=R:
R===w.active&&O&&(O=null),y===R&&(R._ignoreWhileAnimating=g),R.animateAll(function(){d("dragOverAnimationComplete");R._ignoreWhileAnimating=null}),R!==y&&(y.animateAll(),y._ignoreWhileAnimating=null));if(g===m&&!m.animated||g===e&&!g.animated)qa=null;r.dragoverBubble||a.rootEl||g===document||(m.parentNode[Q]._isOutsideThisEl(a.target),!b&&ja(a));!r.dragoverBubble&&a.stopPropagation&&a.stopPropagation();return P=!0}function f(){W=I(m);ea=I(m,r.draggable);T({sortable:R,name:"change",toEl:e,newIndex:W,
newDraggableIndex:ea,originalEvent:a})}var e=this.el,g=a.target,l,u,n,r=this.options,E=r.group,v=w.active,x=Ma===E,A=r.sort,y=O||v,J,R=this,P=!1;if(!Ua){void 0!==a.preventDefault&&a.cancelable&&a.preventDefault();g=D(g,r.draggable,e,!0);d("dragOver");if(w.eventCanceled)return P;if(m.contains(a.target)||g.animated&&g.animatingX&&g.animatingY||R._ignoreWhileAnimating===g)return c(!1);Na=!1;if(v&&!r.disabled&&(x?A||(n=!M.contains(m)):O===this||(this.lastPutMode=Ma.checkPull(this,v,m,a))&&E.checkPut(this,
v,m,a))){J="vertical"===this._getDirection(a,g);l=F(m);d("dragOverValid");if(w.eventCanceled)return P;if(n)return N=M,b(),this._hideClone(),d("revert"),w.eventCanceled||(ha?M.insertBefore(m,ha):M.appendChild(m)),c(!0);E=S(e,r.draggable);if(!E||wb(a,J,this)&&!E.animated){if(E===m)return c(!1);E&&e===a.target&&(g=E);g&&(u=F(g));if(!1!==Sa(M,e,m,l,g,u,a,!!g))return b(),e.appendChild(m),N=e,f(),c(!0)}else if(g.parentNode===e){u=F(g);var z=0,la,z=m.parentNode!==e,G=!Db(m.animated&&m.toRect||l,g.animated&&
g.toRect||u,J),E=J?"top":"left",K=q(g,"top","top")||q(m,"top","top"),sa=K?K.scrollTop:void 0;qa!==g&&(la=u[E],ya=!1,Oa=!G&&r.invertSwap||z);var z=xb(a,g,u,J,G?1:r.swapThreshold,null==r.invertedSwapThreshold?r.swapThreshold:r.invertedSwapThreshold,Oa,qa===g),L;if(0!==z){G=I(m);do G-=z,L=N.children[G];while(L&&("none"===k(L,"display")||L===t))}if(0===z||L===g)return c(!1);qa=g;za=z;L=g.nextElementSibling;G=!1;G=1===z;z=Sa(M,e,m,l,g,u,a,G);if(!1!==z){if(1===z||-1===z)G=1===z;Ua=!0;setTimeout(vb,30);
b();G&&!L?e.appendChild(m):g.parentNode.insertBefore(m,G?L:g);K&&fb(K,0,sa-K.scrollTop);N=m.parentNode;void 0===la||Oa||(Ia=Math.abs(la-F(g)[E]));f();return c(!0)}}if(e.contains(m))return c(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){e(document,"mousemove",this._onTouchMove);e(document,"touchmove",this._onTouchMove);e(document,"pointermove",this._onTouchMove);e(document,"dragover",ja);e(document,"mousemove",ja);e(document,"touchmove",ja)},_offUpEvents:function(){var a=this.el.ownerDocument;
e(a,"mouseup",this._onDrop);e(a,"touchend",this._onDrop);e(a,"pointerup",this._onDrop);e(a,"touchcancel",this._onDrop);e(document,"selectstart",this)},_onDrop:function(a){var b=this.el,c=this.options;W=I(m);ea=I(m,c.draggable);V("drop",this,{evt:a});N=m&&m.parentNode;W=I(m);ea=I(m,c.draggable);if(!w.eventCanceled&&(ya=Oa=pa=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),clearTimeout(this.cloneId),clearTimeout(this._dragStartId),this.nativeDraggable&&(e(document,"drop",this),e(b,
"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Va&&k(document.body,"user-select",""),a&&(Ca&&(a.cancelable&&a.preventDefault(),!c.dropBubble&&a.stopPropagation()),t&&t.parentNode&&t.parentNode.removeChild(t),(M===N||O&&"clone"!==O.lastPutMode)&&G&&G.parentNode&&G.parentNode.removeChild(G),m&&(this.nativeDraggable&&e(m,"dragend",this),Ta(m),m.style["will-change"]="",Ca&&!pa&&p(m,O?O.options.ghostClass:this.options.ghostClass,!1),p(m,this.options.chosenClass,!1),T({sortable:this,
name:"unchoose",toEl:N,newIndex:null,newDraggableIndex:null,originalEvent:a}),M!==N?(0<=W&&(T({rootEl:N,name:"add",toEl:N,fromEl:M,originalEvent:a}),T({sortable:this,name:"remove",toEl:N,originalEvent:a}),T({rootEl:N,name:"sort",toEl:N,fromEl:M,originalEvent:a}),T({sortable:this,name:"sort",toEl:N,originalEvent:a})),O&&O.save()):W!==oa&&0<=W&&(T({sortable:this,name:"update",toEl:N,originalEvent:a}),T({sortable:this,name:"sort",toEl:N,originalEvent:a})),w.active)))){if(null==W||-1===W)W=oa,ea=xa;T({sortable:this,
name:"end",toEl:N,originalEvent:a});this.save()}this._nulling()},_nulling:function(){V("nulling",this);M=m=N=t=ha=G=La=fa=ia=aa=Ca=W=ea=oa=xa=qa=za=O=Ma=w.dragged=w.ghost=w.clone=w.active=null;Ja.forEach(function(a){a.checked=!0});Ja.length=Xa=Ya=0},handleEvent:function(a){switch(a.type){case "drop":case "dragend":this._onDrop(a);break;case "dragenter":case "dragover":m&&(this._onDragOver(a),a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault());break;case "selectstart":a.preventDefault()}},
toArray:function(){for(var a=[],b,c=this.el.children,f=0,e=c.length,g=this.options;f<e;f++)b=c[f],D(b,g.draggable,this.el,!1)&&a.push(b.getAttribute(g.dataIdAttr)||yb(b));return a},sort:function(a){var b={},c=this.el;this.toArray().forEach(function(a,d){d=c.children[d];D(d,this.options.draggable,c,!1)&&(b[a]=d)},this);a.forEach(function(a){b[a]&&(c.removeChild(b[a]),c.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set&&a.set(this)},closest:function(a,b){return D(a,b||this.options.draggable,
this.el,!1)},option:function(a,b){var d=this.options;if(void 0===b)return d[a];var c=wa.modifyOption(this,a,b);d[a]="undefined"!==typeof c?c:b;"group"===a&&kb(d)},destroy:function(){V("destroy",this);var a=this.el;a[Q]=null;e(a,"mousedown",this._onTapStart);e(a,"touchstart",this._onTapStart);e(a,"pointerdown",this._onTapStart);this.nativeDraggable&&(e(a,"dragover",this),e(a,"dragenter",this));Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")});
this._onDrop();Ha.splice(Ha.indexOf(this.el),1);this.el=a=null},_hideClone:function(){fa||(V("hideClone",this),w.eventCanceled||(k(G,"display","none"),this.options.removeCloneOnHide&&G.parentNode&&G.parentNode.removeChild(G),fa=!0))},_showClone:function(a){"clone"!==a.lastPutMode?this._hideClone():fa&&(V("showClone",this),w.eventCanceled||(M.contains(m)&&!this.options.group.revertClone?M.insertBefore(G,m):ha?M.insertBefore(G,ha):M.appendChild(G),this.options.group.revertClone&&this.animate(m,G),k(G,
"display",""),fa=!1))}};l(document,"touchmove",function(a){(w.active||pa)&&a.cancelable&&a.preventDefault()});w.utils={on:l,off:e,css:k,find:b,is:function(a,b){return!!D(a,b,a,!1)},extend:function(a,b){if(a&&b)for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a},throttle:la,closest:D,toggleClass:p,clone:sa,index:I,nextTick:U,cancelNextTick:function(a){return clearTimeout(a)},detectDirection:jb,getChild:P};w.get=function(a){return a[Q]};w.mount=function(){for(var a=arguments.length,b=Array(a),
c=0;c<a;c++)b[c]=arguments[c];b[0].constructor===Array&&(b=b[0]);b.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(w.utils=C({},w.utils,a.utils));wa.mount(a)})};w.create=function(a,b){return new w(a,b)};w.version="1.10.0";var K=[],Da,$a,ab=!1,bb,cb,Pa,ra,db=la(function(a,b,c,e){if(b.scroll){var d=(a.touches?a.touches[0]:a).clientX,h=(a.touches?a.touches[0]:a).clientY,g=b.scrollSensitivity,
l=b.scrollSpeed,u=f(),B=!1,q;$a!==c&&($a=c,da(),Da=b.scroll,q=b.scrollFn,!0===Da&&(Da=J(c,!0)));c=0;var n=Da;do{var r=n,m=F(r),p=m.top,D=m.bottom,E=m.left,v=m.right,x=m.width,m=m.height,y=void 0,t=void 0,z=r.scrollWidth,A=r.scrollHeight,t=k(r),C=r.scrollLeft,G=r.scrollTop;r===u?(y=x<z&&("auto"===t.overflowX||"scroll"===t.overflowX||"visible"===t.overflowX),t=m<A&&("auto"===t.overflowY||"scroll"===t.overflowY||"visible"===t.overflowY)):(y=x<z&&("auto"===t.overflowX||"scroll"===t.overflowX),t=m<A&&
("auto"===t.overflowY||"scroll"===t.overflowY));E=y&&(Math.abs(v-d)<=g&&C+x<z)-(Math.abs(E-d)<=g&&!!C);p=t&&(Math.abs(D-h)<=g&&G+m<A)-(Math.abs(p-h)<=g&&!!G);if(!K[c])for(D=0;D<=c;D++)K[D]||(K[D]={});if(K[c].vx!=E||K[c].vy!=p||K[c].el!==r)if(K[c].el=r,K[c].vx=E,K[c].vy=p,clearInterval(K[c].pid),0!=E||0!=p)B=!0,K[c].pid=setInterval(function(){e&&0===this.layer&&w.active._onTouchMove(Pa);var b=K[this.layer].vy?K[this.layer].vy*l:0,d=K[this.layer].vx?K[this.layer].vx*l:0;"function"===typeof q&&"continue"!==
q.call(w.dragged.parentNode[Q],d,b,a,Pa,K[this.layer].el)||fb(K[this.layer].el,d,b)}.bind({layer:c}),24);c++}while(b.bubbleScroll&&n!==u&&(n=J(n,!1)));ab=B}},30),tb=function(a){var b=a.originalEvent,c=a.putSortable,f=a.dragEl,e=a.activeSortable,g=a.dispatchSortableEvent,k=a.hideGhostForTarget;a=a.unhideGhostForTarget;e=c||e;k();b=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:b;b=document.elementFromPoint(b.clientX,b.clientY);a();e&&!e.el.contains(b)&&(g("spill"),this.onSpill({dragEl:f,
putSortable:c}))};ma.prototype={startIndex:null,dragStart:function(a){this.startIndex=a.oldDraggableIndex},onSpill:function(a){var b=a.dragEl;a=a.putSortable;this.sortable.captureAnimationState();a&&a.captureAnimationState();var c=P(this.sortable.el,this.startIndex,this.options);c?this.sortable.el.insertBefore(b,c):this.sortable.el.appendChild(b);this.sortable.animateAll();a&&a.animateAll()},drop:tb};x(ma,{pluginName:"revertOnSpill"});ga.prototype={onSpill:function(a){var b=a.dragEl;a=a.putSortable||
this.sortable;a.captureAnimationState();b.parentNode&&b.parentNode.removeChild(b);a.animateAll()},drop:tb};x(ga,{pluginName:"removeOnSpill"});var Z,v=[],X=[],Ea,ba,Fa=!1,Y=!1,Ga=!1,z,ka,Qa;w.mount(new function(){function a(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var a in this)"_"===a.charAt(0)&&"function"===typeof this[a]&&(this[a]=this[a].bind(this))}a.prototype={dragStarted:function(a){a=a.originalEvent;this.sortable.nativeDraggable?l(document,"dragover",
this._handleAutoScroll):this.options.supportPointer?l(document,"pointermove",this._handleFallbackAutoScroll):a.touches?l(document,"touchmove",this._handleFallbackAutoScroll):l(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){a=a.originalEvent;this.options.dragOverBubble||a.rootEl||this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?e(document,"dragover",this._handleAutoScroll):(e(document,"pointermove",this._handleFallbackAutoScroll),e(document,
"touchmove",this._handleFallbackAutoScroll),e(document,"mousemove",this._handleFallbackAutoScroll));clearInterval(ra);da();clearTimeout(ua);ua=void 0},nulling:function(){Pa=$a=Da=ab=ra=bb=cb=null;K.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},_handleAutoScroll:function(a,b){var d=this,c=(a.touches?a.touches[0]:a).clientX,h=(a.touches?a.touches[0]:a).clientY,e=document.elementFromPoint(c,h);Pa=a;if(b||va||ca||Va){db(a,this.options,e,b);var g=J(e,!0);!ab||ra&&c===bb&&
h===cb||(ra&&clearInterval(ra),ra=setInterval(function(){var f=J(document.elementFromPoint(c,h),!0);f!==g&&(g=f,da());db(a,d.options,f,b)},10),bb=c,cb=h)}else this.options.bubbleScroll&&J(e,!0)!==f()?db(a,this.options,J(e,!1),!1):da()}};return x(a,{pluginName:"scroll",initializeByDefault:!0})});w.mount(ga,ma);w.mount(new function(){function a(){this.defaults={swapClass:"sortable-swap-highlight"}}a.prototype={dragStart:function(a){Z=a.dragEl},dragOverValid:function(a){var b=a.completed,d=a.target,
c=a.onMove,f=a.changed,e=a.cancel;if(a.activeSortable.options.swap){var g=this.sortable.el;a=this.options;d&&d!==g&&(g=Z,!1!==c(d)?(p(d,a.swapClass,!0),Z=d):Z=null,g&&g!==Z&&p(g,a.swapClass,!1));f();b(!0);e()}},drop:function(a){var b=a.activeSortable,d=a.putSortable;a=a.dragEl;var c=d||this.sortable,f=this.options;Z&&p(Z,f.swapClass,!1);if(Z&&(f.swap||d&&d.options.swap)&&a!==Z){c.captureAnimationState();c!==b&&b.captureAnimationState();var d=Z,f=a.parentNode,e=d.parentNode,g,k;f&&e&&!f.isEqualNode(d)&&
!e.isEqualNode(a)&&(g=I(a),k=I(d),f.isEqualNode(e)&&g<k&&k++,f.insertBefore(d,f.children[g]),e.insertBefore(a,e.children[k]));c.animateAll();c!==b&&b.animateAll()}},nulling:function(){Z=null}};return x(a,{pluginName:"swap",eventProperties:function(){return{swapItem:Z}}})});w.mount(new function(){function a(a){for(var b in this)"_"===b.charAt(0)&&"function"===typeof this[b]&&(this[b]=this[b].bind(this));a.options.supportPointer?l(document,"pointerup",this._deselectMultiDrag):(l(document,"mouseup",
this._deselectMultiDrag),l(document,"touchend",this._deselectMultiDrag));l(document,"keydown",this._checkKeyDown);l(document,"keyup",this._checkKeyUp);this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(b,d){var c="";v.length&&ba===a?v.forEach(function(a,b){c+=(b?", ":"")+a.textContent}):c=d.textContent;b.setData("Text",c)}}}a.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(a){z=a.dragEl},delayEnded:function(){this.isMultiDrag=~v.indexOf(z)},
setupClone:function(a){var b=a.sortable;a=a.cancel;if(this.isMultiDrag){for(var d=0;d<v.length;d++)X.push(sa(v[d])),X[d].sortableIndex=v[d].sortableIndex,X[d].draggable=!1,X[d].style["will-change"]="",p(X[d],this.options.selectedClass,!1),v[d]===z&&p(X[d],this.options.chosenClass,!1);b._hideClone();a()}},clone:function(a){var b=a.sortable,d=a.rootEl,c=a.dispatchSortableEvent;a=a.cancel;this.isMultiDrag&&!this.options.removeCloneOnHide&&v.length&&ba===b&&(lb(!0,d),c("clone"),a())},showClone:function(a){var b=
a.cloneNowShown,d=a.cancel;this.isMultiDrag&&(lb(!1,a.rootEl),X.forEach(function(a){k(a,"display","")}),b(),Qa=!1,d())},hideClone:function(a){var b=this,d=a.cloneNowHidden;a=a.cancel;this.isMultiDrag&&(X.forEach(function(a){k(a,"display","none");b.options.removeCloneOnHide&&a.parentNode&&a.parentNode.removeChild(a)}),d(),Qa=!0,a())},dragStartGlobal:function(a){!this.isMultiDrag&&ba&&ba.multiDrag._deselectMultiDrag();v.forEach(function(a){a.sortableIndex=I(a)});v=v.sort(function(a,b){return a.sortableIndex-
b.sortableIndex});Ga=!0},dragStarted:function(a){var b=this;a=a.sortable;if(this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){v.forEach(function(a){a!==z&&k(a,"position","absolute")});var c=F(z,!1,!0,!0);v.forEach(function(a){a!==z&&gb(a,c)});Fa=Y=!0}a.animateAll(function(){Fa=Y=!1;b.options.animation&&v.forEach(function(a){Ra(a)});b.options.sort&&Ka()})}},dragOver:function(a){var b=a.target,c=a.completed;a=a.cancel;Y&&~v.indexOf(b)&&(c(!1),a())},revert:function(a){var b=
a.fromSortable,c=a.rootEl,d=a.sortable,f=a.dragRect;1<v.length&&(v.forEach(function(a){d.addAnimationState({target:a,rect:Y?F(a):f});Ra(a);a.fromRect=f;b.removeAnimationState(a)}),Y=!1,Ab(!this.options.removeCloneOnHide,c))},dragOverCompleted:function(a){var b=a.sortable,c=a.isOwner,d=a.activeSortable,f=a.parentEl,e=a.putSortable,g=this.options;if(a.insertion){c&&d._hideClone();Fa=!1;if(g.animation&&1<v.length&&(Y||!c&&!d.options.sort&&!e)){var k=F(z,!1,!0,!0);v.forEach(function(a){a!==z&&(gb(a,k),
f.appendChild(a))});Y=!0}c||(Y||Ka(),1<v.length?(a=Qa,d._showClone(b),d.options.animation&&!Qa&&a&&X.forEach(function(a){d.addAnimationState({target:a,rect:ka});a.fromRect=ka;a.thisAnimationDuration=null})):d._showClone(b))}},dragOverAnimationCapture:function(a){var b=a.dragRect,c=a.isOwner;a=a.activeSortable;v.forEach(function(a){a.thisAnimationDuration=null});a.options.animation&&!c&&a.multiDrag.isMultiDrag&&(ka=x({},b),b=E(z,!0),ka.top-=b.f,ka.left-=b.e)},dragOverAnimationComplete:function(){Y&&
(Y=!1,Ka())},drop:function(a){var b=a.originalEvent,c=a.rootEl,d=a.parentEl,f=a.sortable,e=a.dispatchSortableEvent,g=a.oldIndex,k=(a=a.putSortable)||this.sortable;if(b){var l=this.options,u=d.children;if(!Ga)if(l.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),p(z,l.selectedClass,!~v.indexOf(z)),~v.indexOf(z))v.splice(v.indexOf(z),1),Ea=null,ta({sortable:f,rootEl:c,name:"deselect",targetEl:z,originalEvt:b});else{v.push(z);ta({sortable:f,rootEl:c,name:"select",targetEl:z,originalEvt:b});
if(b.shiftKey&&Ea&&f.el.contains(Ea)){var q=I(Ea),n=I(z);if(~q&&~n&&q!==n){var m;n>q?(m=q,q=n):(m=n,q+=1);for(;m<q;m++)~v.indexOf(u[m])||(p(u[m],l.selectedClass,!0),v.push(u[m]),ta({sortable:f,rootEl:c,name:"select",targetEl:u[m],originalEvt:b}))}}else Ea=z;ba=k}if(Ga&&this.isMultiDrag){if((d[Q].options.sort||d!==c)&&1<v.length){var r=F(z),D=I(z,":not(."+this.options.selectedClass+")");!Fa&&l.animation&&(z.thisAnimationDuration=null);k.captureAnimationState();if(!Fa&&(l.animation&&(z.fromRect=r,v.forEach(function(a){a.thisAnimationDuration=
null;if(a!==z){var b=Y?F(a):r;a.fromRect=b;k.addAnimationState({target:a,rect:b})}})),Ka(),v.forEach(function(a){u[D]?d.insertBefore(a,u[D]):d.appendChild(a);D++}),g===I(z))){var E=!1;v.forEach(function(a){a.sortableIndex!==I(a)&&(E=!0)});E&&e("update")}v.forEach(function(a){Ra(a)});k.animateAll()}ba=k}(c===d||a&&"clone"!==a.lastPutMode)&&X.forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})}},nullingGlobal:function(){this.isMultiDrag=Ga=!1;X.length=0},destroyGlobal:function(){this._deselectMultiDrag();
e(document,"pointerup",this._deselectMultiDrag);e(document,"mouseup",this._deselectMultiDrag);e(document,"touchend",this._deselectMultiDrag);e(document,"keydown",this._checkKeyDown);e(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(a){if(!(Ga||ba!==this.sortable||a&&D(a.target,this.options.draggable,this.sortable.el,!1)||a&&0!==a.button))for(;v.length;){var b=v[0];p(b,this.options.selectedClass,!1);v.shift();ta({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:b,
originalEvt:a})}},_checkKeyDown:function(a){a.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(a){a.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}};return x(a,{pluginName:"multiDrag",utils:{select:function(a){var b=a.parentNode[Q];b&&b.options.multiDrag&&!~v.indexOf(a)&&(ba&&ba!==b&&(ba.multiDrag._deselectMultiDrag(),ba=b),p(a,b.options.selectedClass,!0),v.push(a))},deselect:function(a){var b=a.parentNode[Q],c=v.indexOf(a);b&&b.options.multiDrag&&~c&&
(p(a,b.options.selectedClass,!1),v.splice(c,1))}},eventProperties:function(){var a=this,b=[],c=[];v.forEach(function(d){b.push({multiDragElement:d,index:d.sortableIndex});var f;f=Y&&d!==z?-1:Y?I(d,":not(."+a.options.selectedClass+")"):I(d);c.push({multiDragElement:d,index:f})});return{items:y(v),clones:[].concat(X),oldIndicies:b,newIndicies:c}},optionListeners:{multiDragKey:function(a){a=a.toLowerCase();"ctrl"===a?a="Control":1<a.length&&(a=a.charAt(0).toUpperCase()+a.substr(1));return a}}})});return w})},
"esri/widgets/LayerList/LayerListViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Collection ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/accessorSupport/decorators ./ListItem ./support/layerListUtils".split(" "),function(A,x,C,g,y,n,l,e,r,D,p){var k=y.ofType(D);return function(n){function b(b){b=n.call(this)||this;b._handles=new l;b.listItemCreatedFunction=null;b.operationalItems=new k;
b.view=null;return b}C(b,n);b.prototype.initialize=function(){var b=this;this._handles.add(e.init(this,["view","view.ready"],function(){return b._viewHandles()}),"view")};b.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null;this.operationalItems.removeAll()};Object.defineProperty(b.prototype,"state",{get:function(){var b=this.get("view");return this.get("view.ready")?"ready":b?"loading":"disabled"},enumerable:!0,configurable:!0});b.prototype.triggerAction=function(b,
e){b&&this.emit("trigger-action",{action:b,item:e})};b.prototype._createLayerViewHandles=function(b){var f=this,e=this._handles;e.remove("layer-views");this._compileList();b&&e.add(b.on("change",function(){return f._compileList()}),"layer-views")};b.prototype._createMapLayerHandles=function(b){var f=this,e=this._handles;e.remove("map-layers");this._compileList();b&&e.add(b.on("change",function(){return f._compileList()}),"map-layers")};b.prototype._watchItemProperties=function(b){var f=this;this._handles.add([b.children.on("change",
function(){f._modifyListItemChildren(b.children)})],"children-change-"+b.uid)};b.prototype._modifyListItemChildren=function(b){var f=this;b.forEach(function(b){return f._modifyListItem(b)})};b.prototype._modifyListItem=function(b){"function"===typeof this.listItemCreatedFunction&&this.listItemCreatedFunction.call(null,{item:b});this._modifyListItemChildren(b.children)};b.prototype._createListItem=function(b){b=new D({layer:b,view:this.view});this._watchItemProperties(b);return b};b.prototype._removeAllItems=
function(){var b=this._handles,e=this.operationalItems;e.forEach(function(f){b.remove("children-change-"+f.uid)});e.removeAll()};b.prototype._getViewableLayers=function(b){if(b)return b.filter(function(b){return"hide"!==p.findLayerListMode(b)})};b.prototype._watchLayersListMode=function(b){var f=this,g=this._handles;g.remove("layer-list-mode");b&&b.forEach(function(b){g.add(e.watch(b,"listMode",function(){return f._compileList()}),"layer-list-mode")})};b.prototype._compileList=function(){var b=this.get("view.map.layers");
this._watchLayersListMode(b);(b=this._getViewableLayers(b))&&b.length?(this._createNewItems(b),this._modifyOrRemoveItems(b),this._sortItems(b)):this._removeAllItems()};b.prototype._createNewItems=function(b){var f=this,e=this.operationalItems;b.forEach(function(b){e.find(function(f){return f.layer===b})||e.add(f._createListItem(b))})};b.prototype._modifyOrRemoveItems=function(b){var f=this,e=this._handles,g=this.operationalItems;g.forEach(function(k){k&&(b.find(function(b){return k.layer===b})?f._modifyListItem(k):
(e.remove("children-change-"+k.uid),g.remove(k)))})};b.prototype._sortItems=function(b){this.operationalItems.sort(function(f,e){f=b.indexOf(f.layer);e=b.indexOf(e.layer);return f>e?-1:f<e?1:0})};b.prototype._viewHandles=function(){var b=this,g=this._handles,k=this.view;g.remove(["map-layers","layer-views","view-layers"]);this._compileList();k&&k.ready&&g.add([e.init(this,"view.map.layers",function(f){return b._createMapLayerHandles(f)}),e.init(this,"view.layerViews",function(f){return b._createLayerViewHandles(f)}),
e.init(this,"listItemCreatedFunction",function(){return b._compileList()})],"view-layers")};g([r.property()],b.prototype,"listItemCreatedFunction",void 0);g([r.property({type:k})],b.prototype,"operationalItems",void 0);g([r.property({dependsOn:["view.ready"],readOnly:!0})],b.prototype,"state",null);g([r.property()],b.prototype,"view",void 0);g([r.property()],b.prototype,"triggerAction",null);return b=g([r.subclass("esri.widgets.LayerList.LayerListViewModel")],b)}(r.declared(n.EventedAccessor))})},
"esri/widgets/LayerList/ListItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Accessor ../../core/Collection ../../core/Handles ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/Sublayer ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionSlider ../../support/actions/ActionToggle ./ListItemPanel ./support/layerListUtils".split(" "),
function(A,x,C,g,y,n,l,e,r,D,p,k,E,b,f,F,q,P,S){A=e.ofType({key:"type",defaultKeyValue:"button",base:b,typeMap:{button:f,toggle:q,slider:F}});var I=e.ofType(A);return function(b){function c(c){c=b.call(this)||this;c._handles=new r;c.actionsSections=new I;c.actionsOpen=!1;c.children=new (e.ofType(f));c.error=null;c.layer=null;c.layerView=null;c.open=!1;c.panel=null;c.parent=null;c.view=null;c.visible=null;return c}C(c,b);f=c;c.prototype.initialize=function(){var b=this;this._handles.add([p.init(this,
"layer",function(c){return b._watchLayerProperties(c)}),p.init(this,"view",function(c){return b._updateChildren(c)}),p.init(this,"panel",function(c){return b._setListItemOnPanel(c)}),p.init(this,["layer","view"],function(){return b._getLayerView()})])};c.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null};c.prototype.castPanel=function(b){this.get("panel.open")&&!b.hasOwnProperty("open")&&(b.open=!0);return b?new P(b):null};Object.defineProperty(c.prototype,"title",
{get:function(){var b=this.get("layer.layer");return(!b||b&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(b){void 0===b?this._clearOverride("title"):this._override("title",b)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"updating",{get:function(){var b=this.layerView;return b?b.updating:this._isLayerUpdating(this.layer)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"visibleAtCurrentScale",{get:function(){return!S.isLayerOutsideScaleRange(this.layer,
this.get("view.scale"))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"visibilityMode",{get:function(){return S.findLayerVisibilityMode(this.layer)},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new f({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})};c.prototype._setListItemOnPanel=function(b){b&&
(b.listItem=this)};c.prototype._updateChildren=function(b){var c=this.children;c&&c.forEach(function(c){return c.view=b})};c.prototype._addChildren=function(b){var c=this;this.children.removeAll();if(b){this._handles.remove("child-list-mode");b.forEach(function(f){c._handles.add(p.watch(f,"listMode",function(){return c._addChildren(b)}),"child-list-mode")});var e=[];b.filter(function(b){return"hide"!==S.findLayerListMode(b)}).forEach(function(b){S.canDisplayLayer(b)&&(b=new f({layer:b,parent:c,view:c.view}),
e.unshift(b))});this.children.addMany(e)}};c.prototype._watchSublayerChanges=function(b){var c=this;b&&this._handles.add(b.on("change",function(){c._addChildren(b)}),"layer")};c.prototype._initializeChildLayers=function(b){this._addChildren(b);this._watchSublayerChanges(b)};c.prototype._watchLayerProperties=function(b){var c=this;if(this._handles&&(this._handles.remove("layer"),b)){var f=S.getNormalizedChildLayerProperty(b);f&&this._handles.add(p.init(b,f,function(){b.hasOwnProperty(f)&&c._initializeChildLayers(b[f])}),
"layer")}};c.prototype._getLayerView=function(){return n(this,void 0,void 0,function(){var b,c,f,e;return y(this,function(g){switch(g.label){case 0:b=this;c=b.layer;f=b.view;if(!c||!f)return[2];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,f.whenLayerView(c)];case 2:e=g.sent();if(e.layer!==this.layer)return[2];this._set("layerView",e);return[3,4];case 3:return g.sent(),[3,4];case 4:return[2]}})})};c.prototype._isLayerUpdating=function(b){return b instanceof E?!1:b&&"loading"===b.loadStatus};var f;
g([k.property({type:I})],c.prototype,"actionsSections",void 0);g([k.property()],c.prototype,"actionsOpen",void 0);g([k.property({type:e})],c.prototype,"children",void 0);g([k.aliasOf("layer.loadError?")],c.prototype,"error",void 0);g([k.property()],c.prototype,"layer",void 0);g([k.property({readOnly:!0})],c.prototype,"layerView",void 0);g([k.property()],c.prototype,"open",void 0);g([k.property({type:P})],c.prototype,"panel",void 0);g([k.cast("panel")],c.prototype,"castPanel",null);g([k.property()],
c.prototype,"parent",void 0);g([k.property({dependsOn:["layer.layer?.loaded","layer.title"]})],c.prototype,"title",null);g([k.property({dependsOn:["layer.loadStatus?","layerView.updating"],readOnly:!0})],c.prototype,"updating",null);g([k.property({value:null})],c.prototype,"view",void 0);g([k.aliasOf("layer.visible")],c.prototype,"visible",void 0);g([k.property({dependsOn:["layer.minScale?","layer.maxScale?","view.scale"],readOnly:!0})],c.prototype,"visibleAtCurrentScale",null);g([k.property({dependsOn:["layer.visibilityMode?",
"layer.capabilities?.exportMap?.supportsSublayerVisibility","layer.layer?.capabilities?.exportMap?.supportsSublayerVisibility"],readOnly:!0})],c.prototype,"visibilityMode",null);return c=f=g([k.subclass("esri.widgets.LayerList.ListItem")],c)}(k.declared(D.IdentifiableMixin(l)))})},"esri/support/actions/ActionSlider":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(A,
x,C,g,y,n){return function(l){function e(e){e=l.call(this)||this;e.displayValueEnabled=!1;e.max=1;e.min=0;e.step=.1;e.type="slider";e.value=null;return e}C(e,l);n=e;e.prototype.clone=function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})};var n;g([y.property()],e.prototype,"displayValueEnabled",
void 0);g([y.property()],e.prototype,"max",void 0);g([y.property()],e.prototype,"min",void 0);g([y.property()],e.prototype,"step",void 0);g([y.property()],e.prototype,"value",void 0);return e=n=g([y.subclass("esri.support.Action.ActionSlider")],e)}(y.declared(n))})},"esri/widgets/LayerList/ListItemPanel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/Identifiable ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../Widget ../support/widget".split(" "),
function(A,x,C,g,y,n,l,e,r,D,p){return function(k){function n(b){b=k.call(this)||this;b._legend=null;b._handles=new y;b.content=null;b.image=null;b.listItem=null;b.open=!1;b.visible=!0;return b}C(n,k);n.prototype.postInitialize=function(){var b=this;this.own([e.init(this,"content",function(f){return b._createLegend(f)})])};n.prototype.destroy=function(){var b=this._legend;b&&b.destroy();this._legend=null};Object.defineProperty(n.prototype,"className",{get:function(){var b=this.image,f=this._getFirstWidget();
return this._get("className")||!b&&f?f.iconClass:""},set:function(b){void 0===b?this._clearOverride("className"):this._override("className",b)},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"title",{get:function(){var b=this._getFirstWidget();return this._get("title")||b?b.label:""},set:function(b){void 0===b?this._clearOverride("title"):this._override("title",b)},enumerable:!0,configurable:!0});n.prototype.render=function(){return p.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())};
n.prototype._renderContent=function(b,f){f=this._legend;var e=this.listItem;return b?"legend"===b?e&&e.view&&e.layer&&f?p.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--legend"),key:f},f.render()):null:"string"===typeof b?p.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--string"),key:b,innerHTML:b}):p.isWidget(b)?p.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--widget"),
key:b},b.render()):b instanceof HTMLElement?p.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--html-element"),key:b,bind:b,afterCreate:this._attachToNode}):null:null};n.prototype._renderContents=function(){var b=this,f=this.content;return Array.isArray(f)?f.map(function(f,e){return b._renderContent(f,e)}):this._renderContent(f,0)};n.prototype._getLegendOptions=function(b){if(b){var f=b.layer;b=b.view;if(f&&b)return{view:b,layerInfos:[{layer:f,title:""}]}}};
n.prototype._createLegend=function(b){var f=this;this._hasLegend(b)&&!this._legend&&l.create(function(b){A(["../Legend"],b)}).then(function(b){var g=f._handles,k=new b(f._getLegendOptions(f.listItem));f._legend=k;f.notifyChange("className");f.notifyChange("title");b=e.init(f,["listItem.view","listItem.layer"],function(){return f._updateLegend(k)});g.add(b,"legends");f.scheduleRender()})};n.prototype._hasLegend=function(b){return"legend"===b?!0:Array.isArray(b)?b.some(function(b){return"legend"===
b}):!1};n.prototype._attachToNode=function(b){b.appendChild(this)};n.prototype._updateLegend=function(b){var f=this.listItem;if(f){var e=f.layer;b.view=f.view;b.layerInfos=[{layer:e,title:null}];this.scheduleRender()}};n.prototype._getWidget=function(b){return"legend"===b?this._legend:p.isWidget(b)?b:null};n.prototype._getFirstWidget=function(){var b=this,f=this.content;if(Array.isArray(f)){var e=null;f.some(function(f){(f=b._getWidget(f))&&(e=f);return!!f});return e}return this._getWidget(f)};g([r.property({dependsOn:["content",
"image"]})],n.prototype,"className",null);g([r.property(),p.renderable()],n.prototype,"content",void 0);g([r.property()],n.prototype,"image",void 0);g([r.property()],n.prototype,"listItem",void 0);g([r.property({dependsOn:["content"]})],n.prototype,"title",null);g([r.property(),p.renderable()],n.prototype,"open",void 0);g([r.property()],n.prototype,"visible",void 0);return n=g([r.subclass("esri.widgets.LayerList.ListItemPanel")],n)}(r.declared(n.IdentifiableMixin(D)))})},"esri/widgets/LayerList/support/layerListUtils":function(){define(["require",
"exports"],function(A,x){function C(g){if(g)return null!=g.listMode?g.listMode:void 0}function g(g){if(g)return null!=g.minScale?g.minScale:void 0}function y(g){if(g)return null!=g.maxScale?g.maxScale:void 0}Object.defineProperty(x,"__esModule",{value:!0});x.findLayerListMode=C;x.findLayerMinScale=g;x.findLayerMaxScale=y;x.findLayerVisibilityMode=function(g){if(!g)return"inherited";var l=g.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"===typeof l)return l?"independent":
"inherited";l=g.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"===typeof l?l?"independent":"inherited":null!=g.visibilityMode?g.visibilityMode:"independent"};x.getNormalizedChildLayerProperty=function(g){if(g&&"hide-children"!==g.listMode&&"wmts"!==g.type)return"group"===g.type?"layers":"sublayers"};x.canDisplayLayer=function(g){return"hide"!==C(g)};x.isLayerOutsideScaleRange=function(n,l){if(!n||isNaN(l))return!1;var e=g(n);n=y(n);e=!isNaN(e)&&0<e&&l>=e;l=!isNaN(n)&&0<n&&
l<=n;return e||l}})},"widgets/LayerList/LayerItem":function(){define("dojo/_base/html dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./LayerItem.html dojo/_base/lang jimu/dijit/CheckBox".split(" "),function(A,x,C,g,y,n,l){return x([C,g,y],{templateString:n,sceneView:null,layer:null,baseClass:"jimu-widget-layeritem",nls:null,postCreate:function(){this.inherited(arguments);this.cbx.onChange=l.hitch(this,this._onCbxChanged);this.own(this.layer.watch("title",
l.hitch(this,function(){this._updateTitleUI()})));this.own(this.layer.watch("visible",l.hitch(this,function(){this._updateVisibilityUI()})));this.layer.when(l.hitch(this,function(){this.domNode&&(this._updateTitleUI(),this._updateVisibilityUI())}),l.hitch(this,function(e){console.error(e);this.domNode&&A.addClass(this.domNode,"not-loaded")}));this._updateTitleUI()},_onClickSelf:function(e){e=e.target;e===this.cbx.domNode||A.isDescendant(e,this.cbx.domNode)||this.cbx.setValue(!this.cbx.getValue())},
_updateTitleUI:function(){this.cbx.setLabel(this.layer.title||this.layer.name||this.layer.mapName||"")},_updateVisibilityUI:function(){var e=this.layer.get("visible");e!==this.cbx.getValue()&&this.cbx.setValue(e);this.domNode.title=e?this.nls.hide:this.nls.show},_onCbxChanged:function(){this.cbx.getValue()!==this.layer.get("visible")&&this.layer.set("visible",this.cbx.getValue())},_onBtnZoomClicked:function(e){e.stopPropagation();if(e=this.layer.extent||this.layer.fullExtent)e=e.expand(1.2),this.sceneView.goTo(e)},
destroy:function(){this.layer=this.sceneView=null;this.inherited(arguments)}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(A,x,C,g,y){return C("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var n=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=
!0);y.parse(n,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(g.hitch(this,function(g){this._startupWidgets=g;for(var e=0;e<g.length;e++)this._processTemplateNode(g[e],function(e,g){return e[g]},function(e,g,l){return g in e?e.connect(e,g,l):e.on(g,l,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+
": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(g,l,e){return l(g,"dojoType")||l(g,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){A.forEach(this._startupWidgets,function(g){g&&!g._started&&g.startup&&g.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"jimu/dijit/CheckBox":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/_base/html dojo/dom-class dojo/on dojo/Evented dojo/keys".split(" "),
function(A,x,C,g,y,n,l,e){return A([x,l],{baseClass:"jimu-checkbox",declaredClass:"jimu.dijit.CheckBox",checked:!1,status:!0,label:"",postCreate:function(){this.checkNode=g.create("div",{"class":"checkbox jimu-float-leading"},this.domNode);this.labelNode=g.create("div",{"class":"label jimu-float-leading",innerHTML:this.label||""},this.domNode);this.checked&&g.addClass(this.checkNode,"checked");this.status||g.addClass(this.domNode,"jimu-state-disabled");this.own(n(this.checkNode,"click",C.hitch(this,
function(){this.status&&(this.checked?this.uncheck():this.check())})));this.own(n(this.labelNode,"click",C.hitch(this,function(){this.checked&&this.status?this.uncheck():this.status&&this.check()})));this._udpateLabelClass();this._initSection508()},setLabel:function(e){this.label=e||"";this.labelNode.innerHTML=this.label;this._udpateLabelClass()},getLabel:function(){return this.label||""},_udpateLabelClass:function(){this.labelNode&&(this.labelNode.innerHTML?g.removeClass(this.labelNode,"not-visible"):
g.addClass(this.labelNode,"not-visible"))},_initSection508:function(){"undefined"!==typeof this.tabindex&&(g.setAttr(this.checkNode,"tabindex",this.tabindex),this.own(n(this.checkNode,"focus",C.hitch(this,function(){g.addClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(n(this.checkNode,"blur",C.hitch(this,function(){g.removeClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(n(this.checkNode,"keypress",C.hitch(this,function(l){l=l.charCode||l.keyCode;g.hasClass(this.checkNode,"dijitCheckBoxFocused")&&
e.SPACE===l&&this.status&&(this.checked?this.uncheck():this.check())}))))},setValue:function(e){this.status&&(!0===e?this.check():this.uncheck())},getValue:function(){return this.checked},setStatus:function(e){e=!!e;var g=this.status!==e;(this.status=e)?y.remove(this.domNode,"jimu-state-disabled"):y.add(this.domNode,"jimu-state-disabled");g&&this.emit("status-change",e)},getStatus:function(){return this.status},check:function(){this.status&&(this.checked=!0,g.addClass(this.checkNode,"checked"),this.onStateChange())},
uncheck:function(e){if(this.status&&(this.checked=!1,g.removeClass(this.checkNode,"checked"),!e))this.onStateChange()},onStateChange:function(){if(this.onChange&&C.isFunction(this.onChange))this.onChange(this.checked);this.emit("change",this.checked)},focus:function(){this.checkNode&&this.checkNode.focus&&this.checkNode.focus()}})})},"widgets/LayerList/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/LayerList/LayerItem.html":'\x3cdiv data-dojo-attach-event\x3d"click:_onClickSelf"\x3e\r\n\t\x3ctable class\x3d"layeritem-table"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"50"\x3e\x3c/col\x3e\r\n\t    \x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"cbx" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esri-icon-zoom-out-fixed jimu-float-trailing" title\x3d"${nls.fullExtentTip}" data-dojo-attach-event\x3d"onclick:_onBtnZoomClicked"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/Widget.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"dijit-container" data-dojo-attach-point\x3d"dijitDiv"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"elevation-layers-container" data-dojo-attach-point\x3d"elevationLayersContainer"\x3e\r\n    \x3cdiv class\x3d"ground-tip hidden" data-dojo-attach-point\x3d"groundTip"\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv\x3e\r\n        \x3cspan\x3e${nls.ground}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/css/style.css":'.jimu-widget-layerlist{}.jimu-widget-layerlist .dijit-container{width: 100%;}.jimu-widget-layerlist .hidden{display: none !important;}.jimu-widget-layerlist .esri-layer-list__list--root{overflow-x: hidden; padding-bottom: 40px;}.jimu-widget-layerlist .esri-layer-list{max-height: initial; background: transparent; padding: 0;}.jimu-widget-layerlist .esri-layer-list__item{background: inherit; max-height: 100%; overflow: visible; padding: 0; margin-left: 15px;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item{margin-left: 0; margin-right: 15px;}.jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{position: absolute; right: -5px; width: 200px; top: 30px; z-index: 2;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{left: -5px; right: auto;}.jimu-widget-layerlist .esri-layer-list__item.esri-layer-list__item--has-children{margin-left: 0; margin-right: 0;}.jimu-widget-layerlist .esri-layer-list__list--root \x3e .esri-layer-list__item{margin-left: 0 !important; margin-right: 0 !important;}.jimu-widget-layerlist .esri-layer-list__item:before{display: none;}.jimu-widget-layerlist .esri-layer-list__item:after{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container .esri-icon-zoom-out-fixed{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .esri-layer-list__item-container{padding: 9px 0; border-bottom: none;}.jimu-widget-layerlist .dijit-container \x3e ul.esri-layer-list__list--root \x3e .esri-layer-list__item:first-child{}.jimu-widget-layerlist .esri-layer-list__item-toggle{width: 16px; height: 16px;}.jimu-widget-layerlist .esri-icon-visible{display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checked_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-visible:before{content: "";}.jimu-widget-layerlist .esri-icon-non-visible{display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checkbox_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-non-visible:before{content: "";}.jimu-widget-layerlist .jimu-widget-layeritem{cursor: pointer;}.jimu-widget-layerlist .jimu-widget-layeritem.not-loaded{display: none;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table{width: 100%; table-layout: fixed; border-collapse: collapse;}.jimu-widget-layerlist .jimu-widget-layeritem .esri-icon-zoom-out-fixed{font-size: 14px; cursor: pointer; display: none;}.jimu-widget-layerlist .jimu-widget-layeritem:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table td{padding: 5px 0;}.jimu-widget-layerlist .jimu-widget-layeritem .jimu-checkbox .label{cursor: pointer;}.jimu-widget-layerlist .elevation-layers-container{position: relative; top: -30px;}.jimu-widget-layerlist .ground-tip{position: relative; height: 24px; margin-top: 5px;}.jimu-widget-layerlist .ground-tip \x3e *{position: absolute; width: 100%;}.jimu-widget-layerlist .ground-tip \x3e div{text-align: center;}.jimu-widget-layerlist .ground-tip span{display: inline-block; max-width: 90%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; background-color: white; padding: 0 4px;}html[dir\x3d"rtl"] .jimu-widget-layerlist .esri-layer-list__child-toggle.esri-layer-list__child-toggle--open \x3e .esri-layer-list__child-toggle-icon--closed-rtl.esri-icon-left-triangle-arrow{display: none;}',
"*now":function(A){A(['dojo/i18n!*preload*widgets/LayerList/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","vi","uk","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/on dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/html jimu/BaseWidget esri/widgets/LayerList dojo/i18n!esri/nls/common ./LayerItem".split(" "),function(A,x,C,g,y,n,l,e,r){return C([n],{name:"LayerList",baseClass:"jimu-widget-layerlist",_elevationLayerItems:null,postCreate:function(){this.inherited(arguments);this._elevationLayerItems=[];this.nls.hide=e.visibility.hide;this.nls.show=e.visibility.show;this.layerList=new l({view:this.sceneView,container:this.dijitDiv,listItemCreatedFunction:g.hitch(this,
this._defineActions)});this.own(this.layerList.on("trigger-action",g.hitch(this,this._onTriggerAction)));this.own(A(this.sceneView.map.ground.layers,"change",g.hitch(this,this._updateElevationLayers)));this.own(A(this.sceneView.map.allLayers,"change",g.hitch(this,this._updateGroudTip)));this._updateElevationLayers()},onOpen:function(){this._updateGroudTip()},_updateGroudTip:function(){setTimeout(g.hitch(this,function(){10<this.dijitDiv.clientHeight?y.removeClass(this.groundTip,"hidden"):y.addClass(this.groundTip,
"hidden")}),1E3)},_updateElevationLayers:function(){this._destroyAllElevationLayerItems();for(var e=this.sceneView.map.ground.layers,g=0,k=e.get("length")-1;0<=k;k--){var l=e.getItemAt(k);"hide"!==l.listMode&&(this._addElevationLayerItem(l),g++)}0===g?y.addClass(this.elevationLayersContainer,"hidden"):y.removeClass(this.elevationLayersContainer,"hidden")},_addElevationLayerItem:function(e){e=new r({layer:e,sceneView:this.sceneView,nls:this.nls});this._elevationLayerItems.push(e);e.placeAt(this.elevationLayersContainer)},
_destroyAllElevationLayerItems:function(){x.forEach(this._elevationLayerItems,g.hitch(this,function(e){e.destroy()}));this._elevationLayerItems=[]},_createActionsFunction:function(e){var g=[];e.item.layer&&(g=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]);return g},_defineActions:function(e){e=e.item;e.layer.title?e.actionsSections=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]:(this.layerList.operationalItems.remove(e),
e.destroy())},_onTriggerAction:function(e){var g=e.item.layer;if(g)switch(e.action.id){case "full-extent":(e=g.fullExtent||g.extent)&&this.sceneView.goTo(e)}},destroy:function(){this.layerList&&(this.layerList.destroy(),this.layerList=null);this._destroyAllElevationLayerItems();this.inherited(arguments)}})});