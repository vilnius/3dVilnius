// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/widgets/LayerList":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Widget ./support/widget dojo/i18n!../nls/common dojo/i18n!./LayerList/nls/LayerList ../core/HandleRegistry ./LayerList/LayerListViewModel ../core/watchUtils".split(" "),function(p,k,h,b,l,c,e,r,q,t,v,w){var m=p.toUrl("./LayerList/images/default-action.svg");return function(c){function d(){var a=c.call(this)||this;a._handleRegistry=
new t;a.createActionsFunction=null;a.statusIndicatorsVisible=!0;a.listItemCreatedFunction=null;a.operationalItems=null;a.view=null;a.viewModel=new v;return a}h(d,c);d.prototype.postInitialize=function(){var a=this,g=this.operationalItems;this.own(w.on(this,"operationalItems","change",function(){return a._itemsChanged(g)}))};d.prototype.destroy=function(){this._handleRegistry.destroy();this._handleRegistry=null};d.prototype.triggerAction=function(a,g){};d.prototype.render=function(){var a=this,g=this._getItems(),
n=this.get("viewModel.state"),g=0===g.length?e.tsx("div",{class:"esri-layer-list__no-items"},q.noItemsToDisplay):e.tsx("ul",{class:e.join("esri-layer-list__list","esri-layer-list__list--root","esri-layer-list__list--independent")},g.map(function(n,g){return a._renderItem(n,null)})),n=(b={},b["esri-hidden"]="loading"===n,b["esri-disabled"]="disabled"===n,b);return e.tsx("div",{class:"esri-layer-list esri-widget esri-widget--panel",classes:n},g);var b};d.prototype._getItems=function(){var a=this;return this.operationalItems.toArray().filter(function(g){return a.errorsVisible||
!g.error})};d.prototype._renderItem=function(a,g){var n=this,b=this.id+"_"+a.uid,c=b+"_actions",d=b+"__list",u=b+"__title",k=!!a.children.length,l=!!a.error,f=l?q.layerError:"",t=a.visibilityMode,B=a.children&&a.children.toArray(),F=(z={},z["esri-layer-list__list--exclusive"]="exclusive"===t,z["esri-layer-list__list--inherited"]="inherited"===t,z["esri-layer-list__list--independent"]="inherited"!==t&&"exclusive"!==t,z),z=(h={},h["esri-layer-list__item--has-children"]=k,h["esri-layer-list__item--error"]=
!!f,h["esri-layer-list__item--updating"]=a.updating&&!g&&this.statusIndicatorsVisible,h["esri-layer-list__item--invisible-at-scale"]=!a.visibleAtCurrentScale,h),A=this._countActions(a.actionsSections),h=A?this._renderActionMenuItem(a,a.actionsSections):null,v=(m={},m["esri-icon-handle-horizontal"]=!a.actionsOpen,m["esri-icon-close"]=a.actionsOpen,m),m=a.actionsOpen?r.close:r.open,m=1<A?e.tsx("div",{key:b+"__actions-menu-toggle","data-item":a,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,
class:"esri-layer-list__item-actions-menu-item",tabindex:"0",role:"button","aria-controls":c,"aria-label":m,title:m},e.tsx("span",{"aria-hidden":"true",classes:v})):null,h=A?e.tsx("div",{key:b+"__actions-menu",class:"esri-layer-list__item-actions-menu"},h,m):null,c=1<A?this._renderActionsSections(a,a.actionsSections,c):null,t=k?e.tsx("ul",{key:d,id:d,class:"esri-layer-list__list",classes:F,"aria-expanded":a.open?"true":"false",role:"exclusive"===t?"radiogroup":"group",hidden:a.open?null:!0},B.map(function(g,
b){return n._renderItem(g,a)})):null,B=(p={},p["esri-layer-list__child-toggle--open"]=a.open,p),p=a.open?r.collapse:r.expand,d=k?e.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":a,key:b+"__toggle-children",class:"esri-layer-list__child-toggle",classes:B,tabindex:"0",role:"button","aria-controls":d,"aria-label":p,title:p},e.tsx("span",{"aria-hidden":"true",class:e.join("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),e.tsx("span",
{"aria-hidden":"true",class:e.join("esri-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),e.tsx("span",{"aria-hidden":"true",class:e.join("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null;g=this._createLabelNode(a,g,b,u);l=l?e.tsx("div",{key:b+"__error",class:"esri-layer-list__item-error-message",role:"alert"},e.tsx("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}),e.tsx("span",null,f)):null;return e.tsx("li",{key:b+"__list-item",
class:"esri-layer-list__item",classes:z,"aria-labelledby":u},e.tsx("div",{key:b+"__list-item-container",class:"esri-layer-list__item-container"},d,g,h),l,c,t);var z,h,m,p};d.prototype._createLabelNode=function(a,g,n,b){n+="__label";g=g&&g.visibilityMode;var c=(d={},d["esri-icon-radio-checked"]="exclusive"===g&&a.visible,d["esri-icon-radio-unchecked"]="exclusive"===g&&!a.visible,d["esri-icon-visible"]="exclusive"!==g&&a.visible,d["esri-icon-non-visible"]="exclusive"!==g&&!a.visible,d),d="exclusive"===
g?"radio":"checkbox",x=a.title||q.untitledLayer,u=a.visibleAtCurrentScale?x:x+" ("+q.layerInvisibleAtScale+")",x=e.tsx("span",{id:b,title:u,"aria-label":u,class:"esri-layer-list__item-title"},x);return"inherited"===g?e.tsx("div",{key:n,class:"esri-layer-list__item-label"},x):e.tsx("div",{key:n,onclick:this._labelClick,onkeydown:this._labelClick,"data-item":a,"data-parent-visibility":g,tabindex:"0","aria-checked":a.visible?"true":"false",role:d,"aria-labelledby":b,class:"esri-layer-list__item-label"},
e.tsx("span",{class:"esri-layer-list__item-toggle"},e.tsx("span",{class:"esri-layer-list__item-toggle-icon","aria-hidden":"true",classes:c})),x);var d};d.prototype._renderActionMenuItem=function(a,g){if(g=(g=g.getItemAt(0))&&g.getItemAt(0)){var n=this._getActionImageStyles(g),b=(c={},c[g.className]=!!g.className,c["esri-layer-list__item-action-image"]=!!n["background-image"],c),c=g.title;return e.tsx("div",{key:g.uid+"__action-menu-item",bind:this,"data-item":a,"data-action":g,onclick:this._triggerAction,
onkeydown:this._triggerAction,class:"esri-layer-list__item-actions-menu-item",role:"button",tabindex:"0",title:c,"aria-label":c},e.tsx("span",{classes:b,styles:n}))}var c};d.prototype._watchActionSectionChanges=function(a,b){var n=this,g="action-section"+b;this._handleRegistry.add(a.on("change",this.scheduleRender.bind(this)),g);a.forEach(function(a){return n._renderOnActionChanges(a,b)})};d.prototype._renderOnActionChanges=function(a,b){var n=this;b="actions"+b;this._handleRegistry.add([w.init(a,
"className, image, id, title, visible",function(){return n.scheduleRender()})],b)};d.prototype._renderOnItemChanges=function(a){var b=this,n=a.uid,c="items"+n;this._handleRegistry.add([w.init(a,"actionsOpen, visible, open, updating, title, visibleAtCurrentScale, error, visibilityMode",function(){return b.scheduleRender()}),a.actionsSections.on("change",function(){return b.scheduleRender()}),a.children.on("change",function(){return b.scheduleRender()})],c);a.children.forEach(function(a){return b._renderOnItemChanges(a)});
a.actionsSections.forEach(function(a){return b._watchActionSectionChanges(a,n)})};d.prototype._itemsChanged=function(a){var b=this;this._handleRegistry.removeAll();a.forEach(function(a){return b._renderOnItemChanges(a)});this.scheduleRender()};d.prototype._renderActionsSections=function(a,b,n){var c=this,g=this.id+"_"+a.uid;b=b.toArray().map(function(b){return e.tsx("ul",{key:g+"__actions-list",class:"esri-layer-list__item-actions-list"},c._renderActionSection(a,b))});return e.tsx("div",{role:"group",
"aria-expanded":a.actionsOpen?"true":"false",key:g+"__actions-section",id:n,class:"esri-layer-list__item-actions",hidden:a.actionsOpen?null:!0},b)};d.prototype._renderActionSection=function(a,b){var n=this;return(b&&b.toArray()).map(function(b){return n._renderAction(a,b)})};d.prototype._renderAction=function(a,b){var n=this._getActionImageStyles(b),c=(g={},g[b.className]=!!b.className,g["esri-layer-list__item-action-image"]=!!n["background-image"],g);return e.tsx("li",{key:b.uid+"__action",bind:this,
"data-item":a,"data-action":b,onclick:this._triggerAction,onkeydown:this._triggerAction,class:"esri-layer-list__item-action",tabindex:"0",role:"button",title:b.title,"aria-label":b.title},e.tsx("span",{"aria-hidden":"true",class:"esri-layer-list__item-action-icon",classes:c,styles:n}),e.tsx("span",{class:"esri-layer-list__item-action-title"},b.title));var g};d.prototype._countActions=function(a){return a.reduce(function(a,b){return a+b.length},0)};d.prototype._getActionImageStyles=function(a){var b=
a.image||null;a.className||b||(b=m);return{"background-image":b?'url("'+b+'")':null}};d.prototype._toggleActionsOpen=function(a){a=a.currentTarget["data-item"];a.actionsOpen=!a.actionsOpen};d.prototype._triggerAction=function(a){a=a.currentTarget;this.triggerAction(a["data-action"],a["data-item"])};d.prototype._labelClick=function(a){var b=a.currentTarget;a=b.getAttribute("data-parent-visibility");b=b["data-item"];"exclusive"===a&&b.visible||(b.visible=!b.visible)};d.prototype._toggleChildrenClick=
function(a){a=a.currentTarget["data-item"];a.open=!a.open};b([l.aliasOf("viewModel.createActionsFunction"),e.renderable()],d.prototype,"createActionsFunction",void 0);b([l.property(),e.renderable()],d.prototype,"statusIndicatorsVisible",void 0);b([l.property(),e.renderable()],d.prototype,"errorsVisible",void 0);b([l.aliasOf("viewModel.listItemCreatedFunction"),e.renderable()],d.prototype,"listItemCreatedFunction",void 0);b([l.aliasOf("viewModel.operationalItems"),e.renderable()],d.prototype,"operationalItems",
void 0);b([l.aliasOf("viewModel.view"),e.renderable()],d.prototype,"view",void 0);b([e.vmEvent("trigger-action"),l.property({type:v}),e.renderable("viewModel.state")],d.prototype,"viewModel",void 0);b([l.aliasOf("viewModel.triggerAction")],d.prototype,"triggerAction",null);b([e.accessibleHandler()],d.prototype,"_toggleActionsOpen",null);b([e.accessibleHandler()],d.prototype,"_triggerAction",null);b([e.accessibleHandler()],d.prototype,"_labelClick",null);b([e.accessibleHandler()],d.prototype,"_toggleChildrenClick",
null);return d=b([l.subclass("esri.widgets.LayerList")],d)}(l.declared(c))})},"esri/widgets/LayerList/LayerListViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Collection ../../core/Evented ../../core/HandleRegistry ../../core/watchUtils ./ListItem ./support/layerListUtils dojo/debounce dojo/has ../../core/accessorSupport/decorators".split(" "),function(p,k,h,b,l,c,e,r,q,t,v,w,m,u){var d=c.ofType(t);
return function(a){function c(b){var c=a.call(this)||this;c._actionsOpenMap=new Map;c._itemOpenMap=new Map;c._handles=new r;c.listItemCreatedFunction=null;c.operationalItems=new d;c.view=null;c._handles.add(q.init(c,"view",function(){return c._viewHandles()}),"view");c._compileList=w(c._compileList,0);return c}h(c,a);c.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null;this.operationalItems.removeAll()};Object.defineProperty(c.prototype,"createActionsFunction",{get:function(){return this._get("createActionsFunction")||
null},set:function(a){this._set("createActionsFunction",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"state",{get:function(){var a=this.get("view");return this.get("view.ready")?"ready":a?"loading":"disabled"},enumerable:!0,configurable:!0});c.prototype.triggerAction=function(a,b){a&&this.emit("trigger-action",{action:a,item:b})};c.prototype._createMapHandles=function(a){var b=this;this._handles.remove("map");var c=a&&a.get("map.layers");c&&(c=c.on("change",function(){return b._compileList(a)}),
this._handles.add(c,"map"))};c.prototype._resetMapItems=function(a){this._actionsOpenMap.clear();this._itemOpenMap.clear();this._createMapHandles(a);this._compileList(a)};c.prototype._setUpChildActions=function(a){var b=this;a.forEach(function(a){return b._setupActions(a)})};c.prototype._watchItemProperties=function(a){var b=this;this._handles.add([q.watch(a,"actionsOpen",function(c){b._actionsOpenMap.set(a.layer,c)}),q.watch(a,"open",function(c){b._itemOpenMap.set(a.layer,c)}),a.children.on("change",
function(){b._setUpChildActions(a.children)})],"list-items")};c.prototype._modifyListItemChildren=function(a){var b=this;a.forEach(function(a){return b._modifyListItem(a)})};c.prototype._modifyListItem=function(a){"function"===typeof this.listItemCreatedFunction&&this.listItemCreatedFunction.call(null,{item:a});this._modifyListItemChildren(a.children)};c.prototype._setupActions=function(a){if("function"===typeof this.createActionsFunction){var b=this.createActionsFunction.call(null,{item:a});b&&b.length&&
(a.actionsSections=b)}this._setUpChildActions(a.children)};c.prototype._createListItem=function(a){var b=!!this._actionsOpenMap.get(a),c=!!this._itemOpenMap.get(a);a=new t({actionsOpen:b,open:c,layer:a,view:this.view});this._setupActions(a);this._watchItemProperties(a);this._modifyListItem(a);return a};c.prototype._compileList=function(a){var b=this;if(!this.destroyed){this._handles.remove("list-items");var c=a&&a.get("map.layers"),n=[];c&&c.forEach(function(c){q.watch(c,"listMode",function(){return b._compileList(a)});
"hide"!==v.findLayerListMode(c)&&(c=b._createListItem(c),n.unshift(c))});this.operationalItems.removeAll();this.operationalItems.addMany(n)}};c.prototype._viewHandles=function(){var a=this,b=this.view;this._handles.remove("layers");this._resetMapItems(b);b&&b.then(function(){a._handles.add([q.init(b,"map",function(){return a._resetMapItems(b)}),b.layerViews.on("change",function(){return a._compileList(b)}),q.init(a,"createActionsFunction",function(){return a._compileList(b)}),q.init(a,"listItemCreatedFunction",
function(){return a._compileList(b)})],"layers")})};b([u.property()],c.prototype,"createActionsFunction",null);b([u.property()],c.prototype,"listItemCreatedFunction",void 0);b([u.property({type:d})],c.prototype,"operationalItems",void 0);b([u.property({dependsOn:["view.ready"],readOnly:!0})],c.prototype,"state",null);b([u.property()],c.prototype,"view",void 0);b([u.property()],c.prototype,"triggerAction",null);return c=b([u.subclass("esri.widgets.LayerList.LayerListViewModel")],c)}(u.declared(l,e))})},
"esri/widgets/LayerList/ListItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Collection ../../support/Action ../../layers/support/Sublayer ../../core/Identifiable ../../core/HandleRegistry ../../core/watchUtils ./support/layerListUtils ../../core/accessorSupport/decorators".split(" "),function(p,k,h,b,l,c,e,r,q,t,v,w,m){var u=c.ofType(c.ofType(e));return function(d){function a(a){a=d.call(this)||this;
a._handles=new t;a.actionsSections=new u;a.actionsOpen=!1;a.children=new (c.ofType(e));a.error=null;a.layer=null;a.open=!1;a.parent=null;a.view=null;a.visible=null;return a}h(a,d);e=a;a.prototype.initialize=function(){var a=this;this._handles.add([v.init(this,"layer",function(b){return a._watchLayerProperties(b)}),v.init(this,"view",function(b){return a._updateChildren(b)})])};a.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null};Object.defineProperty(a.prototype,"layerView",
{get:function(){return this._findLayerView(this.layer)||null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"title",{get:function(){var a=this.get("layer.layer");return(!a||a&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(a){void 0===a?this._clearOverride("title"):this._override("title",a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"updating",{get:function(){var a=this.layerView;return a?a.updating:this._isLayerUpdating(this.layer)},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"visibleAtCurrentScale",{get:function(){return!w.isLayerOutsideScaleRange(this.layer,this.get("view.scale"))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"visibilityMode",{get:function(){return w.findLayerVisibilityMode(this.layer)||"independent"},enumerable:!0,configurable:!0});a.prototype.clone=function(){return new e({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),
layer:this.layer,open:this.open,title:this.title,view:this.view,visible:this.visible})};a.prototype._updateChildren=function(a){var b=this.children;b&&b.forEach(function(b){return b.view=a})};a.prototype._addChildren=function(a){var b=this;this.children.removeAll();if(a){var c=[];a.forEach(function(a){w.canDisplayLayer(a)&&(a=new e({layer:a,parent:b,view:b.view}),c.unshift(a))});this.children.addMany(c)}};a.prototype._watchSublayerChanges=function(a){var b=this;a&&this._handles.add(a.on("change",
function(){b._addChildren(a)}),"layer")};a.prototype._initializeChildLayers=function(a){this._addChildren(a);this._watchSublayerChanges(a)};a.prototype._watchLayerProperties=function(a){var b=this;if(this._handles&&(this._handles.remove("layer"),a)){var c=w.getNormalizedChildLayerProperty(a);c&&this._handles.add(v.init(a,c,function(){a.hasOwnProperty(c)&&b._initializeChildLayers(a[c])}),"layer")}};a.prototype._findLayerView=function(a){if(a){var b=this.get("view.allLayerViews");if(b)return b.find(function(b){return b.layer===
a})}};a.prototype._isLayerUpdating=function(a){return a instanceof r?!1:"loading"===a.loadStatus};b([m.property({type:u})],a.prototype,"actionsSections",void 0);b([m.property()],a.prototype,"actionsOpen",void 0);b([m.property({type:c})],a.prototype,"children",void 0);b([m.aliasOf("layer.loadError")],a.prototype,"error",void 0);b([m.property()],a.prototype,"layer",void 0);b([m.property({dependsOn:["layer","view"],readOnly:!0})],a.prototype,"layerView",null);b([m.property()],a.prototype,"open",void 0);
b([m.property()],a.prototype,"parent",void 0);b([m.property({dependsOn:["layer.layer.loaded","layer.title"]})],a.prototype,"title",null);b([m.property({dependsOn:["layer.loadStatus","layerView.updating"],readOnly:!0})],a.prototype,"updating",null);b([m.property({value:null})],a.prototype,"view",void 0);b([m.aliasOf("layer.visible")],a.prototype,"visible",void 0);b([m.property({dependsOn:["layer.minScale","layer.maxScale","view.scale"],readOnly:!0})],a.prototype,"visibleAtCurrentScale",null);b([m.property({dependsOn:["layer.visibilityMode"],
readOnly:!0})],a.prototype,"visibilityMode",null);return a=e=b([m.subclass("esri.widgets.LayerList.ListItem")],a);var e}(m.declared(l,q))})},"esri/layers/support/Sublayer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/paramHelper ../../core/accessorSupport/decorators dojo/io-query ../../core/Collection ../../core/JSONSupport ../../core/Logger ../../core/lang ../../core/accessorSupport/ensureType ../../core/accessorSupport/write ../../symbols/Symbol3D ../../renderers/support/jsonUtils ../../renderers/support/typeUtils ../../tasks/QueryTask ../../tasks/support/Query ../../PopupTemplate ./LabelClass ./layerSourceUtils".split(" "),
function(p,k,h,b,l,c,e,r,q,t,v,w,m,u,d,a,g,n,x,D,y){var C=t.getLogger("esri.layers.support.Sublayer"),E=0;return function(q){function f(){var a=null!==q&&q.apply(this,arguments)||this;a._sublayersHandles=null;return a}h(f,q);t=f;Object.defineProperty(f.prototype,"definitionExpression",{get:function(){return this._get("definitionExpression")},set:function(a){this._setAndNotifyLayer("definitionExpression",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"id",{get:function(){var a=
this._get("id");return null==a?E++:a},set:function(a){this._set("id",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"labelingInfo",{get:function(){return this._get("labelingInfo")},set:function(a){this._setAndNotifyLayer("labelingInfo",a)},enumerable:!0,configurable:!0});f.prototype.writeLabelingInfo=function(a,b,c,d){(!d||d.writeAsDynamic)&&a&&a.length&&(b.layerDefinition={drawingInfo:{labelingInfo:a.map(function(a){return a.write({},d)})}})};Object.defineProperty(f.prototype,
"labelsVisible",{get:function(){return this._get("labelsVisible")},set:function(a){this._setAndNotifyLayer("labelsVisible",a)},enumerable:!0,configurable:!0});f.prototype.writeLabelsVisible=function(a,b,c,d){if(!d||d.writeAsDynamic)b.showLabels=a};Object.defineProperty(f.prototype,"legendEnabled",{get:function(){return this._get("legendEnabled")},set:function(a){this._set("legendEnabled",a)},enumerable:!0,configurable:!0});f.prototype.writeLegendEnabled=function(a,b,c,d){b.showLegend=!!a};Object.defineProperty(f.prototype,
"layer",{set:function(a){this._set("layer",a);this.sublayers&&this.sublayers.forEach(function(b){return b.layer=a})},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"minScale",{get:function(){return this._get("minScale")},set:function(a){this._set("minScale",a)},enumerable:!0,configurable:!0});f.prototype.readMinScale=function(a,b){return b.minScale||b.layerDefinition&&b.layerDefinition.minScale||0};f.prototype.writeMinScale=function(a,b,c,d){if(d&&d.writeOverridesOnly&&(c=d&&d.serviceSublayer)&&
c.minScale===a&&c.maxScale===this.maxScale)return;b.minScale=a};Object.defineProperty(f.prototype,"maxScale",{get:function(){return this._get("maxScale")},set:function(a){this._set("maxScale",a)},enumerable:!0,configurable:!0});f.prototype.readMaxScale=function(a,b){return b.maxScale||b.layerDefinition&&b.layerDefinition.maxScale||0};f.prototype.writeMaxScale=function(a,b,c,d){if(d&&d.writeOverridesOnly&&(c=d&&d.serviceSublayer)&&c.maxScale===a&&c.minScale===this.minScale)return;b.maxScale=a};Object.defineProperty(f.prototype,
"opacity",{get:function(){return this._get("opacity")},set:function(a){this._setAndNotifyLayer("opacity",a)},enumerable:!0,configurable:!0});f.prototype.readOpacity=function(a,b){a=b.layerDefinition;return 1-.01*(null!=a.transparency?a.transparency:a.drawingInfo.transparency)};f.prototype.writeOpacity=function(a,b,c,d){if(!d||d.writeAsDynamic)b.layerDefinition={drawingInfo:{transparency:100-100*a}}};f.prototype.writeParent=function(a,b,c,d){d&&d.writeOverridesOnly||(b.parentLayerId=this.parent&&this.parent!==
this.layer?this.parent.id:-1)};Object.defineProperty(f.prototype,"popupTemplate",{get:function(){return this._get("popupTemplate")},set:function(a){this._set("popupTemplate",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"renderer",{get:function(){return this._get("renderer")},set:function(a){if(a)for(var b=0,c=a.getSymbols();b<c.length;b++)if(c[b].isInstanceOf(u)){C.warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",a)},enumerable:!0,configurable:!0});
f.prototype.readRenderer=function(a,b,c){if(a=b.layerDefinition.drawingInfo.renderer||void 0)(a=d.read(a,b,c)||void 0)||C.error("Failed to create renderer",{rendererDefinition:b.drawingInfo.renderer,layer:this,context:c});return a};f.prototype.writeRenderer=function(a,b,c,d){if(!d||d.writeAsDynamic)b.layerDefinition={drawingInfo:{renderer:a.toJSON()}}};Object.defineProperty(f.prototype,"source",{get:function(){return this._get("source")||{mapLayerId:this.id,type:y.MAPLAYER}},set:function(a){this._setAndNotifyLayer("source",
a)},enumerable:!0,configurable:!0});f.prototype.writeSource=function(a,b,c,d){d&&!d.writeAsDynamic&&d.writeOverridesOnly||(b.layerDefinition={source:y.sourceToJSON(a)})};Object.defineProperty(f.prototype,"sublayers",{set:function(a){var b=this,c=this._get("sublayers");c&&(c.forEach(function(a){a.parent=null;a.layer=null}),this._sublayersHandles.forEach(function(a){return a.remove()}),this._sublayersHandles=null);a&&(a.forEach(function(a){a.parent=b;a.layer=b.layer}),this._sublayersHandles=[a.on("after-add",
function(a){a=a.item;a.parent=b;a.layer=b.layer}),a.on("after-remove",function(a){a=a.item;a.parent=null;a.layer=null})]);this._set("sublayers",a)},enumerable:!0,configurable:!0});f.prototype.castSublayers=function(a){return w.default(r.ofType(t),a)};f.prototype.writeSublayers=function(a,b,c,d){d&&d.writeOverridesOnly||(b.subLayerIds=this.get("sublayers.length")?this.sublayers.map(function(a){return a.id}).toArray().reverse():null)};Object.defineProperty(f.prototype,"title",{get:function(){return this._get("title")},
set:function(a){this._set("title",a)},enumerable:!0,configurable:!0});f.prototype.writeTitle=function(a,b,c,d){if(d&&d.writeOverridesOnly&&(c=d&&d.serviceSublayer)&&c.title===a)return;b.name=a};Object.defineProperty(f.prototype,"url",{get:function(){var a=this.layer,b=this.source;if(!a)return null;if(y.isMapLayerSource(b))return a.parsedUrl.path+"/"+b.mapLayerId;b={layer:JSON.stringify({source:y.sourceToJSON(this.source)})};return a.parsedUrl.path+"/dynamicLayer?"+e.objectToQuery(b)},enumerable:!0,
configurable:!0});Object.defineProperty(f.prototype,"visible",{get:function(){return this._get("visible")},set:function(a){this._setAndNotifyLayer("visible",a)},enumerable:!0,configurable:!0});f.prototype.writeVisible=function(a,b,c,d){if(d&&d.writeOverridesOnly&&(c=d&&d.serviceSublayer)&&c.visible===a)return;b.defaultVisibility=a};f.prototype.clone=function(){var a=new t;this.hasOwnProperty("definitionExpression")&&(a.definitionExpression=this.definitionExpression);this.hasOwnProperty("id")&&(a.id=
this.id);this.hasOwnProperty("labelingInfo")&&(a.labelingInfo=v.clone(this.labelingInfo));this.hasOwnProperty("labelsVisible")&&(a.labelsVisible=this.labelsVisible);this.hasOwnProperty("legendEnabled")&&(a.legendEnabled=this.legendEnabled);this.hasOwnProperty("visible")&&(a.visible=this.visible);this.hasOwnProperty("layer")&&(a.layer=this.layer);this.hasOwnProperty("minScale")&&(a.minScale=this.minScale);this.hasOwnProperty("maxScale")&&(a.maxScale=this.maxScale);this.hasOwnProperty("opacity")&&(a.opacity=
this.opacity);this.hasOwnProperty("parent")&&(a.parent=this.parent);this.hasOwnProperty("popupTemplate")&&(a.popupTemplate=this.popupTemplate.clone());this.hasOwnProperty("renderer")&&(a.renderer=this.renderer.clone());this.hasOwnProperty("source")&&(a.source=v.clone(this.source));this.hasOwnProperty("sublayers")&&(a.sublayers=this.sublayers.clone());this.hasOwnProperty("title")&&(a.title=this.title);return a};f.prototype.createQuery=function(){return new n({returnGeometry:!0,where:this.definitionExpression||
"1\x3d1"})};f.prototype.queryFeatures=function(a){var b=this;void 0===a&&(a=this.createQuery());return(new g({url:this.url})).execute(a).then(function(a){a&&a.features&&a.features.forEach(function(a){a.popupTemplate=b.popupTemplate});return a})};f.prototype.toExportImageJSON=function(){var a={id:this.id,source:y.sourceToJSON(this.source)};this.definitionExpression&&(a.definitionExpression=this.definitionExpression);if(this.renderer||this.labelingInfo||null!=this.opacity||null!=this.labelsVisible){var b=
a.drawingInfo={};this.renderer&&(b.renderer=this.renderer.toJSON());null!=this.labelsVisible&&(b.showLabels=this.labelsVisible);!1!==this.labelsVisible&&this.labelingInfo&&(b.labelingInfo=this.labelingInfo.map(function(a){return a.write({},{origin:"service"})}));null!=this.opacity&&(b.transparency=100-100*this.opacity)}return a};f.prototype._setAndNotifyLayer=function(a,b){var c=this.layer;this._get(a)!==b&&(this._set(a,b),c&&c.emit("sublayer-update",{propertyName:a}))};b([c.property({value:null,
json:{read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression"}}})],f.prototype,"definitionExpression",null);b([c.property({json:{write:{ignoreOrigin:!0}}})],f.prototype,"id",null);b([c.property({value:null,type:[D],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"}}})],f.prototype,"labelingInfo",null);b([c.writer("labelingInfo")],f.prototype,"writeLabelingInfo",null);b([c.property({json:{read:{source:"showLabels"}}})],f.prototype,"labelsVisible",
null);b([c.writer("labelsVisible")],f.prototype,"writeLabelsVisible",null);b([c.property({value:!0,type:Boolean,json:{read:{source:"showLegend"}}})],f.prototype,"legendEnabled",null);b([c.writer("showLegend")],f.prototype,"writeLegendEnabled",null);b([c.property({value:null})],f.prototype,"layer",null);b([c.property({value:0,json:{write:{overridePolicy:function(a,b,c){if(m.willPropertyWrite(this,"maxScale",{},c))return{ignoreOrigin:!0}}}}})],f.prototype,"minScale",null);b([c.reader("portal-item",
"minScale",["minScale","layerDefinition.minScale"])],f.prototype,"readMinScale",null);b([c.writer("minScale")],f.prototype,"writeMinScale",null);b([c.property({value:0,json:{write:{overridePolicy:function(a,b,c){if(m.willPropertyWrite(this,"minScale",{},c))return{ignoreOrigin:!0}}}}})],f.prototype,"maxScale",null);b([c.reader("portal-item","maxScale",["maxScale","layerDefinition.maxScale"])],f.prototype,"readMaxScale",null);b([c.writer("maxScale")],f.prototype,"writeMaxScale",null);b([c.property()],
f.prototype,"opacity",null);b([c.reader("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],f.prototype,"readOpacity",null);b([c.writer("opacity")],f.prototype,"writeOpacity",null);b([c.property({json:{write:{allowNull:!0}}})],f.prototype,"parent",void 0);b([c.writer("parent")],f.prototype,"writeParent",null);b([c.property({value:null,type:x,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],f.prototype,"popupTemplate",null);b([c.property({types:a.types,
value:null,json:{write:{target:"layerDefinition.drawingInfo.renderer"}}})],f.prototype,"renderer",null);b([c.reader("renderer",["layerDefinition.drawingInfo.renderer"])],f.prototype,"readRenderer",null);b([c.writer("renderer")],f.prototype,"writeRenderer",null);b([c.property({cast:y.castSource,json:{read:{source:"layerDefinition.source",reader:y.sourceFromJSON}}})],f.prototype,"source",null);b([c.writer("source")],f.prototype,"writeSource",null);b([c.property({value:null,json:{write:{allowNull:!0}}})],
f.prototype,"sublayers",null);b([c.cast("sublayers")],f.prototype,"castSublayers",null);b([c.writer("sublayers")],f.prototype,"writeSublayers",null);b([c.property({value:null,json:{read:{source:"name"},write:{allowNull:!0,ignoreOrigin:!0}}})],f.prototype,"title",null);b([c.writer("title")],f.prototype,"writeTitle",null);b([c.property({readOnly:!0,dependsOn:["layer","source"]})],f.prototype,"url",null);b([c.property({value:!0,json:{read:{source:"defaultVisibility"}}})],f.prototype,"visible",null);
b([c.writer("visible")],f.prototype,"writeVisible",null);b([l(0,c.cast(n))],f.prototype,"queryFeatures",null);return f=t=b([c.subclass("esri.layers.support.Sublayer")],f);var t}(c.declared(q))})},"esri/layers/support/layerSourceUtils":function(){define(["require","exports","../../core/lang","../../core/kebabDictionary"],function(p,k,h,b){function l(b){return null!=b&&b.hasOwnProperty("mapLayerId")}function c(b){return null!=b&&b.hasOwnProperty("dataSource")}function e(b){if(!b)return b;l(b)&&(b.type=
k.MAPLAYER);if(c(b)&&(b.type=k.DATALAYER,!b.dataSource.type)){var d=b.dataSource;d.workspaceId?d.type=d.gdbVersion?"table":d.query||d.oidFields?"query-table":"raster":d.leftTableKey&&d.rightTableKey&&d.leftTableSource&&d.rightTableSource&&(d.type="join-table",d.leftTableSource=e(d.leftTableSource),d.rightTableSource=e(d.rightTableSource))}return b}function r(b){var c={};if(b.type===k.MAPLAYER)c.mapLayerId=b.mapLayerId,b.gdbVersion&&(c.gdbVersion=b.gdbVersion);else if(b.type===k.DATALAYER){b.fields&&
(c.fields=b.fields);var a;a=b.dataSource;var e;switch(a.type){case "table":e={dataSourceName:a.dataSourceName,workspaceId:a.workspaceId,gdbVersion:a.gdbVersion};break;case "query-table":e={geometryType:t.toJSON(a.geometryType),workspaceId:a.workspaceId,query:a.query,oidFields:a.oidFields,spatialReference:a.spatialReference};break;case "join-table":e={leftTableSource:r(a.leftTableSource),rightTableSource:r(a.rightTableSource),leftTableKey:a.leftTableKey,rightTableKey:a.rightTableKey,joinType:m.toJSON(a.joinType)};
break;case "raster":e={workspaceId:a.workspaceId,dataSourceName:a.dataSourceName}}e.type=w.toJSON(a.type);a=h.fixJson(e);c.dataSource=a}c.type=v.toJSON(b.type);return h.fixJson(c)}function q(b){var c={};if(v.fromJSON(b.type)===k.MAPLAYER)c.mapLayerId=b.mapLayerId,b.gdbVersion&&(c.gdbVersion=b.gdbVersion);else if(v.fromJSON(b.type)===k.DATALAYER){b.fields&&(c.fields=b.fields);var a;a=b.dataSource;var e;switch(a.type){case "table":e={dataSourceName:a.dataSourceName,workspaceId:a.workspaceId,gdbVersion:a.gdbVersion};
break;case "queryTable":e={geometryType:t.fromJSON(a.geometryType),workspaceId:a.workspaceId,query:a.query,oidFields:a.oidFields,spatialReference:a.spatialReference};break;case "joinTable":e={leftTableSource:q(a.leftTableSource),rightTableSource:q(a.rightTableSource),leftTableKey:a.leftTableKey,rightTableKey:a.rightTableKey,joinType:m.fromJSON(a.joinType)};break;case "raster":e={workspaceId:a.workspaceId,dataSourceName:a.dataSourceName}}e.type=w.fromJSON(a.type);a=h.fixJson(e);c.dataSource=a}c.type=
v.fromJSON(b.type);return h.fixJson(c)}Object.defineProperty(k,"__esModule",{value:!0});k.MAPLAYER="map-layer";k.DATALAYER="data-layer";var t=b({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),v=b({mapLayer:k.MAPLAYER,dataLayer:k.DATALAYER}),w=b({joinTable:"join-table",queryTable:"query-table"}),m=b({esriLeftOuterJoin:"left-outer-join",esriLeftInnerJoin:"left-inner-join"});k.isMapLayerSource=
l;k.isDataLayerSource=c;k.castSource=e;k.sourceToJSON=r;k.sourceFromJSON=q})},"esri/widgets/LayerList/support/layerListUtils":function(){define(["require","exports"],function(p,k){function h(b){if(b)return b.hasOwnProperty("listMode")?b.listMode:void 0}function b(b){if(b)return b.hasOwnProperty("minScale")?b.minScale:void 0}function l(b){if(b)return b.hasOwnProperty("maxScale")?b.maxScale:void 0}Object.defineProperty(k,"__esModule",{value:!0});k.findLayerListMode=h;k.findLayerMinScale=b;k.findLayerMaxScale=
l;k.findLayerVisibilityMode=function(b){if(b){var c=b.get("layer.capabilities");return c&&-1===c.indexOf("supportsSublayerVisibility")?"inherited":b.hasOwnProperty("visibilityMode")?b.visibilityMode:void 0}};k.getNormalizedChildLayerProperty=function(b){if(b&&"hide-children"!==b.listMode&&"wmts"!==b.type)return"group"===b.type?"layers":"sublayers"};k.canDisplayLayer=function(b){return"hide"!==h(b)};k.isLayerOutsideScaleRange=function(c,e){if(!c||isNaN(e))return!1;var r=b(c);c=l(c);r=!isNaN(r)&&0<
r&&e>=r;e=!isNaN(c)&&0<c&&e<=c;return r||e}})},"dojo/debounce":function(){define([],function(){return function(p,k){var h;return function(){h&&clearTimeout(h);var b=this,l=arguments;h=setTimeout(function(){p.apply(b,l)},k)}}})},"widgets/LayerList/LayerItem":function(){define("dojo/_base/html dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./LayerItem.html dojo/_base/lang jimu/dijit/CheckBox".split(" "),function(p,k,h,b,l,c,e){return k([h,b,l],{templateString:c,
sceneView:null,layer:null,baseClass:"jimu-widget-layeritem",nls:null,postCreate:function(){this.inherited(arguments);this.cbx.onChange=e.hitch(this,this._onCbxChanged);this.own(this.layer.watch("title",e.hitch(this,function(){this._updateTitleUI()})));this.own(this.layer.watch("visible",e.hitch(this,function(){this._updateVisibilityUI()})));this.layer.then(e.hitch(this,function(){this.domNode&&(this._updateTitleUI(),this._updateVisibilityUI())}),e.hitch(this,function(b){console.error(b);this.domNode&&
p.addClass(this.domNode,"not-loaded")}));this._updateTitleUI()},_onClickSelf:function(b){b=b.target;b===this.cbx.domNode||p.isDescendant(b,this.cbx.domNode)||this.cbx.setValue(!this.cbx.getValue())},_updateTitleUI:function(){this.cbx.setLabel(this.layer.title||this.layer.name||this.layer.mapName||"")},_updateVisibilityUI:function(){var b=this.layer.get("visible");b!==this.cbx.getValue()&&this.cbx.setValue(b);this.domNode.title=b?this.nls.hide:this.nls.show},_onCbxChanged:function(){this.cbx.getValue()!==
this.layer.get("visible")&&this.layer.set("visible",this.cbx.getValue())},_onBtnZoomClicked:function(b){b.stopPropagation();if(b=this.layer.extent||this.layer.fullExtent)b=b.expand(1.2),this.sceneView.animateTo(b)},destroy:function(){this.layer=this.sceneView=null;this.inherited(arguments)}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(p,k,h,b,l){return h("dijit._WidgetsInTemplateMixin",null,
{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var c=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);l.parse(c,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(b.hitch(this,function(b){this._startupWidgets=b;for(var c=0;c<b.length;c++)this._processTemplateNode(b[c],
function(b,c){return b[c]},function(b,c,e){return c in b?b.connect(b,c,e):b.on(c,e,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(b,e,h){return e(b,"dojoType")||e(b,"data-dojo-type")?
!0:this.inherited(arguments)},startup:function(){p.forEach(this._startupWidgets,function(b){b&&!b._started&&b.startup&&b.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"jimu/dijit/CheckBox":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/_base/html dojo/dom-class dojo/on dojo/Evented dojo/keys".split(" "),function(p,k,h,b,l,c,e,r){return p([k,e],{baseClass:"jimu-checkbox",declaredClass:"jimu.dijit.CheckBox",checked:!1,status:!0,label:"",postCreate:function(){this.checkNode=
b.create("div",{"class":"checkbox jimu-float-leading"},this.domNode);this.labelNode=b.create("div",{"class":"label jimu-float-leading",innerHTML:this.label||""},this.domNode);this.checked&&b.addClass(this.checkNode,"checked");this.status||b.addClass(this.domNode,"jimu-state-disabled");this.own(c(this.checkNode,"click",h.hitch(this,function(){this.status&&(this.checked?this.uncheck():this.check())})));this.own(c(this.labelNode,"click",h.hitch(this,function(){this.checked&&this.status?this.uncheck():
this.status&&this.check()})));this._udpateLabelClass();this._initSection508()},setLabel:function(b){this.label=b||"";this.labelNode.innerHTML=this.label;this._udpateLabelClass()},getLabel:function(){return this.label||""},_udpateLabelClass:function(){this.labelNode&&(this.labelNode.innerHTML?b.removeClass(this.labelNode,"not-visible"):b.addClass(this.labelNode,"not-visible"))},_initSection508:function(){"undefined"!==typeof this.tabindex&&(b.setAttr(this.checkNode,"tabindex",this.tabindex),this.own(c(this.checkNode,
"focus",h.hitch(this,function(){b.addClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(c(this.checkNode,"blur",h.hitch(this,function(){b.removeClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(c(this.checkNode,"keypress",h.hitch(this,function(c){c=c.charCode||c.keyCode;b.hasClass(this.checkNode,"dijitCheckBoxFocused")&&r.SPACE===c&&this.status&&(this.checked?this.uncheck():this.check())}))))},setValue:function(b){this.status&&(!0===b?this.check():this.uncheck())},getValue:function(){return this.checked},
setStatus:function(b){b=!!b;var c=this.status!==b;(this.status=b)?l.remove(this.domNode,"jimu-state-disabled"):l.add(this.domNode,"jimu-state-disabled");c&&this.emit("status-change",b)},getStatus:function(){return this.status},check:function(){this.status&&(this.checked=!0,b.addClass(this.checkNode,"checked"),this.onStateChange())},uncheck:function(c){if(this.status&&(this.checked=!1,b.removeClass(this.checkNode,"checked"),!c))this.onStateChange()},onStateChange:function(){if(this.onChange&&h.isFunction(this.onChange))this.onChange(this.checked);
this.emit("change",this.checked)},focus:function(){this.checkNode&&this.checkNode.focus&&this.checkNode.focus()}})})},"widgets/LayerList/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/LayerList/LayerItem.html":'\x3cdiv data-dojo-attach-event\x3d"click:_onClickSelf"\x3e\r\n\t\x3ctable class\x3d"layeritem-table"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"50"\x3e\x3c/col\x3e\r\n\t    \x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"cbx" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esri-icon-zoom-out-fixed jimu-float-trailing" title\x3d"${nls.fullExtentTip}" data-dojo-attach-event\x3d"onclick:_onBtnZoomClicked"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/Widget.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"dijit-container" data-dojo-attach-point\x3d"dijitDiv"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"elevation-layers-container" data-dojo-attach-point\x3d"elevationLayersContainer"\x3e\r\n    \x3cdiv class\x3d"ground-tip hidden" data-dojo-attach-point\x3d"groundTip"\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv\x3e\r\n        \x3cspan\x3e${nls.ground}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/css/style.css":'.jimu-widget-layerlist .dijit-container{width: 100%;}.jimu-widget-layerlist .hidden{display: none !important;}.jimu-widget-layerlist .esri-layer-list__list--root{overflow-x: hidden;}.jimu-widget-layerlist .esri-layer-list{max-height: initial; background: transparent; padding: 0;}.jimu-widget-layerlist .esri-layer-list__item{background: inherit; max-height: 100%; overflow: visible; padding: 0; margin-left: 15px;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item{margin-left: 0; margin-right: 15px;}.jimu-widget-layerlist .esri-layer-list__item.esri-layer-list__item--has-children{margin-left: 0; margin-right: 0;}.jimu-widget-layerlist .esri-layer-list__list--root \x3e .esri-layer-list__item{margin-left: 0 !important; margin-right: 0 !important;}.jimu-widget-layerlist .esri-layer-list__item:before{display: none;}.jimu-widget-layerlist .esri-layer-list__item:after{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container .esri-icon-zoom-out-fixed{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .esri-layer-list__item-container{padding: 9px 0; border-bottom: none;}.jimu-widget-layerlist .dijit-container \x3e ul.esri-layer-list__list--root \x3e .esri-layer-list__item:first-child{display: none;}.jimu-widget-layerlist .esri-layer-list__item-toggle{width: 16px; height: 16px;}.jimu-widget-layerlist .esri-icon-visible{display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checked_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-visible:before{content: "";}.jimu-widget-layerlist .esri-icon-non-visible{display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checkbox_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-non-visible:before{content: "";}.jimu-widget-layerlist .jimu-widget-layeritem{cursor: pointer;}.jimu-widget-layerlist .jimu-widget-layeritem.not-loaded{display: none;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table{width: 100%; table-layout: fixed; border-collapse: collapse;}.jimu-widget-layerlist .jimu-widget-layeritem .esri-icon-zoom-out-fixed{font-size: 14px; cursor: pointer; display: none;}.jimu-widget-layerlist .jimu-widget-layeritem:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table td{padding: 5px 0;}.jimu-widget-layerlist .jimu-widget-layeritem .jimu-checkbox .label{cursor: pointer;}.jimu-widget-layerlist .ground-tip{position: relative; height: 24px; margin-top: 5px;}.jimu-widget-layerlist .ground-tip \x3e *{position: absolute; width: 100%;}.jimu-widget-layerlist .ground-tip \x3e div{text-align: center;}.jimu-widget-layerlist .ground-tip span{display: inline-block; max-width: 90%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; background-color: white; padding: 0 4px;}html[dir\x3d"rtl"] .jimu-widget-layerlist .esri-layer-list__child-toggle.esri-layer-list__child-toggle--open \x3e .esri-layer-list__child-toggle-icon--closed-rtl.esri-icon-left-triangle-arrow{display: none;}',
"*now":function(p){p(['dojo/i18n!*preload*widgets/LayerList/nls/Widget*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/on dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/html jimu/BaseWidget esri/widgets/LayerList dojo/i18n!esri/nls/common ./LayerItem".split(" "),function(p,k,h,b,l,c,e,r,q){return h([c],{name:"LayerList",baseClass:"jimu-widget-layerlist",_elevationLayerItems:null,postCreate:function(){this.inherited(arguments);this._elevationLayerItems=[];this.nls.hide=r.visibility.hide;this.nls.show=r.visibility.show;this.layerList=new e({view:this.sceneView,container:this.dijitDiv,createActionsFunction:b.hitch(this,
this._createActionsFunction)});this.own(this.layerList.on("trigger-action",b.hitch(this,this._onTriggerAction)));this.own(p(this.sceneView.map.ground.layers,"change",b.hitch(this,this._updateElevationLayers)));this.own(p(this.sceneView.map.allLayers,"change",b.hitch(this,this._updateGroudTip)));this._updateElevationLayers()},onOpen:function(){this._updateGroudTip()},_updateGroudTip:function(){setTimeout(b.hitch(this,function(){10<this.dijitDiv.clientHeight?l.removeClass(this.groundTip,"hidden"):l.addClass(this.groundTip,
"hidden")}),1E3)},_updateElevationLayers:function(){this._destroyAllElevationLayerItems();for(var b=this.sceneView.map.ground.layers,c=0,e=b.get("length")-1;0<=e;e--){var h=b.getItemAt(e);"hide"!==h.listMode&&(this._addElevationLayerItem(h),c++)}0===c?l.addClass(this.elevationLayersContainer,"hidden"):l.removeClass(this.elevationLayersContainer,"hidden")},_addElevationLayerItem:function(b){b=new q({layer:b,sceneView:this.sceneView,nls:this.nls});this._elevationLayerItems.push(b);b.placeAt(this.elevationLayersContainer)},
_destroyAllElevationLayerItems:function(){k.forEach(this._elevationLayerItems,b.hitch(this,function(b){b.destroy()}));this._elevationLayerItems=[]},_createActionsFunction:function(b){var c=[];b.item.layer&&(c=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]);return c},_onTriggerAction:function(b){var c=b.item.layer;if(c)switch(b.action.id){case "full-extent":(b=c.fullExtent||c.extent)&&this.sceneView.goTo(b)}},destroy:function(){this.layerList&&(this.layerList.destroy(),
this.layerList=null);this._destroyAllElevationLayerItems();this.inherited(arguments)}})});