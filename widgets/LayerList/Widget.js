// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/widgets/LayerList":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper dojo/i18n!../nls/common dojo/i18n!./LayerList/nls/LayerList ../core/Collection ../core/Handles ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./LayerList/LayerListViewModel ./LayerList/ListItem ./support/widget".split(" "),function(v,u,r,a,p,f,t,n,q,e,k,w,x,h,b){function l(b){var a=b.children;b.actionsOpen&&
(b.actionsOpen=!1);a.forEach(function(c){return l(c)})}var z=n.ofType(h);return function(h){function g(c){c=h.call(this)||this;c._handles=new q;c.iconClass="esri-icon-layers";c.label=t.widgetLabel;c.listItemCreatedFunction=null;c.operationalItems=null;c.selectionEnabled=!1;c.selectedItems=new z;c.statusIndicatorsVisible=!0;c.view=null;c.viewModel=new x;return c}r(g,h);g.prototype.postInitialize=function(){var c=this,d=this.operationalItems;this.own(e.on(this,"operationalItems","change",function(){return c._itemsChanged(d)}))};
g.prototype.destroy=function(){this._handles.destroy();this._handles=null};g.prototype.triggerAction=function(c,d){};g.prototype.render=function(){var c=this,d,a=this._getItems(),m=this.get("viewModel.state"),a=0===a.length?b.tsx("div",{class:"esri-layer-list__no-items"},t.noItemsToDisplay):b.tsx("ul",{class:this.classes("esri-layer-list__list","esri-layer-list__list--root","esri-layer-list__list--independent")},a.map(function(d,m){return c._renderItem(d,null)})),m=(d={},d["esri-hidden"]="loading"===
m,d["esri-disabled"]="disabled"===m,d);return b.tsx("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",m)},a)};g.prototype._getItems=function(){var c=this;return this.operationalItems.toArray().filter(function(d){return c.errorsVisible||!d.error})};g.prototype._getSingleActionButton=function(c){return c.actionsSections.reduce(function(c){return c}).filter(function(c){return c&&"button"===c.type}).getItemAt(0)};g.prototype._renderItem=function(c,d){var a=this,m,l,h,e,g=this.id+
"_"+c.uid,k=g+"_actions",n=g+"__list",g=g+"__title",q=!!c.error,z=!!c.children.length&&!q,x=q?t.layerError:"",y=c.visibilityMode,r=c.children&&c.children.toArray(),v=(m={},m["esri-layer-list__list--exclusive"]="exclusive"===y,m["esri-layer-list__list--inherited"]="inherited"===y,m["esri-layer-list__list--independent"]="inherited"!==y&&"exclusive"!==y,m);m=(l={},l["esri-layer-list__item--has-children"]=z,l["esri-layer-list__item--error"]=!!q,l["esri-layer-list__item--updating"]=c.updating&&!d&&this.statusIndicatorsVisible,
l["esri-layer-list__item--invisible-at-scale"]=!c.visibleAtCurrentScale,l["esri-layer-list__item--selectable"]=this.selectionEnabled,l);var u=this._countActions(c.actionsSections),w=c.panel;l=w&&w.open?w.render():null;var w=w&&w.visible?this._renderPanelButton(w):null,A=(h={},h["esri-layer-list__item-actions-menu-item--active"]=c.actionsOpen,h),C=c.actionsOpen?f.close:f.open,B=1===u&&this._getSingleActionButton(c);h=B?this._renderAction({item:c,action:B,singleAction:!0}):null;h=(A=!B&&u?b.tsx("div",
{key:"actions-menu-toggle","data-item":c,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes("esri-layer-list__item-actions-menu-item",A),tabindex:"0",role:"button","aria-controls":k,"aria-label":C,title:C},b.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null)||w||h?b.tsx("div",{key:"esri-layer-list__actions-menu",class:"esri-layer-list__item-actions-menu"},w,h,A):null;k=u?this._renderActionsSections(c,c.actionsSections,k):null;
y=z?b.tsx("ul",{key:"esri-layer-list__list-items",id:n,class:this.classes("esri-layer-list__list",v),"aria-expanded":c.open?"true":"false",role:"exclusive"===y?"radiogroup":"group",hidden:c.open?null:!0},r.map(function(d){return a._renderItem(d,c)})):null;r=(e={},e["esri-layer-list__child-toggle--open"]=c.open,e);e=c.open?f.collapse:f.expand;n=z?b.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":c,key:"esri-layer-list__toggle-children",class:this.classes("esri-layer-list__child-toggle",
r),tabindex:"0",role:"button","aria-controls":n,"aria-label":e,title:e},b.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),b.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),b.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null;d=this._createLabelNode(c,
d,g);q=q?b.tsx("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-error-message",role:"alert"},b.tsx("span",null,x)):null;x=-1<this.selectedItems.indexOf(c);x=this.selectionEnabled?{bind:this,onclick:this._toggleSelection,onkeydown:this._toggleSelection,"data-item":c,tabIndex:0,"aria-checked":x?"true":"false",role:"checkbox","aria-labelledby":g}:{bind:void 0,onclick:void 0,onkeydown:void 0,"data-item":void 0,tabIndex:void 0,"aria-checked":void 0,role:void 0,"aria-labelledby":void 0};
return b.tsx("li",{key:c,class:this.classes("esri-layer-list__item",m),"aria-labelledby":g},b.tsx("div",p({key:"esri-layer-list__list-item-container",class:"esri-layer-list__item-container"},x),n,d,h),q,k,l,y)};g.prototype._createLabelNode=function(c,d,a){var m,l=this.selectionEnabled;d=d&&d.visibilityMode;var h=(m={},m["esri-icon-radio-checked"]="exclusive"===d&&c.visible,m["esri-icon-radio-unchecked"]="exclusive"===d&&!c.visible,m["esri-icon-visible"]="exclusive"!==d&&c.visible,m["esri-icon-non-visible"]=
"exclusive"!==d&&!c.visible,m),e="exclusive"===d?"radio":"switch";m=c.title||t.untitledLayer;var f=c.visibleAtCurrentScale?m:m+" ("+t.layerInvisibleAtScale+")";m=b.tsx("span",{id:a,title:f,"aria-label":f,class:"esri-layer-list__item-title"},m);h=b.tsx("span",{class:this.classes("esri-layer-list__item-toggle-icon",h),"aria-hidden":"true"});a={bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":c,"data-parent-visibility":d,tabIndex:0,"aria-checked":c.visible?"true":
"false",role:e,"aria-labelledby":a};e={bind:void 0,onclick:void 0,onkeydown:void 0,"data-item":void 0,"data-parent-visibility":void 0,tabIndex:void 0,"aria-checked":void 0,role:void 0,"aria-labelledby":void 0};f=l?a:e;l=b.tsx("div",p({key:c,class:"esri-layer-list__item-label"},l?e:a),b.tsx("span",p({class:"esri-layer-list__item-toggle"},f),h),m);h=(a=!!c.error)?b.tsx("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}):null;return"inherited"===d||a?b.tsx("div",{key:c,class:"esri-layer-list__item-label"},
h,m):l};g.prototype._renderPanelButton=function(c){var d,a,m=c.className,l=c.open,h=c.title,m=c.image||m?m:"esri-icon-default-action",e=this._getIconImageStyles(c),l=(d={},d["esri-layer-list__item-actions-menu-item--active"]=l,d);d=(a={},a["esri-layer-list__item-action-image"]=!!e["background-image"],a);m&&(d[m]=!!m);return b.tsx("div",{key:c,bind:this,"data-panel":c,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes("esri-layer-list__item-actions-menu-item",l),role:"button",
tabindex:"0",title:h,"aria-label":h},b.tsx("span",{class:this.classes(d),styles:e}))};g.prototype._watchActionSectionChanges=function(c,d){var b=this,m="action-section"+d;this._handles.add(c.on("change",this.scheduleRender.bind(this)),m);c.forEach(function(c){return b._renderOnActionChanges(c,d)})};g.prototype._renderOnActionChanges=function(c,d){var b=this;d="actions"+d;"toggle"===c.type?this._handles.add([e.init(c,"className image id title visible value".split(" "),function(){return b.scheduleRender()})],
d):"slider"===c.type?this._handles.add([e.init(c,"className id title visible value displayValueEnabled max min step".split(" "),function(){return b.scheduleRender()})],d):this._handles.add([e.init(c,["className","image","id","title","visible"],function(){return b.scheduleRender()})],d)};g.prototype._renderOnItemChanges=function(c){var d=this,b=c.uid,m="items"+b;this._handles.add([e.init(c,"actionsOpen visible open updating title visibleAtCurrentScale error visibilityMode panel panel.title panel.content panel.className".split(" "),
function(){return d.scheduleRender()}),c.actionsSections.on("change",function(){return d.scheduleRender()}),c.children.on("change",function(){return d.scheduleRender()})],m);c.children.forEach(function(c){return d._renderOnItemChanges(c)});c.actionsSections.forEach(function(c){return d._watchActionSectionChanges(c,b)})};g.prototype._itemsChanged=function(c){var d=this;this._handles.removeAll();c.forEach(function(c){return d._renderOnItemChanges(c)});this.scheduleRender()};g.prototype._renderActionsSections=
function(c,d,a){var m=this;d=d.toArray().map(function(d){return b.tsx("ul",{key:d,class:"esri-layer-list__item-actions-list"},m._renderActionSection(c,d))});return b.tsx("div",{role:"group","aria-expanded":c.actionsOpen?"true":"false",key:"esri-layer-list__actions-section",id:a,class:"esri-layer-list__item-actions",hidden:c.actionsOpen?null:!0},d)};g.prototype._renderActionSection=function(c,d){var b=this;return(d&&d.toArray()).map(function(d){return b._renderAction({item:c,action:d})})};g.prototype._renderAction=
function(c){var d,a,m=c.item,l=c.action;c=c.singleAction;var h=this._getIconImageStyles(l),e=l.active,f=l.className,g=l.disabled,k=l.title,f="button"!==l.type||l.image||f?f:"esri-icon-default-action",g=(d={},d["esri-layer-list__item-actions-menu-item"]=c&&"button"===l.type,d["esri-layer-list__item-action"]=!c&&"toggle"!==l.type,d["esri-layer-list__action-toggle"]="toggle"===l.type,d["esri-layer-list__action-toggle--on"]="toggle"===l.type&&l.value,d["esri-disabled-element"]=g,d);d=(a={},a["esri-layer-list__item-action-image"]=
!e&&!!h["background-image"],a["esri-icon-loading-indicator"]=e,a["esri-rotating"]=e,a);f&&(d[f]=!0);a=b.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",d),styles:h});d=c?null:b.tsx("span",{class:"esri-layer-list__item-action-title"},k);a=[a,d];return c?b.tsx("div",{bind:this,"data-item":m,"data-action":l,role:"button",key:l,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:g,tabindex:"0",title:k,"aria-label":k},a):b.tsx("li",{bind:this,"data-item":m,
"data-action":l,key:l,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:g,tabindex:"0",role:"button",title:k,"aria-label":k},a)};g.prototype._countActions=function(c){return c.reduce(function(c,b){return c+b.length},0)};g.prototype._getIconImageStyles=function(c){c="esri.widgets.LayerList.ListItemPanel"===c.declaredClass||"esri.support.Action.ActionButton"===c.declaredClass||"esri.support.Action.ActionToggle"===c.declaredClass?c.image:null;return{"background-image":c?'url("'+c+'")':
null}};g.prototype._toggleActionsOpen=function(c){var d=c.currentTarget["data-item"],b=!d.actionsOpen;b&&this.operationalItems.forEach(function(c){return l(c)});d.actionsOpen=b;c.stopPropagation()};g.prototype._triggerPanel=function(c){var d=c.currentTarget["data-panel"];d&&(d.open=!d.open);c.stopPropagation()};g.prototype._triggerAction=function(c){var d=c.currentTarget,b=d["data-action"],d=d["data-item"];"toggle"===b.type&&(b.value=!b.value);this.triggerAction(b,d);c.stopPropagation()};g.prototype._toggleVisibility=
function(c){var d=c.currentTarget,b=d.getAttribute("data-parent-visibility"),d=d["data-item"];"exclusive"===b&&d.visible||(d.visible=!d.visible);c.stopPropagation()};g.prototype._toggleChildrenClick=function(c){var d=c.currentTarget["data-item"];d.open=!d.open;c.stopPropagation()};g.prototype._toggleSelection=function(c){var d=c.metaKey||c.ctrlKey;c=c.currentTarget["data-item"];var b=this.selectedItems,a=-1<b.indexOf(c),l=b.length,h=a&&1===l;d?a?b.remove(c):b.add(c):l&&!h?(b.removeAll(),b.add(c)):
a?b.remove(c):b.add(c)};a([k.property()],g.prototype,"iconClass",void 0);a([k.property(),b.renderable()],g.prototype,"errorsVisible",void 0);a([k.property()],g.prototype,"label",void 0);a([k.aliasOf("viewModel.listItemCreatedFunction"),b.renderable()],g.prototype,"listItemCreatedFunction",void 0);a([k.aliasOf("viewModel.operationalItems"),b.renderable()],g.prototype,"operationalItems",void 0);a([k.property(),b.renderable()],g.prototype,"selectionEnabled",void 0);a([k.property(),b.renderable()],g.prototype,
"selectedItems",void 0);a([k.property(),b.renderable()],g.prototype,"statusIndicatorsVisible",void 0);a([k.aliasOf("viewModel.view"),b.renderable()],g.prototype,"view",void 0);a([b.vmEvent("trigger-action"),k.property({type:x}),b.renderable("viewModel.state")],g.prototype,"viewModel",void 0);a([k.aliasOf("viewModel.triggerAction")],g.prototype,"triggerAction",null);a([b.accessibleHandler()],g.prototype,"_toggleActionsOpen",null);a([b.accessibleHandler()],g.prototype,"_triggerPanel",null);a([b.accessibleHandler()],
g.prototype,"_triggerAction",null);a([b.accessibleHandler()],g.prototype,"_toggleVisibility",null);a([b.accessibleHandler()],g.prototype,"_toggleChildrenClick",null);a([b.accessibleHandler()],g.prototype,"_toggleSelection",null);return g=a([k.subclass("esri.widgets.LayerList")],g)}(k.declared(w))})},"esri/widgets/LayerList/LayerListViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Collection ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/accessorSupport/decorators ./ListItem ./support/layerListUtils".split(" "),
function(v,u,r,a,p,f,t,n,q,e,k,w){var x=f.ofType(k);return function(h){function b(b){b=h.call(this)||this;b._handles=new n;b.listItemCreatedFunction=null;b.operationalItems=new x;b.view=null;return b}r(b,h);b.prototype.initialize=function(){var b=this;this._handles.add(q.init(this,"view",function(){return b._viewHandles()}),"view")};b.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null;this.operationalItems.removeAll()};Object.defineProperty(b.prototype,"state",{get:function(){var b=
this.get("view");return this.get("view.ready")?"ready":b?"loading":"disabled"},enumerable:!0,configurable:!0});b.prototype.triggerAction=function(b,a){b&&this.emit("trigger-action",{action:b,item:a})};b.prototype._createLayerViewHandles=function(b){var a=this,l=this._handles;l.remove("layer-views");this._compileList();b&&l.add(b.on("change",function(){return a._compileList()}),"layer-views")};b.prototype._createMapLayerHandles=function(b){var a=this,l=this._handles;l.remove("map-layers");this._compileList();
b&&l.add(b.on("change",function(){return a._compileList()}),"map-layers")};b.prototype._watchItemProperties=function(b){var a=this;this._handles.add([b.children.on("change",function(){a._modifyListItemChildren(b.children)})],"children-change-"+b.uid)};b.prototype._modifyListItemChildren=function(b){var a=this;b.forEach(function(b){return a._modifyListItem(b)})};b.prototype._modifyListItem=function(b){"function"===typeof this.listItemCreatedFunction&&this.listItemCreatedFunction.call(null,{item:b});
this._modifyListItemChildren(b.children)};b.prototype._createListItem=function(b){b=new k({layer:b,view:this.view});this._watchItemProperties(b);return b};b.prototype._removeAllItems=function(){var b=this._handles,a=this.operationalItems;a.forEach(function(a){b.remove("children-change-"+a.uid)});a.removeAll()};b.prototype._getViewableLayers=function(b){if(b)return b.filter(function(b){return"hide"!==w.findLayerListMode(b)})};b.prototype._watchLayersListMode=function(b){var a=this,h=this._handles;
h.remove("layer-list-mode");b&&b.forEach(function(b){h.add(q.watch(b,"listMode",function(){return a._compileList()}),"layer-list-mode")})};b.prototype._compileList=function(){var b=this.get("view.map.layers");this._watchLayersListMode(b);(b=this._getViewableLayers(b))&&b.length?(this._createNewItems(b),this._modifyOrRemoveItems(b),this._sortItems(b)):this._removeAllItems()};b.prototype._createNewItems=function(b){var a=this,h=this.operationalItems;b.forEach(function(b){h.find(function(c){return c.layer===
b})||h.add(a._createListItem(b))})};b.prototype._modifyOrRemoveItems=function(b){var a=this,h=this._handles,e=this.operationalItems;e.forEach(function(c){c&&(b.find(function(b){return c.layer===b})?a._modifyListItem(c):(h.remove("children-change-"+c.uid),e.remove(c)))})};b.prototype._sortItems=function(b){this.operationalItems.sort(function(a,h){a=b.indexOf(a.layer);h=b.indexOf(h.layer);return a>h?-1:a<h?1:0})};b.prototype._viewHandles=function(){var b=this,a=this._handles,h=this.view;a.remove(["map-layers",
"layer-views","view-layers"]);this._compileList();h&&a.add([q.init(this,"view.map.layers",function(a){return b._createMapLayerHandles(a)}),q.init(this,"view.layerViews",function(a){return b._createLayerViewHandles(a)}),q.init(this,"listItemCreatedFunction",function(){return b._compileList()})],"view-layers")};a([e.property()],b.prototype,"listItemCreatedFunction",void 0);a([e.property({type:x})],b.prototype,"operationalItems",void 0);a([e.property({dependsOn:["view.ready"],readOnly:!0})],b.prototype,
"state",null);a([e.property()],b.prototype,"view",void 0);a([e.property()],b.prototype,"triggerAction",null);return b=a([e.subclass("esri.widgets.LayerList.LayerListViewModel")],b)}(e.declared(p,t))})},"esri/widgets/LayerList/ListItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Collection ../../core/compilerUtils ../../core/Handles ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/Sublayer ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionSlider ../../support/actions/ActionToggle ./ListItemPanel ./support/layerListUtils".split(" "),
function(v,u,r,a,p,f,t,n,q,e,k,w,x,h,b,l,z,y){v=f.ofType({key:"type",defaultKeyValue:"button",base:x,typeMap:{button:h,toggle:l,slider:b}});var g=f.ofType(v);return function(b){function c(c){c=b.call(this)||this;c._handles=new n;c._layerViewPromise=null;c.actionsSections=new g;c.actionsOpen=!1;c.children=new (f.ofType(h));c.error=null;c.layer=null;c.layerView=null;c.open=!1;c.panel=null;c.parent=null;c.view=null;c.visible=null;return c}r(c,b);h=c;c.prototype.initialize=function(){var b=this;this._handles.add([e.init(this,
"layer",function(c){return b._watchLayerProperties(c)}),e.init(this,"view",function(c){return b._updateChildren(c)}),e.init(this,"panel",function(c){return b._setListItemOnPanel(c)}),e.init(this,["layer","view"],function(){return b._getLayerView()})])};c.prototype.destroy=function(){this._layerViewPromise=null;this._handles.destroy();this.view=this._handles=null};c.prototype.castPanel=function(b){this.get("panel.open")&&!b.hasOwnProperty("open")&&(b.open=!0);return b?new z(b):null};Object.defineProperty(c.prototype,
"title",{get:function(){var b=this.get("layer.layer");return(!b||b&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(b){void 0===b?this._clearOverride("title"):this._override("title",b)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"updating",{get:function(){var b=this.layerView;return b?b.updating:this._isLayerUpdating(this.layer)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"visibleAtCurrentScale",{get:function(){return!y.isLayerOutsideScaleRange(this.layer,
this.get("view.scale"))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"visibilityMode",{get:function(){return y.findLayerVisibilityMode(this.layer)},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new h({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})};c.prototype._setListItemOnPanel=function(b){b&&
(b.listItem=this)};c.prototype._updateChildren=function(b){var c=this.children;c&&c.forEach(function(c){return c.view=b})};c.prototype._addChildren=function(b){var c=this;this.children.removeAll();if(b){this._handles.remove("child-list-mode");b.forEach(function(a){c._handles.add(e.watch(a,"listMode",function(){return c._addChildren(b)}),"child-list-mode")});var a=[];b.filter(function(b){return"hide"!==y.findLayerListMode(b)}).forEach(function(b){y.canDisplayLayer(b)&&(b=new h({layer:b,parent:c,view:c.view}),
a.unshift(b))});this.children.addMany(a)}};c.prototype._watchSublayerChanges=function(b){var c=this;b&&this._handles.add(b.on("change",function(){c._addChildren(b)}),"layer")};c.prototype._initializeChildLayers=function(b){this._addChildren(b);this._watchSublayerChanges(b)};c.prototype._watchLayerProperties=function(b){var c=this;if(this._handles&&(this._handles.remove("layer"),b)){var a=y.getNormalizedChildLayerProperty(b);a&&this._handles.add(e.init(b,a,function(){b.hasOwnProperty(a)&&c._initializeChildLayers(b[a])}),
"layer")}};c.prototype._getLayerView=function(){var b=this,c=this.layer,a=this.view;if(c&&a){var h=this._layerViewPromise=t.typeCast(a)().whenLayerView(c);h.then(function(c){h===b._layerViewPromise&&(b._layerViewPromise=null,b._set("layerView",c))}).catch(function(){h===b._layerViewPromise&&(b._layerViewPromise=null)})}};c.prototype._isLayerUpdating=function(b){return b instanceof w?!1:b&&"loading"===b.loadStatus};var h;a([k.property({type:g})],c.prototype,"actionsSections",void 0);a([k.property()],
c.prototype,"actionsOpen",void 0);a([k.property({type:f})],c.prototype,"children",void 0);a([k.aliasOf("layer.loadError?")],c.prototype,"error",void 0);a([k.property()],c.prototype,"layer",void 0);a([k.property({readOnly:!0})],c.prototype,"layerView",void 0);a([k.property()],c.prototype,"open",void 0);a([k.property({type:z})],c.prototype,"panel",void 0);a([k.cast("panel")],c.prototype,"castPanel",null);a([k.property()],c.prototype,"parent",void 0);a([k.property({dependsOn:["layer.layer?.loaded","layer.title"]})],
c.prototype,"title",null);a([k.property({dependsOn:["layer.loadStatus?","layerView.updating"],readOnly:!0})],c.prototype,"updating",null);a([k.property({value:null})],c.prototype,"view",void 0);a([k.aliasOf("layer.visible")],c.prototype,"visible",void 0);a([k.property({dependsOn:["layer.minScale?","layer.maxScale?","view.scale"],readOnly:!0})],c.prototype,"visibleAtCurrentScale",null);a([k.property({dependsOn:["layer.visibilityMode?","layer.capabilities?.exportMap?.supportsSublayerVisibility","layer.layer?.capabilities?.exportMap?.supportsSublayerVisibility"],
readOnly:!0})],c.prototype,"visibilityMode",null);return c=h=a([k.subclass("esri.widgets.LayerList.ListItem")],c)}(k.declared(p,q.Identifiable))})},"esri/support/actions/ActionSlider":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(v,u,r,a,p,f){return function(f){function n(a){a=f.call(this)||this;a.displayValueEnabled=!1;a.max=1;a.min=0;a.step=.1;a.type="slider";
a.value=null;return a}r(n,f);q=n;n.prototype.clone=function(){return new q({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})};var q;a([p.property()],n.prototype,"displayValueEnabled",void 0);a([p.property()],n.prototype,"max",void 0);a([p.property()],n.prototype,"min",void 0);a([p.property()],n.prototype,
"step",void 0);a([p.property()],n.prototype,"value",void 0);return n=q=a([p.subclass("esri.support.Action.ActionSlider")],n)}(p.declared(f))})},"esri/widgets/LayerList/ListItemPanel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/Identifiable ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../Widget ../support/widget".split(" "),function(v,u,r,a,p,f,t,n,q,e,k){return function(f){function e(a){a=
f.call(this)||this;a._legend=null;a._handles=new p;a.content=null;a.image=null;a.listItem=null;a.open=!1;a.visible=!0;return a}r(e,f);e.prototype.postInitialize=function(){var a=this;this.own([n.init(this,"content",function(b){return a._createLegend(b)})])};e.prototype.destroy=function(){var a=this._legend;a&&a.destroy();this._legend=null};Object.defineProperty(e.prototype,"className",{get:function(){var a=this.image,b=this._getFirstWidget();return this._get("className")||!a&&b?b.iconClass:""},set:function(a){void 0===
a?this._clearOverride("className"):this._override("className",a)},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"title",{get:function(){var a=this._getFirstWidget();return this._get("title")||a?a.label:""},set:function(a){void 0===a?this._clearOverride("title"):this._override("title",a)},enumerable:!0,configurable:!0});e.prototype.render=function(){return k.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())};e.prototype._renderContent=function(a,b){b=this._legend;
var e=this.listItem;return a?"legend"===a?e&&e.view&&e.layer&&b?k.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--legend"),key:b},b.render()):null:"string"===typeof a?k.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--string"),key:a,innerHTML:a}):k.isWidget(a)?k.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--widget"),key:a},a.render()):a instanceof HTMLElement?
k.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--html-element"),key:a,bind:a,afterCreate:this._attachToNode}):null:null};e.prototype._renderContents=function(){var a=this,b=this.content;return Array.isArray(b)?b.map(function(b,e){return a._renderContent(b,e)}):this._renderContent(b,0)};e.prototype._getLegendOptions=function(a){if(a){var b=a.layer;a=a.view;if(b&&a)return{view:a,layerInfos:[{layer:b,title:""}]}}};e.prototype._createLegend=function(a){var b=
this;this._hasLegend(a)&&!this._legend&&t.create(function(b){v(["../Legend"],b)}).then(function(a){var e=b._handles,f=new a(b._getLegendOptions(b.listItem));b._legend=f;b.notifyChange("className");b.notifyChange("title");a=n.init(b,["listItem.view","listItem.layer"],function(){return b._updateLegend(f)});e.add(a,"legends");b.scheduleRender()})};e.prototype._hasLegend=function(a){return"legend"===a?!0:Array.isArray(a)?a.some(function(b){return"legend"===b}):!1};e.prototype._attachToNode=function(a){a.appendChild(this)};
e.prototype._updateLegend=function(a){var b=this.listItem;if(b){var e=b.layer;a.view=b.view;a.layerInfos=[{layer:e,title:null}];this.scheduleRender()}};e.prototype._getWidget=function(a){return"legend"===a?this._legend:k.isWidget(a)?a:null};e.prototype._getFirstWidget=function(){var a=this,b=this.content;if(Array.isArray(b)){var e=null;b.some(function(b){(b=a._getWidget(b))&&(e=b);return!!b});return e}return this._getWidget(b)};a([q.property({dependsOn:["content","image"]})],e.prototype,"className",
null);a([q.property(),k.renderable()],e.prototype,"content",void 0);a([q.property()],e.prototype,"image",void 0);a([q.property()],e.prototype,"listItem",void 0);a([q.property({dependsOn:["content"]})],e.prototype,"title",null);a([q.property(),k.renderable()],e.prototype,"open",void 0);a([q.property()],e.prototype,"visible",void 0);return e=a([q.subclass("esri.widgets.LayerList.ListItemPanel")],e)}(q.declared(e,f.Identifiable))})},"esri/widgets/LayerList/support/layerListUtils":function(){define(["require",
"exports"],function(v,u){function r(a){if(a)return a.hasOwnProperty("listMode")?a.listMode:void 0}function a(a){if(a)return a.hasOwnProperty("minScale")?a.minScale:void 0}function p(a){if(a)return a.hasOwnProperty("maxScale")?a.maxScale:void 0}Object.defineProperty(u,"__esModule",{value:!0});u.findLayerListMode=r;u.findLayerMinScale=a;u.findLayerMaxScale=p;u.findLayerVisibilityMode=function(a){if(!a)return"inherited";var f=a.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"===
typeof f)return f?"independent":"inherited";f=a.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"===typeof f?f?"independent":"inherited":a.hasOwnProperty("visibilityMode")?a.visibilityMode:"independent"};u.getNormalizedChildLayerProperty=function(a){if(a&&"hide-children"!==a.listMode&&"wmts"!==a.type)return"group"===a.type?"layers":"sublayers"};u.canDisplayLayer=function(a){return"hide"!==r(a)};u.isLayerOutsideScaleRange=function(f,t){if(!f||isNaN(t))return!1;var n=a(f);f=p(f);
n=!isNaN(n)&&0<n&&t>=n;t=!isNaN(f)&&0<f&&t<=f;return n||t}})},"widgets/LayerList/LayerItem":function(){define("dojo/_base/html dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./LayerItem.html dojo/_base/lang jimu/dijit/CheckBox".split(" "),function(v,u,r,a,p,f,t){return u([r,a,p],{templateString:f,sceneView:null,layer:null,baseClass:"jimu-widget-layeritem",nls:null,postCreate:function(){this.inherited(arguments);this.cbx.onChange=t.hitch(this,this._onCbxChanged);
this.own(this.layer.watch("title",t.hitch(this,function(){this._updateTitleUI()})));this.own(this.layer.watch("visible",t.hitch(this,function(){this._updateVisibilityUI()})));this.layer.when(t.hitch(this,function(){this.domNode&&(this._updateTitleUI(),this._updateVisibilityUI())}),t.hitch(this,function(a){console.error(a);this.domNode&&v.addClass(this.domNode,"not-loaded")}));this._updateTitleUI()},_onClickSelf:function(a){a=a.target;a===this.cbx.domNode||v.isDescendant(a,this.cbx.domNode)||this.cbx.setValue(!this.cbx.getValue())},
_updateTitleUI:function(){this.cbx.setLabel(this.layer.title||this.layer.name||this.layer.mapName||"")},_updateVisibilityUI:function(){var a=this.layer.get("visible");a!==this.cbx.getValue()&&this.cbx.setValue(a);this.domNode.title=a?this.nls.hide:this.nls.show},_onCbxChanged:function(){this.cbx.getValue()!==this.layer.get("visible")&&this.layer.set("visible",this.cbx.getValue())},_onBtnZoomClicked:function(a){a.stopPropagation();if(a=this.layer.extent||this.layer.fullExtent)a=a.expand(1.2),this.sceneView.goTo(a)},
destroy:function(){this.layer=this.sceneView=null;this.inherited(arguments)}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(v,u,r,a,p){return r("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var f=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=
!0);p.parse(f,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(a.hitch(this,function(a){this._startupWidgets=a;for(var f=0;f<a.length;f++)this._processTemplateNode(a[f],function(a,e){return a[e]},function(a,e,f){return e in a?a.connect(a,e,f):a.on(e,f,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+
": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(a,p,n){return p(a,"dojoType")||p(a,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){v.forEach(this._startupWidgets,function(a){a&&!a._started&&a.startup&&a.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"jimu/dijit/CheckBox":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/_base/html dojo/dom-class dojo/on dojo/Evented dojo/keys".split(" "),
function(v,u,r,a,p,f,t,n){return v([u,t],{baseClass:"jimu-checkbox",declaredClass:"jimu.dijit.CheckBox",checked:!1,status:!0,label:"",postCreate:function(){this.checkNode=a.create("div",{"class":"checkbox jimu-float-leading"},this.domNode);this.labelNode=a.create("div",{"class":"label jimu-float-leading",innerHTML:this.label||""},this.domNode);this.checked&&a.addClass(this.checkNode,"checked");this.status||a.addClass(this.domNode,"jimu-state-disabled");this.own(f(this.checkNode,"click",r.hitch(this,
function(){this.status&&(this.checked?this.uncheck():this.check())})));this.own(f(this.labelNode,"click",r.hitch(this,function(){this.checked&&this.status?this.uncheck():this.status&&this.check()})));this._udpateLabelClass();this._initSection508()},setLabel:function(a){this.label=a||"";this.labelNode.innerHTML=this.label;this._udpateLabelClass()},getLabel:function(){return this.label||""},_udpateLabelClass:function(){this.labelNode&&(this.labelNode.innerHTML?a.removeClass(this.labelNode,"not-visible"):
a.addClass(this.labelNode,"not-visible"))},_initSection508:function(){"undefined"!==typeof this.tabindex&&(a.setAttr(this.checkNode,"tabindex",this.tabindex),this.own(f(this.checkNode,"focus",r.hitch(this,function(){a.addClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(f(this.checkNode,"blur",r.hitch(this,function(){a.removeClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(f(this.checkNode,"keypress",r.hitch(this,function(f){f=f.charCode||f.keyCode;a.hasClass(this.checkNode,"dijitCheckBoxFocused")&&
n.SPACE===f&&this.status&&(this.checked?this.uncheck():this.check())}))))},setValue:function(a){this.status&&(!0===a?this.check():this.uncheck())},getValue:function(){return this.checked},setStatus:function(a){a=!!a;var e=this.status!==a;(this.status=a)?p.remove(this.domNode,"jimu-state-disabled"):p.add(this.domNode,"jimu-state-disabled");e&&this.emit("status-change",a)},getStatus:function(){return this.status},check:function(){this.status&&(this.checked=!0,a.addClass(this.checkNode,"checked"),this.onStateChange())},
uncheck:function(f){if(this.status&&(this.checked=!1,a.removeClass(this.checkNode,"checked"),!f))this.onStateChange()},onStateChange:function(){if(this.onChange&&r.isFunction(this.onChange))this.onChange(this.checked);this.emit("change",this.checked)},focus:function(){this.checkNode&&this.checkNode.focus&&this.checkNode.focus()}})})},"widgets/LayerList/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/LayerList/LayerItem.html":'\x3cdiv data-dojo-attach-event\x3d"click:_onClickSelf"\x3e\r\n\t\x3ctable class\x3d"layeritem-table"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"50"\x3e\x3c/col\x3e\r\n\t    \x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"cbx" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esri-icon-zoom-out-fixed jimu-float-trailing" title\x3d"${nls.fullExtentTip}" data-dojo-attach-event\x3d"onclick:_onBtnZoomClicked"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/Widget.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"dijit-container" data-dojo-attach-point\x3d"dijitDiv"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"elevation-layers-container" data-dojo-attach-point\x3d"elevationLayersContainer"\x3e\r\n    \x3cdiv class\x3d"ground-tip hidden" data-dojo-attach-point\x3d"groundTip"\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv\x3e\r\n        \x3cspan\x3e${nls.ground}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/css/style.css":'.jimu-widget-layerlist{}.jimu-widget-layerlist .dijit-container{width: 100%;}.jimu-widget-layerlist .hidden{display: none !important;}.jimu-widget-layerlist .esri-layer-list__list--root{overflow-x: hidden; padding-bottom: 40px;}.jimu-widget-layerlist .esri-layer-list{max-height: initial; background: transparent; padding: 0;}.jimu-widget-layerlist .esri-layer-list__item{background: inherit; max-height: 100%; overflow: visible; padding: 0; margin-left: 15px;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item{margin-left: 0; margin-right: 15px;}.jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{position: absolute; right: -5px; width: 200px; top: 30px; z-index: 2;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{left: -5px; right: auto;}.jimu-widget-layerlist .esri-layer-list__item.esri-layer-list__item--has-children{margin-left: 0; margin-right: 0;}.jimu-widget-layerlist .esri-layer-list__list--root \x3e .esri-layer-list__item{margin-left: 0 !important; margin-right: 0 !important;}.jimu-widget-layerlist .esri-layer-list__item:before{display: none;}.jimu-widget-layerlist .esri-layer-list__item:after{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container .esri-icon-zoom-out-fixed{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .esri-layer-list__item-container{padding: 9px 0; border-bottom: none;}.jimu-widget-layerlist .dijit-container \x3e ul.esri-layer-list__list--root \x3e .esri-layer-list__item:first-child{}.jimu-widget-layerlist .esri-layer-list__item-toggle{width: 16px; height: 16px;}.jimu-widget-layerlist .esri-icon-visible{display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checked_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-visible:before{content: "";}.jimu-widget-layerlist .esri-icon-non-visible{display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checkbox_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-non-visible:before{content: "";}.jimu-widget-layerlist .jimu-widget-layeritem{cursor: pointer;}.jimu-widget-layerlist .jimu-widget-layeritem.not-loaded{display: none;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table{width: 100%; table-layout: fixed; border-collapse: collapse;}.jimu-widget-layerlist .jimu-widget-layeritem .esri-icon-zoom-out-fixed{font-size: 14px; cursor: pointer; display: none;}.jimu-widget-layerlist .jimu-widget-layeritem:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table td{padding: 5px 0;}.jimu-widget-layerlist .jimu-widget-layeritem .jimu-checkbox .label{cursor: pointer;}.jimu-widget-layerlist .elevation-layers-container{position: relative; top: -30px;}.jimu-widget-layerlist .ground-tip{position: relative; height: 24px; margin-top: 5px;}.jimu-widget-layerlist .ground-tip \x3e *{position: absolute; width: 100%;}.jimu-widget-layerlist .ground-tip \x3e div{text-align: center;}.jimu-widget-layerlist .ground-tip span{display: inline-block; max-width: 90%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; background-color: white; padding: 0 4px;}html[dir\x3d"rtl"] .jimu-widget-layerlist .esri-layer-list__child-toggle.esri-layer-list__child-toggle--open \x3e .esri-layer-list__child-toggle-icon--closed-rtl.esri-icon-left-triangle-arrow{display: none;}',
"*now":function(v){v(['dojo/i18n!*preload*widgets/LayerList/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","vi","uk","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/on dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/html jimu/BaseWidget esri/widgets/LayerList dojo/i18n!esri/nls/common ./LayerItem".split(" "),function(v,u,r,a,p,f,t,n,q){return r([f],{name:"LayerList",baseClass:"jimu-widget-layerlist",_elevationLayerItems:null,postCreate:function(){this.inherited(arguments);this._elevationLayerItems=[];this.nls.hide=n.visibility.hide;this.nls.show=n.visibility.show;this.layerList=new t({view:this.sceneView,container:this.dijitDiv,listItemCreatedFunction:a.hitch(this,
this._defineActions)});this.own(this.layerList.on("trigger-action",a.hitch(this,this._onTriggerAction)));this.own(v(this.sceneView.map.ground.layers,"change",a.hitch(this,this._updateElevationLayers)));this.own(v(this.sceneView.map.allLayers,"change",a.hitch(this,this._updateGroudTip)));this._updateElevationLayers()},onOpen:function(){this._updateGroudTip()},_updateGroudTip:function(){setTimeout(a.hitch(this,function(){10<this.dijitDiv.clientHeight?p.removeClass(this.groundTip,"hidden"):p.addClass(this.groundTip,
"hidden")}),1E3)},_updateElevationLayers:function(){this._destroyAllElevationLayerItems();for(var a=this.sceneView.map.ground.layers,f=0,n=a.get("length")-1;0<=n;n--){var q=a.getItemAt(n);"hide"!==q.listMode&&(this._addElevationLayerItem(q),f++)}0===f?p.addClass(this.elevationLayersContainer,"hidden"):p.removeClass(this.elevationLayersContainer,"hidden")},_addElevationLayerItem:function(a){a=new q({layer:a,sceneView:this.sceneView,nls:this.nls});this._elevationLayerItems.push(a);a.placeAt(this.elevationLayersContainer)},
_destroyAllElevationLayerItems:function(){u.forEach(this._elevationLayerItems,a.hitch(this,function(a){a.destroy()}));this._elevationLayerItems=[]},_createActionsFunction:function(a){var e=[];a.item.layer&&(e=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]);return e},_defineActions:function(a){a=a.item;a.layer.title?a.actionsSections=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]:(this.layerList.operationalItems.remove(a),
a.destroy())},_onTriggerAction:function(a){var e=a.item.layer;if(e)switch(a.action.id){case "full-extent":(a=e.fullExtent||e.extent)&&this.sceneView.goTo(a)}},destroy:function(){this.layerList&&(this.layerList.destroy(),this.layerList=null);this._destroyAllElevationLayerItems();this.inherited(arguments)}})});