// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/widgets/LayerList":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/i18n!../nls/common dojo/i18n!./LayerList/nls/LayerList ../core/Handles ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./LayerList/LayerListViewModel ./support/widget".split(" "),function(r,t,n,a,p,d,q,h,f,g,k,l){function w(a){var b=a.children;a.actionsOpen&&(a.actionsOpen=!1);b.forEach(function(c){return w(c)})}return function(m){function b(c){c=
m.call(this)||this;c._handles=new q;c.iconClass="esri-icon-layers";c.statusIndicatorsVisible=!0;c.label=d.widgetLabel;c.listItemCreatedFunction=null;c.operationalItems=null;c.view=null;c.viewModel=new k;return c}n(b,m);b.prototype.postInitialize=function(){var c=this,e=this.operationalItems;this.own(h.on(this,"operationalItems","change",function(){return c._itemsChanged(e)}))};b.prototype.destroy=function(){this._handles.destroy();this._handles=null};b.prototype.triggerAction=function(c,e){};b.prototype.render=
function(){var c=this,e,b=this._getItems(),a=this.get("viewModel.state"),b=0===b.length?l.tsx("div",{class:"esri-layer-list__no-items"},d.noItemsToDisplay):l.tsx("ul",{class:this.classes("esri-layer-list__list","esri-layer-list__list--root","esri-layer-list__list--independent")},b.map(function(e,b){return c._renderItem(e,null)})),a=(e={},e["esri-hidden"]="loading"===a,e["esri-disabled"]="disabled"===a,e);return l.tsx("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",a)},b)};
b.prototype._getItems=function(){var c=this;return this.operationalItems.toArray().filter(function(e){return c.errorsVisible||!e.error})};b.prototype._getSingleActionButton=function(c){return c.actionsSections.reduce(function(c){return c}).filter(function(c){return c&&"button"===c.type}).getItemAt(0)};b.prototype._renderItem=function(c,e){var b=this,a,m,y,f,v=this.id+"_"+c.uid,g=v+"_actions",h=v+"__list",v=v+"__title",k=!!c.children.length,q=!!c.error,w=q?d.layerError:"",n=c.visibilityMode,r=c.children&&
c.children.toArray(),t=(a={},a["esri-layer-list__list--exclusive"]="exclusive"===n,a["esri-layer-list__list--inherited"]="inherited"===n,a["esri-layer-list__list--independent"]="inherited"!==n&&"exclusive"!==n,a);a=(m={},m["esri-layer-list__item--has-children"]=k,m["esri-layer-list__item--error"]=!!w,m["esri-layer-list__item--updating"]=c.updating&&!e&&this.statusIndicatorsVisible,m["esri-layer-list__item--invisible-at-scale"]=!c.visibleAtCurrentScale,m);var z=this._countActions(c.actionsSections),
x=c.panel;m=x&&x.open?x.render():null;var x=x&&x.visible?this._renderPanelButton(x):null,A=(y={},y["esri-layer-list__item-actions-menu-item--active"]=c.actionsOpen,y),D=c.actionsOpen?p.close:p.open,B=1===z&&this._getSingleActionButton(c);y=B?this._renderAction({item:c,action:B,singleAction:!0}):null;y=(A=!B&&z?l.tsx("div",{key:"actions-menu-toggle","data-item":c,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes("esri-layer-list__item-actions-menu-item",
A),tabindex:"0",role:"button","aria-controls":g,"aria-label":D,title:D},l.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null)||x||y?l.tsx("div",{key:"esri-layer-list__actions-menu",class:"esri-layer-list__item-actions-menu"},x,y,A):null;g=z?this._renderActionsSections(c,c.actionsSections,g):null;n=k?l.tsx("ul",{key:"esri-layer-list__list-items",id:h,class:this.classes("esri-layer-list__list",t),"aria-expanded":c.open?"true":"false",role:"exclusive"===n?"radiogroup":"group",
hidden:c.open?null:!0},r.map(function(e){return b._renderItem(e,c)})):null;r=(f={},f["esri-layer-list__child-toggle--open"]=c.open,f);f=c.open?p.collapse:p.expand;h=k?l.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":c,key:"esri-layer-list__toggle-children",class:this.classes("esri-layer-list__child-toggle",r),tabindex:"0",role:"button","aria-controls":h,"aria-label":f,title:f},l.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed",
"esri-icon-right-triangle-arrow")}),l.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),l.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null;e=this._createLabelNode(c,e,v);q=q?l.tsx("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-error-message",role:"alert"},l.tsx("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}),
l.tsx("span",null,w)):null;return l.tsx("li",{key:c,class:this.classes("esri-layer-list__item",a),"aria-labelledby":v},l.tsx("div",{key:"esri-layer-list__list-item-container",class:"esri-layer-list__item-container"},h,e,y),q,g,m,n)};b.prototype._createLabelNode=function(c,e,b){var a;e=e&&e.visibilityMode;var m=(a={},a["esri-icon-radio-checked"]="exclusive"===e&&c.visible,a["esri-icon-radio-unchecked"]="exclusive"===e&&!c.visible,a["esri-icon-visible"]="exclusive"!==e&&c.visible,a["esri-icon-non-visible"]=
"exclusive"!==e&&!c.visible,a);a="exclusive"===e?"radio":"checkbox";var u=c.title||d.untitledLayer,f=c.visibleAtCurrentScale?u:u+" ("+d.layerInvisibleAtScale+")",u=l.tsx("span",{id:b,title:f,"aria-label":f,class:"esri-layer-list__item-title"},u);return"inherited"===e?l.tsx("div",{key:c,class:"esri-layer-list__item-label"},u):l.tsx("div",{key:c,onclick:this._labelClick,onkeydown:this._labelClick,"data-item":c,"data-parent-visibility":e,tabindex:"0","aria-checked":c.visible?"true":"false",role:a,"aria-labelledby":b,
class:"esri-layer-list__item-label"},l.tsx("span",{class:"esri-layer-list__item-toggle"},l.tsx("span",{class:this.classes("esri-layer-list__item-toggle-icon",m),"aria-hidden":"true"})),u)};b.prototype._renderPanelButton=function(c){var e,b,a=c.className,m=c.open,d=c.title,a=c.image||a?a:"esri-icon-default-action",f=this._getIconImageStyles(c),m=(e={},e["esri-layer-list__item-actions-menu-item--active"]=m,e);e=(b={},b["esri-layer-list__item-action-image"]=!!f["background-image"],b);a&&(e[a]=!!a);return l.tsx("div",
{key:c,bind:this,"data-panel":c,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes("esri-layer-list__item-actions-menu-item",m),role:"button",tabindex:"0",title:d,"aria-label":d},l.tsx("span",{class:this.classes(e),styles:f}))};b.prototype._watchActionSectionChanges=function(c,e){var b=this,a="action-section"+e;this._handles.add(c.on("change",this.scheduleRender.bind(this)),a);c.forEach(function(c){return b._renderOnActionChanges(c,e)})};b.prototype._renderOnActionChanges=
function(c,e){var b=this;e="actions"+e;"toggle"===c.type?this._handles.add([h.init(c,"className image id title visible value".split(" "),function(){return b.scheduleRender()})],e):"slider"===c.type?this._handles.add([h.init(c,"className id title visible value displayValueEnabled max min step".split(" "),function(){return b.scheduleRender()})],e):this._handles.add([h.init(c,["className","image","id","title","visible"],function(){return b.scheduleRender()})],e)};b.prototype._renderOnItemChanges=function(c){var e=
this,b=c.uid,a="items"+b;this._handles.add([h.init(c,"actionsOpen visible open updating title visibleAtCurrentScale error visibilityMode panel panel.title panel.content panel.className".split(" "),function(){return e.scheduleRender()}),c.actionsSections.on("change",function(){return e.scheduleRender()}),c.children.on("change",function(){return e.scheduleRender()})],a);c.children.forEach(function(c){return e._renderOnItemChanges(c)});c.actionsSections.forEach(function(c){return e._watchActionSectionChanges(c,
b)})};b.prototype._itemsChanged=function(c){var b=this;this._handles.removeAll();c.forEach(function(c){return b._renderOnItemChanges(c)});this.scheduleRender()};b.prototype._renderActionsSections=function(c,b,a){var e=this;b=b.toArray().map(function(b){return l.tsx("ul",{key:b,class:"esri-layer-list__item-actions-list"},e._renderActionSection(c,b))});return l.tsx("div",{role:"group","aria-expanded":c.actionsOpen?"true":"false",key:"esri-layer-list__actions-section",id:a,class:"esri-layer-list__item-actions",
hidden:c.actionsOpen?null:!0},b)};b.prototype._renderActionSection=function(c,b){var e=this;return(b&&b.toArray()).map(function(b){return e._renderAction({item:c,action:b})})};b.prototype._renderAction=function(c){var b,a,m=c.item,d=c.action;c=c.singleAction;var f=this._getIconImageStyles(d),g=d.active,v=d.className,h=d.disabled,k=d.title,v="button"!==d.type||d.image||v?v:"esri-icon-default-action",h=(b={},b["esri-layer-list__item-actions-menu-item"]=c&&"button"===d.type,b["esri-layer-list__item-action"]=
!c&&"toggle"!==d.type,b["esri-layer-list__action-toggle"]="toggle"===d.type,b["esri-layer-list__action-toggle--on"]="toggle"===d.type&&d.value,b["esri-disabled-element"]=h,b);b=(a={},a["esri-layer-list__item-action-image"]=!g&&!!f["background-image"],a["esri-icon-loading-indicator"]=g,a["esri-rotating"]=g,a);v&&(b[v]=!0);a=l.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",b),styles:f});b=c?null:l.tsx("span",{class:"esri-layer-list__item-action-title"},k);a=
[a,b];return c?l.tsx("div",{bind:this,"data-item":m,"data-action":d,role:"button",key:d,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:h,tabindex:"0",title:k,"aria-label":k},a):l.tsx("li",{bind:this,"data-item":m,"data-action":d,key:d,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:h,tabindex:"0",role:"button",title:k,"aria-label":k},a)};b.prototype._countActions=function(c){return c.reduce(function(c,b){return c+b.length},0)};b.prototype._getIconImageStyles=function(c){c=
c.declaredClass=c.image;return{"background-image":c?'url("'+c+'")':null}};b.prototype._toggleActionsOpen=function(c){c=c.currentTarget["data-item"];var b=!c.actionsOpen;b&&this.operationalItems.forEach(function(c){return w(c)});c.actionsOpen=b};b.prototype._triggerPanel=function(c){if(c=c.currentTarget["data-panel"])c.open=!c.open};b.prototype._triggerAction=function(c){var b=c.currentTarget;c=b["data-action"];b=b["data-item"];"toggle"===c.type&&(c.value=!c.value);this.triggerAction(c,b)};b.prototype._labelClick=
function(c){var b=c.currentTarget;c=b.getAttribute("data-parent-visibility");b=b["data-item"];"exclusive"===c&&b.visible||(b.visible=!b.visible)};b.prototype._toggleChildrenClick=function(c){c=c.currentTarget["data-item"];c.open=!c.open};a([f.property()],b.prototype,"iconClass",void 0);a([f.property(),l.renderable()],b.prototype,"statusIndicatorsVisible",void 0);a([f.property(),l.renderable()],b.prototype,"errorsVisible",void 0);a([f.property()],b.prototype,"label",void 0);a([f.aliasOf("viewModel.listItemCreatedFunction"),
l.renderable()],b.prototype,"listItemCreatedFunction",void 0);a([f.aliasOf("viewModel.operationalItems"),l.renderable()],b.prototype,"operationalItems",void 0);a([f.aliasOf("viewModel.view"),l.renderable()],b.prototype,"view",void 0);a([l.vmEvent("trigger-action"),f.property({type:k}),l.renderable("viewModel.state")],b.prototype,"viewModel",void 0);a([f.aliasOf("viewModel.triggerAction")],b.prototype,"triggerAction",null);a([l.accessibleHandler()],b.prototype,"_toggleActionsOpen",null);a([l.accessibleHandler()],
b.prototype,"_triggerPanel",null);a([l.accessibleHandler()],b.prototype,"_triggerAction",null);a([l.accessibleHandler()],b.prototype,"_labelClick",null);a([l.accessibleHandler()],b.prototype,"_toggleChildrenClick",null);return b=a([f.subclass("esri.widgets.LayerList")],b)}(f.declared(g))})},"esri/widgets/LayerList/LayerListViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Collection ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/accessorSupport/decorators ./ListItem ./support/layerListUtils".split(" "),
function(r,t,n,a,p,d,q,h,f,g,k,l){var w=d.ofType(k);return function(d){function b(c){c=d.call(this)||this;c._handles=new h;c.listItemCreatedFunction=null;c.operationalItems=new w;c.view=null;return c}n(b,d);b.prototype.initialize=function(){var c=this;this._handles.add(f.init(this,"view",function(){return c._viewHandles()}),"view")};b.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null;this.operationalItems.removeAll()};Object.defineProperty(b.prototype,"state",{get:function(){var c=
this.get("view");return this.get("view.ready")?"ready":c?"loading":"disabled"},enumerable:!0,configurable:!0});b.prototype.triggerAction=function(c,b){c&&this.emit("trigger-action",{action:c,item:b})};b.prototype._createLayerViewHandles=function(c){var b=this,a=this._handles;a.remove("layer-views");this._compileList();c&&a.add(c.on("change",function(){return b._compileList()}),"layer-views")};b.prototype._createMapLayerHandles=function(c){var b=this,a=this._handles;a.remove("map-layers");this._compileList();
c&&a.add(c.on("change",function(){return b._compileList()}),"map-layers")};b.prototype._watchItemProperties=function(c){var b=this;this._handles.add([c.children.on("change",function(){b._modifyListItemChildren(c.children)})],"children-change-"+c.uid)};b.prototype._modifyListItemChildren=function(c){var b=this;c.forEach(function(c){return b._modifyListItem(c)})};b.prototype._modifyListItem=function(c){"function"===typeof this.listItemCreatedFunction&&this.listItemCreatedFunction.call(null,{item:c});
this._modifyListItemChildren(c.children)};b.prototype._createListItem=function(c){c=new k({layer:c,view:this.view});this._watchItemProperties(c);return c};b.prototype._removeAllItems=function(){var c=this._handles,b=this.operationalItems;b.forEach(function(b){c.remove("children-change-"+b.uid)});b.removeAll()};b.prototype._getViewableLayers=function(c){if(c)return c.filter(function(c){return"hide"!==l.findLayerListMode(c)})};b.prototype._watchLayersListMode=function(c){var b=this,a=this._handles;
a.remove("layer-list-mode");c&&c.forEach(function(c){a.add(f.watch(c,"listMode",function(){return b._compileList()}),"layer-list-mode")})};b.prototype._compileList=function(){var c=this.get("view.map.layers");this._watchLayersListMode(c);(c=this._getViewableLayers(c))&&c.length?(this._createNewItems(c),this._modifyOrRemoveItems(c),this._sortItems(c)):this._removeAllItems()};b.prototype._createNewItems=function(c){var b=this,a=this.operationalItems;c.forEach(function(c){a.find(function(b){return b.layer===
c})||a.add(b._createListItem(c))})};b.prototype._modifyOrRemoveItems=function(c){var b=this,a=this._handles,d=this.operationalItems;d.forEach(function(m){m&&(c.find(function(c){return m.layer===c})?b._modifyListItem(m):(a.remove("children-change-"+m.uid),d.remove(m)))})};b.prototype._sortItems=function(c){this.operationalItems.sort(function(b,a){b=c.indexOf(b.layer);a=c.indexOf(a.layer);return b>a?-1:b<a?1:0})};b.prototype._viewHandles=function(){var c=this,b=this._handles,a=this.view;b.remove(["map-layers",
"layer-views","view-layers"]);this._compileList();a&&b.add([f.init(this,"view.map.layers",function(b){return c._createMapLayerHandles(b)}),f.init(this,"view.layerViews",function(b){return c._createLayerViewHandles(b)}),f.init(this,"listItemCreatedFunction",function(){return c._compileList()})],"view-layers")};a([g.property()],b.prototype,"listItemCreatedFunction",void 0);a([g.property({type:w})],b.prototype,"operationalItems",void 0);a([g.property({dependsOn:["view.ready"],readOnly:!0})],b.prototype,
"state",null);a([g.property()],b.prototype,"view",void 0);a([g.property()],b.prototype,"triggerAction",null);return b=a([g.subclass("esri.widgets.LayerList.LayerListViewModel")],b)}(g.declared(p,q))})},"esri/widgets/LayerList/ListItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Collection ../../core/compilerUtils ../../core/Handles ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/Sublayer ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionSlider ../../support/actions/ActionToggle ./ListItemPanel ./support/layerListUtils".split(" "),
function(r,t,n,a,p,d,q,h,f,g,k,l,w,m,b,c,e,u){r=d.ofType({key:"type",defaultKeyValue:"button",base:w,typeMap:{button:m,toggle:c,slider:b}});var C=d.ofType(r);return function(c){function b(b){b=c.call(this)||this;b._handles=new h;b._layerViewPromise=null;b.actionsSections=new C;b.actionsOpen=!1;b.children=new (d.ofType(m));b.error=null;b.layer=null;b.layerView=null;b.open=!1;b.panel=null;b.parent=null;b.view=null;b.visible=null;return b}n(b,c);m=b;b.prototype.initialize=function(){var b=this;this._handles.add([g.init(this,
"layer",function(c){return b._watchLayerProperties(c)}),g.init(this,"view",function(c){return b._updateChildren(c)}),g.init(this,"panel",function(c){return b._setListItemOnPanel(c)}),g.init(this,["layer","view"],function(){return b._getLayerView()})])};b.prototype.destroy=function(){this._layerViewPromise&&this._layerViewPromise.cancel();this._layerViewPromise=null;this._handles.destroy();this.view=this._handles=null};b.prototype.castPanel=function(b){this.get("panel.open")&&!b.hasOwnProperty("open")&&
(b.open=!0);return b?new e(b):null};Object.defineProperty(b.prototype,"title",{get:function(){var b=this.get("layer.layer");return(!b||b&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(b){void 0===b?this._clearOverride("title"):this._override("title",b)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"updating",{get:function(){var b=this.layerView;return b?b.updating:this._isLayerUpdating(this.layer)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"visibleAtCurrentScale",{get:function(){return!u.isLayerOutsideScaleRange(this.layer,this.get("view.scale"))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visibilityMode",{get:function(){return u.findLayerVisibilityMode(this.layer)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new m({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,
view:this.view,visible:this.visible})};b.prototype._setListItemOnPanel=function(b){b&&(b.listItem=this)};b.prototype._updateChildren=function(b){var c=this.children;c&&c.forEach(function(c){return c.view=b})};b.prototype._addChildren=function(b){var c=this;this.children.removeAll();if(b){this._handles.remove("child-list-mode");b.forEach(function(a){c._handles.add(g.watch(a,"listMode",function(){return c._addChildren(b)}),"child-list-mode")});var a=[];b.filter(function(b){return"hide"!==u.findLayerListMode(b)}).forEach(function(b){u.canDisplayLayer(b)&&
(b=new m({layer:b,parent:c,view:c.view}),a.unshift(b))});this.children.addMany(a)}};b.prototype._watchSublayerChanges=function(b){var c=this;b&&this._handles.add(b.on("change",function(){c._addChildren(b)}),"layer")};b.prototype._initializeChildLayers=function(b){this._addChildren(b);this._watchSublayerChanges(b)};b.prototype._watchLayerProperties=function(b){var c=this;if(this._handles&&(this._handles.remove("layer"),b)){var a=u.getNormalizedChildLayerProperty(b);a&&this._handles.add(g.init(b,a,
function(){b.hasOwnProperty(a)&&c._initializeChildLayers(b[a])}),"layer")}};b.prototype._getLayerView=function(){var b=this,c=this.layer,a=this.view;if(c&&a){var m=this._layerViewPromise=q.typeCast(a)().whenLayerView(c);m.then(function(c){m===b._layerViewPromise&&(b._layerViewPromise=null,b._set("layerView",c))}).catch(function(c){m===b._layerViewPromise&&(b._layerViewPromise=null)})}};b.prototype._isLayerUpdating=function(b){return b instanceof l?!1:b&&"loading"===b.loadStatus};var m;a([k.property({type:C})],
b.prototype,"actionsSections",void 0);a([k.property()],b.prototype,"actionsOpen",void 0);a([k.property({type:d})],b.prototype,"children",void 0);a([k.aliasOf("layer.loadError?")],b.prototype,"error",void 0);a([k.property()],b.prototype,"layer",void 0);a([k.property({readOnly:!0})],b.prototype,"layerView",void 0);a([k.property()],b.prototype,"open",void 0);a([k.property({type:e})],b.prototype,"panel",void 0);a([k.cast("panel")],b.prototype,"castPanel",null);a([k.property()],b.prototype,"parent",void 0);
a([k.property({dependsOn:["layer.layer?.loaded","layer.title"]})],b.prototype,"title",null);a([k.property({dependsOn:["layer.loadStatus?","layerView.updating"],readOnly:!0})],b.prototype,"updating",null);a([k.property({value:null})],b.prototype,"view",void 0);a([k.aliasOf("layer.visible")],b.prototype,"visible",void 0);a([k.property({dependsOn:["layer.minScale?","layer.maxScale?","view.scale"],readOnly:!0})],b.prototype,"visibleAtCurrentScale",null);a([k.property({dependsOn:["layer.visibilityMode?",
"layer.capabilities?.exportMap?.supportsSublayerVisibility","layer.layer?.capabilities?.exportMap?.supportsSublayerVisibility"],readOnly:!0})],b.prototype,"visibilityMode",null);return b=m=a([k.subclass("esri.widgets.LayerList.ListItem")],b)}(k.declared(p,f.Identifiable))})},"esri/support/actions/ActionSlider":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(r,t,
n,a,p,d){return function(d){function h(a){a=d.call(this)||this;a.displayValueEnabled=!1;a.max=1;a.min=0;a.step=.1;a.type="slider";a.value=null;return a}n(h,d);f=h;h.prototype.clone=function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})};var f;a([p.property()],h.prototype,"displayValueEnabled",
void 0);a([p.property()],h.prototype,"max",void 0);a([p.property()],h.prototype,"min",void 0);a([p.property()],h.prototype,"step",void 0);a([p.property()],h.prototype,"value",void 0);return h=f=a([p.subclass("esri.support.Action.ActionSlider")],h)}(p.declared(d))})},"esri/widgets/LayerList/ListItemPanel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/Identifiable ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../Widget ../support/widget".split(" "),
function(r,t,n,a,p,d,q,h,f,g,k){return function(d){function g(a){a=d.call(this)||this;a._legend=null;a._handles=new p;a.content=null;a.image=null;a.listItem=null;a.open=!1;a.visible=!0;return a}n(g,d);g.prototype.postInitialize=function(){var a=this;this.own([h.init(this,"content",function(b){return a._createLegend(b)})])};g.prototype.destroy=function(){var a=this._legend;a&&a.destroy();this._legend=null};Object.defineProperty(g.prototype,"className",{get:function(){var a=this.image,b=this._getFirstWidget();
return this._get("className")||!a&&b?b.iconClass:""},set:function(a){void 0===a?this._clearOverride("className"):this._override("className",a)},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"title",{get:function(){var a=this._getFirstWidget();return this._get("title")||a?a.label:""},set:function(a){void 0===a?this._clearOverride("title"):this._override("title",a)},enumerable:!0,configurable:!0});g.prototype.render=function(){return k.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())};
g.prototype._renderContent=function(a,b){b=this._legend;var c=this.listItem;return a?"legend"===a?c&&c.view&&c.layer&&b?k.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--legend"),key:b},b.render()):null:"string"===typeof a?k.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--string"),key:a,innerHTML:a}):k.isWidget(a)?k.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--widget"),
key:a},a.render()):a instanceof HTMLElement?k.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--html-element"),key:a,bind:a,afterCreate:this._attachToNode}):null:null};g.prototype._renderContents=function(){var a=this,b=this.content;return Array.isArray(b)?b.map(function(b,d){return a._renderContent(b,d)}):this._renderContent(b,0)};g.prototype._getLegendOptions=function(a){if(a){var b=a.layer;a=a.view;if(b&&a)return{view:a,layerInfos:[{layer:b,title:""}]}}};
g.prototype._createLegend=function(a){var b=this;this._hasLegend(a)&&!this._legend&&q.create(function(b){r(["../Legend"],b)}).then(function(c){var a=b._handles,d=new c(b._getLegendOptions(b.listItem));b._legend=d;b.notifyChange("className");b.notifyChange("title");c=h.init(b,["listItem.view","listItem.layer"],function(){return b._updateLegend(d)});a.add(c,"legends");b.scheduleRender()})};g.prototype._hasLegend=function(a){return"legend"===a?!0:Array.isArray(a)?a.some(function(b){return"legend"===
b}):!1};g.prototype._attachToNode=function(a){a.appendChild(this)};g.prototype._updateLegend=function(a){var b=this.listItem;if(b){var c=b.layer;a.view=b.view;a.layerInfos=[{layer:c,title:null}];this.scheduleRender()}};g.prototype._getWidget=function(a){return"legend"===a?this._legend:k.isWidget(a)?a:null};g.prototype._getFirstWidget=function(){var a=this,b=this.content;if(Array.isArray(b)){var c=null;b.some(function(b){(b=a._getWidget(b))&&(c=b);return!!b});return c}return this._getWidget(b)};a([f.property({dependsOn:["content",
"image"]})],g.prototype,"className",null);a([f.property(),k.renderable()],g.prototype,"content",void 0);a([f.property()],g.prototype,"image",void 0);a([f.property()],g.prototype,"listItem",void 0);a([f.property({dependsOn:["content"]})],g.prototype,"title",null);a([f.property(),k.renderable()],g.prototype,"open",void 0);a([f.property()],g.prototype,"visible",void 0);return g=a([f.subclass("esri.widgets.LayerList.ListItemPanel")],g)}(f.declared(g,d.Identifiable))})},"esri/widgets/LayerList/support/layerListUtils":function(){define(["require",
"exports"],function(r,t){function n(a){if(a)return a.hasOwnProperty("listMode")?a.listMode:void 0}function a(a){if(a)return a.hasOwnProperty("minScale")?a.minScale:void 0}function p(a){if(a)return a.hasOwnProperty("maxScale")?a.maxScale:void 0}Object.defineProperty(t,"__esModule",{value:!0});t.findLayerListMode=n;t.findLayerMinScale=a;t.findLayerMaxScale=p;t.findLayerVisibilityMode=function(a){if(!a)return"inherited";var d=a.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"===
typeof d)return d?"independent":"inherited";d=a.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"===typeof d?d?"independent":"inherited":a.hasOwnProperty("visibilityMode")?a.visibilityMode:"independent"};t.getNormalizedChildLayerProperty=function(a){if(a&&"hide-children"!==a.listMode&&"wmts"!==a.type)return"group"===a.type?"layers":"sublayers"};t.canDisplayLayer=function(a){return"hide"!==n(a)};t.isLayerOutsideScaleRange=function(d,q){if(!d||isNaN(q))return!1;var h=a(d);d=p(d);
h=!isNaN(h)&&0<h&&q>=h;q=!isNaN(d)&&0<d&&q<=d;return h||q}})},"widgets/LayerList/LayerItem":function(){define("dojo/_base/html dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./LayerItem.html dojo/_base/lang jimu/dijit/CheckBox".split(" "),function(r,t,n,a,p,d,q){return t([n,a,p],{templateString:d,sceneView:null,layer:null,baseClass:"jimu-widget-layeritem",nls:null,postCreate:function(){this.inherited(arguments);this.cbx.onChange=q.hitch(this,this._onCbxChanged);
this.own(this.layer.watch("title",q.hitch(this,function(){this._updateTitleUI()})));this.own(this.layer.watch("visible",q.hitch(this,function(){this._updateVisibilityUI()})));this.layer.when(q.hitch(this,function(){this.domNode&&(this._updateTitleUI(),this._updateVisibilityUI())}),q.hitch(this,function(a){console.error(a);this.domNode&&r.addClass(this.domNode,"not-loaded")}));this._updateTitleUI()},_onClickSelf:function(a){a=a.target;a===this.cbx.domNode||r.isDescendant(a,this.cbx.domNode)||this.cbx.setValue(!this.cbx.getValue())},
_updateTitleUI:function(){this.cbx.setLabel(this.layer.title||this.layer.name||this.layer.mapName||"")},_updateVisibilityUI:function(){var a=this.layer.get("visible");a!==this.cbx.getValue()&&this.cbx.setValue(a);this.domNode.title=a?this.nls.hide:this.nls.show},_onCbxChanged:function(){this.cbx.getValue()!==this.layer.get("visible")&&this.layer.set("visible",this.cbx.getValue())},_onBtnZoomClicked:function(a){a.stopPropagation();if(a=this.layer.extent||this.layer.fullExtent)a=a.expand(1.2),this.sceneView.goTo(a)},
destroy:function(){this.layer=this.sceneView=null;this.inherited(arguments)}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(r,t,n,a,p){return n("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var d=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=
!0);p.parse(d,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(a.hitch(this,function(a){this._startupWidgets=a;for(var d=0;d<a.length;d++)this._processTemplateNode(a[d],function(a,d){return a[d]},function(a,d,k){return d in a?a.connect(a,d,k):a.on(d,k,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+
": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(a,n,h){return n(a,"dojoType")||n(a,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){r.forEach(this._startupWidgets,function(a){a&&!a._started&&a.startup&&a.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"jimu/dijit/CheckBox":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/_base/html dojo/dom-class dojo/on dojo/Evented dojo/keys".split(" "),
function(r,t,n,a,p,d,q,h){return r([t,q],{baseClass:"jimu-checkbox",declaredClass:"jimu.dijit.CheckBox",checked:!1,status:!0,label:"",postCreate:function(){this.checkNode=a.create("div",{"class":"checkbox jimu-float-leading"},this.domNode);this.labelNode=a.create("div",{"class":"label jimu-float-leading",innerHTML:this.label||""},this.domNode);this.checked&&a.addClass(this.checkNode,"checked");this.status||a.addClass(this.domNode,"jimu-state-disabled");this.own(d(this.checkNode,"click",n.hitch(this,
function(){this.status&&(this.checked?this.uncheck():this.check())})));this.own(d(this.labelNode,"click",n.hitch(this,function(){this.checked&&this.status?this.uncheck():this.status&&this.check()})));this._udpateLabelClass();this._initSection508()},setLabel:function(a){this.label=a||"";this.labelNode.innerHTML=this.label;this._udpateLabelClass()},getLabel:function(){return this.label||""},_udpateLabelClass:function(){this.labelNode&&(this.labelNode.innerHTML?a.removeClass(this.labelNode,"not-visible"):
a.addClass(this.labelNode,"not-visible"))},_initSection508:function(){"undefined"!==typeof this.tabindex&&(a.setAttr(this.checkNode,"tabindex",this.tabindex),this.own(d(this.checkNode,"focus",n.hitch(this,function(){a.addClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(d(this.checkNode,"blur",n.hitch(this,function(){a.removeClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(d(this.checkNode,"keypress",n.hitch(this,function(d){d=d.charCode||d.keyCode;a.hasClass(this.checkNode,"dijitCheckBoxFocused")&&
h.SPACE===d&&this.status&&(this.checked?this.uncheck():this.check())}))))},setValue:function(a){this.status&&(!0===a?this.check():this.uncheck())},getValue:function(){return this.checked},setStatus:function(a){a=!!a;var d=this.status!==a;(this.status=a)?p.remove(this.domNode,"jimu-state-disabled"):p.add(this.domNode,"jimu-state-disabled");d&&this.emit("status-change",a)},getStatus:function(){return this.status},check:function(){this.status&&(this.checked=!0,a.addClass(this.checkNode,"checked"),this.onStateChange())},
uncheck:function(d){if(this.status&&(this.checked=!1,a.removeClass(this.checkNode,"checked"),!d))this.onStateChange()},onStateChange:function(){if(this.onChange&&n.isFunction(this.onChange))this.onChange(this.checked);this.emit("change",this.checked)},focus:function(){this.checkNode&&this.checkNode.focus&&this.checkNode.focus()}})})},"widgets/LayerList/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/LayerList/LayerItem.html":'\x3cdiv data-dojo-attach-event\x3d"click:_onClickSelf"\x3e\r\n\t\x3ctable class\x3d"layeritem-table"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"50"\x3e\x3c/col\x3e\r\n\t    \x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"cbx" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esri-icon-zoom-out-fixed jimu-float-trailing" title\x3d"${nls.fullExtentTip}" data-dojo-attach-event\x3d"onclick:_onBtnZoomClicked"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/Widget.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"dijit-container" data-dojo-attach-point\x3d"dijitDiv"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"elevation-layers-container" data-dojo-attach-point\x3d"elevationLayersContainer"\x3e\r\n    \x3cdiv class\x3d"ground-tip hidden" data-dojo-attach-point\x3d"groundTip"\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv\x3e\r\n        \x3cspan\x3e${nls.ground}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/css/style.css":'.jimu-widget-layerlist{}.jimu-widget-layerlist .dijit-container{width: 100%;}.jimu-widget-layerlist .hidden{display: none !important;}.jimu-widget-layerlist .esri-layer-list__list--root{overflow-x: hidden; padding-bottom: 40px;}.jimu-widget-layerlist .esri-layer-list{max-height: initial; background: transparent; padding: 0;}.jimu-widget-layerlist .esri-layer-list__item{background: inherit; max-height: 100%; overflow: visible; padding: 0; margin-left: 15px;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item{margin-left: 0; margin-right: 15px;}.jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{position: absolute; right: -5px; width: 200px; top: 30px; z-index: 2;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{left: -5px; right: auto;}.jimu-widget-layerlist .esri-layer-list__item.esri-layer-list__item--has-children{margin-left: 0; margin-right: 0;}.jimu-widget-layerlist .esri-layer-list__list--root \x3e .esri-layer-list__item{margin-left: 0 !important; margin-right: 0 !important;}.jimu-widget-layerlist .esri-layer-list__item:before{display: none;}.jimu-widget-layerlist .esri-layer-list__item:after{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container .esri-icon-zoom-out-fixed{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .esri-layer-list__item-container{padding: 9px 0; border-bottom: none;}.jimu-widget-layerlist .dijit-container \x3e ul.esri-layer-list__list--root \x3e .esri-layer-list__item:first-child{}.jimu-widget-layerlist .esri-layer-list__item-toggle{width: 16px; height: 16px;}.jimu-widget-layerlist .esri-icon-visible{display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checked_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-visible:before{content: "";}.jimu-widget-layerlist .esri-icon-non-visible{display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checkbox_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-non-visible:before{content: "";}.jimu-widget-layerlist .jimu-widget-layeritem{cursor: pointer;}.jimu-widget-layerlist .jimu-widget-layeritem.not-loaded{display: none;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table{width: 100%; table-layout: fixed; border-collapse: collapse;}.jimu-widget-layerlist .jimu-widget-layeritem .esri-icon-zoom-out-fixed{font-size: 14px; cursor: pointer; display: none;}.jimu-widget-layerlist .jimu-widget-layeritem:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table td{padding: 5px 0;}.jimu-widget-layerlist .jimu-widget-layeritem .jimu-checkbox .label{cursor: pointer;}.jimu-widget-layerlist .elevation-layers-container{position: relative; top: -30px;}.jimu-widget-layerlist .ground-tip{position: relative; height: 24px; margin-top: 5px;}.jimu-widget-layerlist .ground-tip \x3e *{position: absolute; width: 100%;}.jimu-widget-layerlist .ground-tip \x3e div{text-align: center;}.jimu-widget-layerlist .ground-tip span{display: inline-block; max-width: 90%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; background-color: white; padding: 0 4px;}html[dir\x3d"rtl"] .jimu-widget-layerlist .esri-layer-list__child-toggle.esri-layer-list__child-toggle--open \x3e .esri-layer-list__child-toggle-icon--closed-rtl.esri-icon-left-triangle-arrow{display: none;}',
"*now":function(r){r(['dojo/i18n!*preload*widgets/LayerList/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","vi","uk","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/on dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/html jimu/BaseWidget esri/widgets/LayerList dojo/i18n!esri/nls/common ./LayerItem".split(" "),function(r,t,n,a,p,d,q,h,f){return n([d],{name:"LayerList",baseClass:"jimu-widget-layerlist",_elevationLayerItems:null,postCreate:function(){this.inherited(arguments);this._elevationLayerItems=[];this.nls.hide=h.visibility.hide;this.nls.show=h.visibility.show;this.layerList=new q({view:this.sceneView,container:this.dijitDiv,listItemCreatedFunction:a.hitch(this,
this._defineActions)});this.own(this.layerList.on("trigger-action",a.hitch(this,this._onTriggerAction)));this.own(r(this.sceneView.map.ground.layers,"change",a.hitch(this,this._updateElevationLayers)));this.own(r(this.sceneView.map.allLayers,"change",a.hitch(this,this._updateGroudTip)));this._updateElevationLayers()},onOpen:function(){this._updateGroudTip()},_updateGroudTip:function(){setTimeout(a.hitch(this,function(){10<this.dijitDiv.clientHeight?p.removeClass(this.groundTip,"hidden"):p.addClass(this.groundTip,
"hidden")}),1E3)},_updateElevationLayers:function(){this._destroyAllElevationLayerItems();for(var a=this.sceneView.map.ground.layers,d=0,f=a.get("length")-1;0<=f;f--){var h=a.getItemAt(f);"hide"!==h.listMode&&(this._addElevationLayerItem(h),d++)}0===d?p.addClass(this.elevationLayersContainer,"hidden"):p.removeClass(this.elevationLayersContainer,"hidden")},_addElevationLayerItem:function(a){a=new f({layer:a,sceneView:this.sceneView,nls:this.nls});this._elevationLayerItems.push(a);a.placeAt(this.elevationLayersContainer)},
_destroyAllElevationLayerItems:function(){t.forEach(this._elevationLayerItems,a.hitch(this,function(a){a.destroy()}));this._elevationLayerItems=[]},_createActionsFunction:function(a){var d=[];a.item.layer&&(d=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]);return d},_defineActions:function(a){a=a.item;a.layer.title?a.actionsSections=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]:(this.layerList.operationalItems.remove(a),
a.destroy())},_onTriggerAction:function(a){var d=a.item.layer;if(d)switch(a.action.id){case "full-extent":(a=d.fullExtent||d.extent)&&this.sceneView.goTo(a)}},destroy:function(){this.layerList&&(this.layerList.destroy(),this.layerList=null);this._destroyAllElevationLayerItems();this.inherited(arguments)}})});