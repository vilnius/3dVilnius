//>>built
define(["require","exports","esri/views/3d/webgl-engine/lib/Util"],function(l,m,k){function h(c){switch(c){case 5126:return 4;case 5120:case 5121:return 1;default:return 2}}var g=k.assert;return function(){function c(e,a,f){this.stride=0;this.attributes={};this.attrNames=e;this.attrSizes=a;this.attrTypes=f;this.init()}return c.prototype.init=function(){var e=this.attrNames.length;if(g(this.attrSizes.length===e),this.attrTypes)g(this.attrTypes.length===e);else{this.attrTypes=Array(this.attrNames.length);
for(var a=0;a<this.attrTypes.length;a++)this.attrTypes[a]=5126}for(a=0;a<e;a++){var f={offset:this.stride,size:this.attrSizes[a],type:this.attrTypes[a]};g(0===f.size*h(this.attrTypes[a])%4,"attribute byte length must be a multiple of 4");this.stride+=this.attrSizes[a]*h(this.attrTypes[a])/4;this.attributes[this.attrNames[a]]=f}},c.prototype.getStride=function(){return this.stride},c.prototype.getAttributes=function(){return this.attributes},c.prototype.hasAttribute=function(e){return e in this.attributes},
c.prototype.enableVertexAttribArrays=function(e,a){for(var f=0;f<this.attrNames.length;++f){var b=this.attrNames[f],d=this.attributes[b],b=a.getAttribLocation(b);if(-1<b)if(16===d.size)for(d=0;4>d;d++)e.enableVertexAttribArray(b+d);else e.enableVertexAttribArray(b)}},c.prototype.disableVertexAttribArrays=function(e,a){for(var f=0;f<this.attrNames.length;++f){var b=this.attrNames[f],d=this.attributes[b],b=a.getAttribLocation(b);if(-1<b)if(16===d.size)for(d=0;4>d;d++)e.disableVertexAttribArray(b+d);
else e.disableVertexAttribArray(b)}},c.prototype.setVertexAttribPointers=function(e,a){for(var f=0;f<this.attrNames.length;++f){var b=this.attrNames[f],d=this.attributes[b],c=d.size,g=4*d.offset,d=d.type,b=a.getAttribLocation(b);if(-1<b)if(16===c)for(c=0;4>c;c++)e.vertexAttribPointer(b+c,4,d,!1,4*this.stride,g+16*c);else e.vertexAttribPointer(b,c,d,!1,4*this.stride,g)}},c}()});