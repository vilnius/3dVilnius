// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/html dijit/_WidgetBase dojo/Evented dojo/on dojo/query jimu/MapManager".split(" "),function(f,g,c,b,h,k,d,e,l){return f([h,k],{popup:null,popupMobile:null,buttonInfo:null,_buttons:null,constructor:function(){this.buttonDomNodes=[];var a=l.getInstance().getMapInfoWindow();this.popup=a.bigScreen;this.popupMobile=a.mobile},postCreate:function(){this.inherited(arguments);this.buttonInfo&&this._addButtonNode()},_addButtonNode:function(){this._addButtonNodeToPopup();
this._addButtonNodeToPopupMobile()},_addButtonNodeToPopup:function(){var a=e(".actionList",this.popup.domNode)[0],a=b.create("a",{"class":"action "+this.buttonInfo.baseClass,href:" javascript:void(0);"},a);this.buttonDomNodes.push(a);this.popupButtonNode=b.create("span",{innerHTML:this.buttonInfo.title,style:"display: none"},a);this.own(d(this.popupButtonNode,"click",c.hitch(this,this._onButtonClick)));this.own(d(this.popup,"selection-change",c.hitch(this,this._onSelectionChange,this.popup)))},_addButtonNodeToPopupMobile:function(){var a=
e(".esriMobilePopupInfoView .esriMobileInfoViewItem"),a=b.create("a",{"class":"action "+this.buttonInfo.baseClass,href:" javascript:void(0);"},a[a.length-1]);this.buttonDomNodes.push(a);this.popupMobileButtonNode=b.create("span",{innerHTML:this.buttonInfo.title,style:"display: none"},a);this.own(d(this.popupMobileButtonNode,"click",c.hitch(this,this._onButtonClick)));this.own(d(this.popupMobile,"selection-change",c.hitch(this,this._onSelectionChange,this.popupMobile)))},enableButtonNode:function(){b.setStyle(this.popupButtonNode,
"display","inline");b.setStyle(this.popupMobileButtonNode,"display","inline")},disableButtonNode:function(){b.setStyle(this.popupButtonNode,"display","none");b.setStyle(this.popupMobileButtonNode,"display","none")},_onButtonClick:function(){this.emit("buttonClick",this._selectedFeature)},_onSelectionChange:function(a,b){-1<b.target.selectedIndex&&(this._selectedFeature=a.getSelectedFeature(),this.emit("selectionChange",this._selectedFeature))},destroy:function(){g.forEach(this.buttonDomNodes,function(a){b.destroy(a)},
this);this.inherited(arguments)}})});